   1               		.file	"basic_rf.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__tmp_reg__ = 0
   6               	__zero_reg__ = 1
   7               		.global __do_copy_data
   8               		.global __do_clear_bss
  11               		.text
  12               	.Ltext0:
 127               	.global	set_rf_rx_callback
 129               	set_rf_rx_callback:
 130               		.stabd	46,0,0
   1:../../src/radio/cc2420/source/basic_rf.c **** /******************************************************************************
   2:../../src/radio/cc2420/source/basic_rf.c **** *  Nano-RK, a real-time operating system for sensor networks.
   3:../../src/radio/cc2420/source/basic_rf.c **** *  Copyright (C) 2007, Real-Time and Multimedia Lab, Carnegie Mellon University
   4:../../src/radio/cc2420/source/basic_rf.c **** *  All rights reserved.
   5:../../src/radio/cc2420/source/basic_rf.c **** *
   6:../../src/radio/cc2420/source/basic_rf.c **** *  This is the Open Source Version of Nano-RK included as part of a Dual
   7:../../src/radio/cc2420/source/basic_rf.c **** *  Licensing Model. If you are unsure which license to use please refer to:
   8:../../src/radio/cc2420/source/basic_rf.c **** *  http://www.nanork.org/nano-RK/wiki/Licensing
   9:../../src/radio/cc2420/source/basic_rf.c **** *
  10:../../src/radio/cc2420/source/basic_rf.c **** *  This program is free software: you can redistribute it and/or modify
  11:../../src/radio/cc2420/source/basic_rf.c **** *  it under the terms of the GNU General Public License as published by
  12:../../src/radio/cc2420/source/basic_rf.c **** *  the Free Software Foundation, version 2.0 of the License.
  13:../../src/radio/cc2420/source/basic_rf.c **** *
  14:../../src/radio/cc2420/source/basic_rf.c **** *  This program is distributed in the hope that it will be useful,
  15:../../src/radio/cc2420/source/basic_rf.c **** *  but WITHOUT ANY WARRANTY; without even the implied warranty of
  16:../../src/radio/cc2420/source/basic_rf.c **** *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  17:../../src/radio/cc2420/source/basic_rf.c **** *  GNU General Public License for more details.
  18:../../src/radio/cc2420/source/basic_rf.c **** *
  19:../../src/radio/cc2420/source/basic_rf.c **** *  You should have received a copy of the GNU General Public License
  20:../../src/radio/cc2420/source/basic_rf.c **** *  along with this program.  If not, see <http://www.gnu.org/licenses/>.
  21:../../src/radio/cc2420/source/basic_rf.c **** *
  22:../../src/radio/cc2420/source/basic_rf.c **** *  Contributing Authors (specific to this file):
  23:../../src/radio/cc2420/source/basic_rf.c **** *  Chipcon Development Team
  24:../../src/radio/cc2420/source/basic_rf.c **** *  Anthony Rowe
  25:../../src/radio/cc2420/source/basic_rf.c **** *  Nuno Pereira
  26:../../src/radio/cc2420/source/basic_rf.c **** *  Bach Bui 
  27:../../src/radio/cc2420/source/basic_rf.c **** *******************************************************************************/
  28:../../src/radio/cc2420/source/basic_rf.c **** 
  29:../../src/radio/cc2420/source/basic_rf.c **** #include <include.h>
  30:../../src/radio/cc2420/source/basic_rf.c **** #include <basic_rf.h>
  31:../../src/radio/cc2420/source/basic_rf.c **** #include <ulib.h>
  32:../../src/radio/cc2420/source/basic_rf.c **** #include <nrk.h>
  33:../../src/radio/cc2420/source/basic_rf.c **** #include <nrk_events.h>
  34:../../src/radio/cc2420/source/basic_rf.c **** #include <nrk_error.h>
  35:../../src/radio/cc2420/source/basic_rf.c **** #include <nrk_timer.h>
  36:../../src/radio/cc2420/source/basic_rf.c **** #include <nrk_cpu.h>
  37:../../src/radio/cc2420/source/basic_rf.c **** 
  38:../../src/radio/cc2420/source/basic_rf.c **** #define OSC_STARTUP_DELAY	1000
  39:../../src/radio/cc2420/source/basic_rf.c **** 
  40:../../src/radio/cc2420/source/basic_rf.c **** RF_RX_INFO* (*_rf_rx_callback)(RF_RX_INFO *) = NULL;
  41:../../src/radio/cc2420/source/basic_rf.c **** 
  42:../../src/radio/cc2420/source/basic_rf.c **** void set_rf_rx_callback(RF_RX_INFO* (*callback)(RF_RX_INFO *)){
 132               	.LM0:
 133               	.LFBB1:
 134               	/* prologue: frame size=0 */
 135               	/* prologue end (size=0) */
  43:../../src/radio/cc2420/source/basic_rf.c **** 	_rf_rx_callback = callback;
 137               	.LM1:
 138 0000 9093 0000 		sts (_rf_rx_callback)+1,r25
 139 0004 8093 0000 		sts _rf_rx_callback,r24
 140               	/* epilogue: frame size=0 */
 141 0008 0895      		ret
 142               	/* epilogue end (size=1) */
 143               	/* function set_rf_rx_callback size 5 (4) */
 145               	.Lscope1:
 147               		.stabd	78,0,0
 149               	.global	rf_power_down
 151               	rf_power_down:
 152               		.stabd	46,0,0
  44:../../src/radio/cc2420/source/basic_rf.c **** }
  45:../../src/radio/cc2420/source/basic_rf.c **** 
  46:../../src/radio/cc2420/source/basic_rf.c **** void cc259x_rx()
  47:../../src/radio/cc2420/source/basic_rf.c **** {
  48:../../src/radio/cc2420/source/basic_rf.c ****     nrk_gpio_set(NRK_DEBUG_1);
  49:../../src/radio/cc2420/source/basic_rf.c ****     nrk_gpio_clr(NRK_DEBUG_0);
  50:../../src/radio/cc2420/source/basic_rf.c **** }
  51:../../src/radio/cc2420/source/basic_rf.c **** 
  52:../../src/radio/cc2420/source/basic_rf.c **** 
  53:../../src/radio/cc2420/source/basic_rf.c **** void cc259x_tx()
  54:../../src/radio/cc2420/source/basic_rf.c **** {
  55:../../src/radio/cc2420/source/basic_rf.c ****     nrk_gpio_set(NRK_DEBUG_1);
  56:../../src/radio/cc2420/source/basic_rf.c ****     nrk_gpio_set(NRK_DEBUG_0);
  57:../../src/radio/cc2420/source/basic_rf.c **** }
  58:../../src/radio/cc2420/source/basic_rf.c **** 
  59:../../src/radio/cc2420/source/basic_rf.c **** 
  60:../../src/radio/cc2420/source/basic_rf.c **** //#ifndef RADIO_PRIORITY_CEILING
  61:../../src/radio/cc2420/source/basic_rf.c **** //  #define RADIO_PRIORITY_CEILING	20
  62:../../src/radio/cc2420/source/basic_rf.c **** //#endif
  63:../../src/radio/cc2420/source/basic_rf.c **** 
  64:../../src/radio/cc2420/source/basic_rf.c **** nrk_sem_t *radio_sem;
  65:../../src/radio/cc2420/source/basic_rf.c **** uint8_t auto_ack_enable;
  66:../../src/radio/cc2420/source/basic_rf.c **** uint8_t security_enable;
  67:../../src/radio/cc2420/source/basic_rf.c **** uint8_t last_pkt_encrypted;
  68:../../src/radio/cc2420/source/basic_rf.c **** uint16_t mdmctrl0;
  69:../../src/radio/cc2420/source/basic_rf.c **** uint8_t tx_ctr[4];
  70:../../src/radio/cc2420/source/basic_rf.c **** uint8_t rx_ctr[4];
  71:../../src/radio/cc2420/source/basic_rf.c **** 
  72:../../src/radio/cc2420/source/basic_rf.c **** void rf_power_down()
  73:../../src/radio/cc2420/source/basic_rf.c **** {
 154               	.LM2:
 155               	.LFBB2:
 156               	/* prologue: frame size=0 */
 157               	/* prologue end (size=0) */
  74:../../src/radio/cc2420/source/basic_rf.c ****     DISABLE_GLOBAL_INT();
 159               	.LM3:
 160               	/* #APP */
 161 000a F894      		cli
 162               		
  75:../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SXOSCOFF);
 164               	.LM4:
 165               	/* #NOAPP */
 166 000c 4098      		cbi 40-0x20,0
 167 000e 87E0      		ldi r24,lo8(7)
 168 0010 8EBD      		out 78-0x20,r24
 169               	.L4:
 171               	.LM5:
 172 0012 0DB4      		in __tmp_reg__,77-0x20
 173 0014 07FE      		sbrs __tmp_reg__,7
 174 0016 00C0      		rjmp .L4
 175 0018 409A      		sbi 40-0x20,0
  76:../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SRFOFF);  // shut off radio
 177               	.LM6:
 178 001a 4098      		cbi 40-0x20,0
 179 001c 86E0      		ldi r24,lo8(6)
 180 001e 8EBD      		out 78-0x20,r24
 181               	.L6:
 182 0020 0DB4      		in __tmp_reg__,77-0x20
 183 0022 07FE      		sbrs __tmp_reg__,7
 184 0024 00C0      		rjmp .L6
 185 0026 409A      		sbi 40-0x20,0
  77:../../src/radio/cc2420/source/basic_rf.c ****     ENABLE_GLOBAL_INT();
 187               	.LM7:
 188               	/* #APP */
 189 0028 7894      		sei
 190               		
 191               	/* #NOAPP */
 192               	/* epilogue: frame size=0 */
 193 002a 0895      		ret
 194               	/* epilogue end (size=1) */
 195               	/* function rf_power_down size 23 (22) */
 197               	.Lscope2:
 199               		.stabd	78,0,0
 201               	.global	rf_security_last_pkt_status
 203               	rf_security_last_pkt_status:
 204               		.stabd	46,0,0
  78:../../src/radio/cc2420/source/basic_rf.c **** }
  79:../../src/radio/cc2420/source/basic_rf.c **** 
  80:../../src/radio/cc2420/source/basic_rf.c **** void rf_power_up()
  81:../../src/radio/cc2420/source/basic_rf.c **** {
  82:../../src/radio/cc2420/source/basic_rf.c **** 
  83:../../src/radio/cc2420/source/basic_rf.c ****     DISABLE_GLOBAL_INT();
  84:../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SXOSCON);
  85:../../src/radio/cc2420/source/basic_rf.c ****     nrk_spin_wait_us(OSC_STARTUP_DELAY);
  86:../../src/radio/cc2420/source/basic_rf.c ****     ENABLE_GLOBAL_INT();
  87:../../src/radio/cc2420/source/basic_rf.c **** 
  88:../../src/radio/cc2420/source/basic_rf.c **** }
  89:../../src/radio/cc2420/source/basic_rf.c **** 
  90:../../src/radio/cc2420/source/basic_rf.c **** 
  91:../../src/radio/cc2420/source/basic_rf.c **** // Returns 1 if the last packet was encrypted, 0 otherwise
  92:../../src/radio/cc2420/source/basic_rf.c **** uint8_t rf_security_last_pkt_status()
  93:../../src/radio/cc2420/source/basic_rf.c **** {
 206               	.LM8:
 207               	.LFBB3:
 208               	/* prologue: frame size=0 */
 209               	/* prologue end (size=0) */
 210 002c 8091 0000 		lds r24,last_pkt_encrypted
  94:../../src/radio/cc2420/source/basic_rf.c **** return last_pkt_encrypted;
  95:../../src/radio/cc2420/source/basic_rf.c **** }
 212               	.LM9:
 213 0030 9927      		clr r25
 214               	/* epilogue: frame size=0 */
 215 0032 0895      		ret
 216               	/* epilogue end (size=1) */
 217               	/* function rf_security_last_pkt_status size 4 (3) */
 219               	.Lscope3:
 221               		.stabd	78,0,0
 224               	.global	rf_security_set_ctr_counter
 226               	rf_security_set_ctr_counter:
 227               		.stabd	46,0,0
  96:../../src/radio/cc2420/source/basic_rf.c **** 
  97:../../src/radio/cc2420/source/basic_rf.c **** 
  98:../../src/radio/cc2420/source/basic_rf.c **** void rf_security_set_ctr_counter(uint8_t *counter)
  99:../../src/radio/cc2420/source/basic_rf.c **** {
 229               	.LM10:
 230               	.LFBB4:
 231               	/* prologue: frame size=0 */
 232 0034 CF93      		push r28
 233 0036 DF93      		push r29
 234               	/* prologue end (size=2) */
 235 0038 DC01      		movw r26,r24
 100:../../src/radio/cc2420/source/basic_rf.c **** uint8_t n;
 101:../../src/radio/cc2420/source/basic_rf.c **** // CTR counter value
 102:../../src/radio/cc2420/source/basic_rf.c **** FASTSPI_WRITE_RAM(&counter[0],(CC2420RAM_TXNONCE+9),2,n); 
 237               	.LM11:
 238 003a 4098      		cbi 40-0x20,0
 239 003c 89EC      		ldi r24,lo8(-55)
 240 003e 8EBD      		out 78-0x20,r24
 241               	.L16:
 243               	.LM12:
 244 0040 0DB4      		in __tmp_reg__,77-0x20
 245 0042 07FE      		sbrs __tmp_reg__,7
 246 0044 00C0      		rjmp .L16
 247 0046 80E8      		ldi r24,lo8(-128)
 248 0048 8EBD      		out 78-0x20,r24
 249               	.L18:
 250 004a 0DB4      		in __tmp_reg__,77-0x20
 251 004c 07FE      		sbrs __tmp_reg__,7
 252 004e 00C0      		rjmp .L18
 253 0050 92E0      		ldi r25,lo8(2)
 254               	.L20:
 255 0052 9150      		subi r25,lo8(-(-1))
 256 0054 FD01      		movw r30,r26
 257 0056 E90F      		add r30,r25
 258 0058 F11D      		adc r31,__zero_reg__
 259 005a 8081      		ld r24,Z
 260 005c 8EBD      		out 78-0x20,r24
 261               	.L21:
 262 005e 0DB4      		in __tmp_reg__,77-0x20
 263 0060 07FE      		sbrs __tmp_reg__,7
 264 0062 00C0      		rjmp .L21
 265 0064 9923      		tst r25
 266 0066 01F4      		brne .L20
 267 0068 409A      		sbi 40-0x20,0
 103:../../src/radio/cc2420/source/basic_rf.c **** FASTSPI_WRITE_RAM(&counter[2],(CC2420RAM_TXNONCE+11),2,n); 
 269               	.LM13:
 270 006a 4098      		cbi 40-0x20,0
 271 006c 8BEC      		ldi r24,lo8(-53)
 272 006e 8EBD      		out 78-0x20,r24
 273               	.L24:
 274 0070 0DB4      		in __tmp_reg__,77-0x20
 275 0072 07FE      		sbrs __tmp_reg__,7
 276 0074 00C0      		rjmp .L24
 277 0076 80E8      		ldi r24,lo8(-128)
 278 0078 8EBD      		out 78-0x20,r24
 279               	.L26:
 280 007a 0DB4      		in __tmp_reg__,77-0x20
 281 007c 07FE      		sbrs __tmp_reg__,7
 282 007e 00C0      		rjmp .L26
 283 0080 92E0      		ldi r25,lo8(2)
 284 0082 9D01      		movw r18,r26
 285 0084 2E5F      		subi r18,lo8(-(2))
 286 0086 3F4F      		sbci r19,hi8(-(2))
 287               	.L28:
 288 0088 E901      		movw r28,r18
 289 008a 9150      		subi r25,lo8(-(-1))
 290 008c F901      		movw r30,r18
 291 008e E90F      		add r30,r25
 292 0090 F11D      		adc r31,__zero_reg__
 293 0092 8081      		ld r24,Z
 294 0094 8EBD      		out 78-0x20,r24
 295               	.L29:
 296 0096 0DB4      		in __tmp_reg__,77-0x20
 297 0098 07FE      		sbrs __tmp_reg__,7
 298 009a 00C0      		rjmp .L29
 299 009c 9923      		tst r25
 300 009e 01F4      		brne .L28
 301 00a0 409A      		sbi 40-0x20,0
 104:../../src/radio/cc2420/source/basic_rf.c **** tx_ctr[0]=counter[0];
 303               	.LM14:
 304 00a2 8C91      		ld r24,X
 305 00a4 8093 0000 		sts tx_ctr,r24
 105:../../src/radio/cc2420/source/basic_rf.c **** tx_ctr[1]=counter[1];
 307               	.LM15:
 308 00a8 FD01      		movw r30,r26
 309 00aa 8181      		ldd r24,Z+1
 310 00ac 8093 0000 		sts tx_ctr+1,r24
 106:../../src/radio/cc2420/source/basic_rf.c **** tx_ctr[2]=counter[2];
 312               	.LM16:
 313 00b0 8881      		ld r24,Y
 314 00b2 8093 0000 		sts tx_ctr+2,r24
 107:../../src/radio/cc2420/source/basic_rf.c **** tx_ctr[3]=counter[3];
 316               	.LM17:
 317 00b6 8381      		ldd r24,Z+3
 318 00b8 8093 0000 		sts tx_ctr+3,r24
 319               	/* epilogue: frame size=0 */
 320 00bc DF91      		pop r29
 321 00be CF91      		pop r28
 322 00c0 0895      		ret
 323               	/* epilogue end (size=3) */
 324               	/* function rf_security_set_ctr_counter size 71 (66) */
 329               	.Lscope4:
 331               		.stabd	78,0,0
 334               	.global	rf_security_enable
 336               	rf_security_enable:
 337               		.stabd	46,0,0
 108:../../src/radio/cc2420/source/basic_rf.c **** }
 109:../../src/radio/cc2420/source/basic_rf.c **** 
 110:../../src/radio/cc2420/source/basic_rf.c **** 
 111:../../src/radio/cc2420/source/basic_rf.c **** void rf_security_set_key(uint8_t *key)
 112:../../src/radio/cc2420/source/basic_rf.c **** {
 113:../../src/radio/cc2420/source/basic_rf.c **** uint8_t n,i;
 114:../../src/radio/cc2420/source/basic_rf.c **** uint16_t key_buf;
 115:../../src/radio/cc2420/source/basic_rf.c **** 
 116:../../src/radio/cc2420/source/basic_rf.c **** // Set AES key
 117:../../src/radio/cc2420/source/basic_rf.c **** nrk_spin_wait_us(100); 
 118:../../src/radio/cc2420/source/basic_rf.c **** for(i=0; i<8; i++ )
 119:../../src/radio/cc2420/source/basic_rf.c **** 	{
 120:../../src/radio/cc2420/source/basic_rf.c ****     	key_buf=(key[i]<<8)|key[i+1]; 
 121:../../src/radio/cc2420/source/basic_rf.c ****    	nrk_spin_wait_us(100); 
 122:../../src/radio/cc2420/source/basic_rf.c ****     	FASTSPI_WRITE_RAM_LE(&key_buf,(CC2420RAM_KEY0+(i*2)),2,n); 
 123:../../src/radio/cc2420/source/basic_rf.c **** 	}
 124:../../src/radio/cc2420/source/basic_rf.c **** 
 125:../../src/radio/cc2420/source/basic_rf.c **** // Set AES nonce to all zeros
 126:../../src/radio/cc2420/source/basic_rf.c **** nrk_spin_wait_us(100); 
 127:../../src/radio/cc2420/source/basic_rf.c **** for(i=0; i<7; i++ )
 128:../../src/radio/cc2420/source/basic_rf.c **** 	{
 129:../../src/radio/cc2420/source/basic_rf.c ****     	key_buf=0; 
 130:../../src/radio/cc2420/source/basic_rf.c ****     	FASTSPI_WRITE_RAM_LE(&key_buf,(CC2420RAM_TXNONCE+(i*2)),2,n); 
 131:../../src/radio/cc2420/source/basic_rf.c ****     	FASTSPI_WRITE_RAM_LE(&key_buf,(CC2420RAM_RXNONCE+(i*2)),2,n); 
 132:../../src/radio/cc2420/source/basic_rf.c **** 	}
 133:../../src/radio/cc2420/source/basic_rf.c **** 	// block counter set 1
 134:../../src/radio/cc2420/source/basic_rf.c ****     	key_buf=1; 
 135:../../src/radio/cc2420/source/basic_rf.c ****     	FASTSPI_WRITE_RAM_LE(&key_buf,(CC2420RAM_TXNONCE+14),2,n); 
 136:../../src/radio/cc2420/source/basic_rf.c ****     	FASTSPI_WRITE_RAM_LE(&key_buf,(CC2420RAM_RXNONCE+14),2,n); 
 137:../../src/radio/cc2420/source/basic_rf.c **** }
 138:../../src/radio/cc2420/source/basic_rf.c **** 
 139:../../src/radio/cc2420/source/basic_rf.c **** void rf_security_enable(uint8_t *key)
 140:../../src/radio/cc2420/source/basic_rf.c **** {
 339               	.LM18:
 340               	.LFBB5:
 341               	/* prologue: frame size=0 */
 342               	/* prologue end (size=0) */
 141:../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_SECCTRL0, 0x0306); // Enable CTR encryption with key 0
 344               	.LM19:
 345 00c2 4098      		cbi 40-0x20,0
 346 00c4 89E1      		ldi r24,lo8(25)
 347 00c6 8EBD      		out 78-0x20,r24
 348               	.L50:
 350               	.LM20:
 351 00c8 0DB4      		in __tmp_reg__,77-0x20
 352 00ca 07FE      		sbrs __tmp_reg__,7
 353 00cc 00C0      		rjmp .L50
 354 00ce 83E0      		ldi r24,lo8(3)
 355 00d0 8EBD      		out 78-0x20,r24
 356               	.L52:
 357 00d2 0DB4      		in __tmp_reg__,77-0x20
 358 00d4 07FE      		sbrs __tmp_reg__,7
 359 00d6 00C0      		rjmp .L52
 360 00d8 86E0      		ldi r24,lo8(6)
 361 00da 8EBD      		out 78-0x20,r24
 362               	.L54:
 363 00dc 0DB4      		in __tmp_reg__,77-0x20
 364 00de 07FE      		sbrs __tmp_reg__,7
 365 00e0 00C0      		rjmp .L54
 366 00e2 409A      		sbi 40-0x20,0
 142:../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_SECCTRL1, 0x0e0e); // Encrypt / Decrypt 18 bytes into header
 368               	.LM21:
 369 00e4 4098      		cbi 40-0x20,0
 370 00e6 8AE1      		ldi r24,lo8(26)
 371 00e8 8EBD      		out 78-0x20,r24
 372               	.L56:
 373 00ea 0DB4      		in __tmp_reg__,77-0x20
 374 00ec 07FE      		sbrs __tmp_reg__,7
 375 00ee 00C0      		rjmp .L56
 376 00f0 8EE0      		ldi r24,lo8(14)
 377 00f2 8EBD      		out 78-0x20,r24
 378               	.L58:
 379 00f4 0DB4      		in __tmp_reg__,77-0x20
 380 00f6 07FE      		sbrs __tmp_reg__,7
 381 00f8 00C0      		rjmp .L58
 382 00fa 8EE0      		ldi r24,lo8(14)
 383 00fc 8EBD      		out 78-0x20,r24
 384               	.L60:
 385 00fe 0DB4      		in __tmp_reg__,77-0x20
 386 0100 07FE      		sbrs __tmp_reg__,7
 387 0102 00C0      		rjmp .L60
 388 0104 409A      		sbi 40-0x20,0
 143:../../src/radio/cc2420/source/basic_rf.c **** 
 144:../../src/radio/cc2420/source/basic_rf.c **** security_enable=1;
 390               	.LM22:
 391 0106 81E0      		ldi r24,lo8(1)
 392 0108 8093 0000 		sts security_enable,r24
 393               	/* epilogue: frame size=0 */
 394 010c 0895      		ret
 395               	/* epilogue end (size=1) */
 396               	/* function rf_security_enable size 38 (37) */
 398               	.Lscope5:
 400               		.stabd	78,0,0
 402               	.global	rf_security_disable
 404               	rf_security_disable:
 405               		.stabd	46,0,0
 145:../../src/radio/cc2420/source/basic_rf.c **** }
 146:../../src/radio/cc2420/source/basic_rf.c **** 
 147:../../src/radio/cc2420/source/basic_rf.c **** 
 148:../../src/radio/cc2420/source/basic_rf.c **** 
 149:../../src/radio/cc2420/source/basic_rf.c **** void rf_security_disable()
 150:../../src/radio/cc2420/source/basic_rf.c **** {
 407               	.LM23:
 408               	.LFBB6:
 409               	/* prologue: frame size=0 */
 410               	/* prologue end (size=0) */
 151:../../src/radio/cc2420/source/basic_rf.c ****   FASTSPI_SETREG(CC2420_SECCTRL0, 0x01C4); // Turn off "Security enable"
 412               	.LM24:
 413 010e 4098      		cbi 40-0x20,0
 414 0110 89E1      		ldi r24,lo8(25)
 415 0112 8EBD      		out 78-0x20,r24
 416               	.L76:
 418               	.LM25:
 419 0114 0DB4      		in __tmp_reg__,77-0x20
 420 0116 07FE      		sbrs __tmp_reg__,7
 421 0118 00C0      		rjmp .L76
 422 011a 81E0      		ldi r24,lo8(1)
 423 011c 8EBD      		out 78-0x20,r24
 424               	.L78:
 425 011e 0DB4      		in __tmp_reg__,77-0x20
 426 0120 07FE      		sbrs __tmp_reg__,7
 427 0122 00C0      		rjmp .L78
 428 0124 84EC      		ldi r24,lo8(-60)
 429 0126 8EBD      		out 78-0x20,r24
 430               	.L80:
 431 0128 0DB4      		in __tmp_reg__,77-0x20
 432 012a 07FE      		sbrs __tmp_reg__,7
 433 012c 00C0      		rjmp .L80
 434 012e 409A      		sbi 40-0x20,0
 152:../../src/radio/cc2420/source/basic_rf.c ****   security_enable=0;
 436               	.LM26:
 437 0130 1092 0000 		sts security_enable,__zero_reg__
 438               	/* epilogue: frame size=0 */
 439 0134 0895      		ret
 440               	/* epilogue end (size=1) */
 441               	/* function rf_security_disable size 20 (19) */
 443               	.Lscope6:
 445               		.stabd	78,0,0
 447               	.global	rf_get_sem
 449               	rf_get_sem:
 450               		.stabd	46,0,0
 153:../../src/radio/cc2420/source/basic_rf.c **** }
 154:../../src/radio/cc2420/source/basic_rf.c **** 
 155:../../src/radio/cc2420/source/basic_rf.c **** //-------------------------------------------------------------------------------------------------
 156:../../src/radio/cc2420/source/basic_rf.c **** // The RF settings structure is declared here, since we'll always need halRfInit()
 157:../../src/radio/cc2420/source/basic_rf.c **** volatile RF_SETTINGS rfSettings;
 158:../../src/radio/cc2420/source/basic_rf.c **** volatile uint8_t rx_ready;
 159:../../src/radio/cc2420/source/basic_rf.c **** //-------------------------------------------------------------------------------------------------
 160:../../src/radio/cc2420/source/basic_rf.c **** nrk_sem_t* rf_get_sem()
 161:../../src/radio/cc2420/source/basic_rf.c **** {
 452               	.LM27:
 453               	.LFBB7:
 454               	/* prologue: frame size=0 */
 455               	/* prologue end (size=0) */
 162:../../src/radio/cc2420/source/basic_rf.c **** return radio_sem;
 163:../../src/radio/cc2420/source/basic_rf.c **** }
 457               	.LM28:
 458 0136 8091 0000 		lds r24,radio_sem
 459 013a 9091 0000 		lds r25,(radio_sem)+1
 460               	/* epilogue: frame size=0 */
 461 013e 0895      		ret
 462               	/* epilogue end (size=1) */
 463               	/* function rf_get_sem size 5 (4) */
 465               	.Lscope7:
 467               		.stabd	78,0,0
 470               	.global	rf_tx_power
 472               	rf_tx_power:
 473               		.stabd	46,0,0
 164:../../src/radio/cc2420/source/basic_rf.c **** 
 165:../../src/radio/cc2420/source/basic_rf.c **** void rf_tx_power(uint8_t pwr)
 166:../../src/radio/cc2420/source/basic_rf.c **** {
 475               	.LM29:
 476               	.LFBB8:
 477               	/* prologue: frame size=0 */
 478               	/* prologue end (size=0) */
 167:../../src/radio/cc2420/source/basic_rf.c **** uint16_t tmp;
 168:../../src/radio/cc2420/source/basic_rf.c ****     //tmp=0x5070;
 169:../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 170:../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_pend (radio_sem);
 171:../../src/radio/cc2420/source/basic_rf.c **** #endif
 172:../../src/radio/cc2420/source/basic_rf.c ****     tmp=0xA0E0;
 173:../../src/radio/cc2420/source/basic_rf.c ****     tmp=tmp | (pwr&0x1F);  
 480               	.LM30:
 481 0140 282F      		mov r18,r24
 482 0142 3327      		clr r19
 483 0144 2F71      		andi r18,lo8(31)
 484 0146 3070      		andi r19,hi8(31)
 485 0148 206E      		ori r18,lo8(-24352)
 486 014a 306A      		ori r19,hi8(-24352)
 174:../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_TXCTRL, tmp);   // Set the FIFOP threshold to maximum
 488               	.LM31:
 489 014c 4098      		cbi 40-0x20,0
 490 014e 85E1      		ldi r24,lo8(21)
 491 0150 8EBD      		out 78-0x20,r24
 492               	.L92:
 494               	.LM32:
 495 0152 0DB4      		in __tmp_reg__,77-0x20
 496 0154 07FE      		sbrs __tmp_reg__,7
 497 0156 00C0      		rjmp .L92
 498 0158 832F      		mov r24,r19
 499 015a 9927      		clr r25
 500 015c 8EBD      		out 78-0x20,r24
 501               	.L94:
 502 015e 0DB4      		in __tmp_reg__,77-0x20
 503 0160 07FE      		sbrs __tmp_reg__,7
 504 0162 00C0      		rjmp .L94
 505 0164 2EBD      		out 78-0x20,r18
 506               	.L96:
 507 0166 0DB4      		in __tmp_reg__,77-0x20
 508 0168 07FE      		sbrs __tmp_reg__,7
 509 016a 00C0      		rjmp .L96
 510 016c 409A      		sbi 40-0x20,0
 511               	/* epilogue: frame size=0 */
 512 016e 0895      		ret
 513               	/* epilogue end (size=1) */
 514               	/* function rf_tx_power size 24 (23) */
 519               	.Lscope8:
 521               		.stabd	78,0,0
 523               	.global	rf_addr_decode_enable
 525               	rf_addr_decode_enable:
 526               		.stabd	46,0,0
 175:../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 176:../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_post(radio_sem);
 177:../../src/radio/cc2420/source/basic_rf.c **** #endif
 178:../../src/radio/cc2420/source/basic_rf.c **** }
 179:../../src/radio/cc2420/source/basic_rf.c **** void rf_set_channel( uint8_t channel )
 180:../../src/radio/cc2420/source/basic_rf.c **** {
 181:../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 182:../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_pend (radio_sem);
 183:../../src/radio/cc2420/source/basic_rf.c **** #endif
 184:../../src/radio/cc2420/source/basic_rf.c ****     halRfSetChannel(channel);
 185:../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 186:../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_post(radio_sem);
 187:../../src/radio/cc2420/source/basic_rf.c **** #endif
 188:../../src/radio/cc2420/source/basic_rf.c **** }
 189:../../src/radio/cc2420/source/basic_rf.c **** 
 190:../../src/radio/cc2420/source/basic_rf.c **** 
 191:../../src/radio/cc2420/source/basic_rf.c **** void rf_addr_decode_enable()
 192:../../src/radio/cc2420/source/basic_rf.c **** {
 528               	.LM33:
 529               	.LFBB9:
 530               	/* prologue: frame size=0 */
 531               	/* prologue end (size=0) */
 193:../../src/radio/cc2420/source/basic_rf.c ****     mdmctrl0 |= 0x0800;
 533               	.LM34:
 534 0170 2091 0000 		lds r18,mdmctrl0
 535 0174 3091 0000 		lds r19,(mdmctrl0)+1
 536 0178 3860      		ori r19,hi8(2048)
 537 017a 3093 0000 		sts (mdmctrl0)+1,r19
 538 017e 2093 0000 		sts mdmctrl0,r18
 194:../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_MDMCTRL0, mdmctrl0);
 540               	.LM35:
 541 0182 4098      		cbi 40-0x20,0
 542 0184 81E1      		ldi r24,lo8(17)
 543 0186 8EBD      		out 78-0x20,r24
 544               	.L106:
 546               	.LM36:
 547 0188 0DB4      		in __tmp_reg__,77-0x20
 548 018a 07FE      		sbrs __tmp_reg__,7
 549 018c 00C0      		rjmp .L106
 550 018e 832F      		mov r24,r19
 551 0190 9927      		clr r25
 552 0192 8EBD      		out 78-0x20,r24
 553               	.L108:
 554 0194 0DB4      		in __tmp_reg__,77-0x20
 555 0196 07FE      		sbrs __tmp_reg__,7
 556 0198 00C0      		rjmp .L108
 557 019a 2EBD      		out 78-0x20,r18
 558               	.L110:
 559 019c 0DB4      		in __tmp_reg__,77-0x20
 560 019e 07FE      		sbrs __tmp_reg__,7
 561 01a0 00C0      		rjmp .L110
 562 01a2 409A      		sbi 40-0x20,0
 563               	/* epilogue: frame size=0 */
 564 01a4 0895      		ret
 565               	/* epilogue end (size=1) */
 566               	/* function rf_addr_decode_enable size 27 (26) */
 568               	.Lscope9:
 570               		.stabd	78,0,0
 572               	.global	rf_addr_decode_disable
 574               	rf_addr_decode_disable:
 575               		.stabd	46,0,0
 195:../../src/radio/cc2420/source/basic_rf.c **** }
 196:../../src/radio/cc2420/source/basic_rf.c **** 
 197:../../src/radio/cc2420/source/basic_rf.c **** void rf_addr_decode_disable()
 198:../../src/radio/cc2420/source/basic_rf.c **** {
 577               	.LM37:
 578               	.LFBB10:
 579               	/* prologue: frame size=0 */
 580               	/* prologue end (size=0) */
 199:../../src/radio/cc2420/source/basic_rf.c ****     mdmctrl0 &= (~0x0800);
 582               	.LM38:
 583 01a6 2091 0000 		lds r18,mdmctrl0
 584 01aa 3091 0000 		lds r19,(mdmctrl0)+1
 585 01ae 377F      		andi r19,hi8(-2049)
 586 01b0 3093 0000 		sts (mdmctrl0)+1,r19
 587 01b4 2093 0000 		sts mdmctrl0,r18
 200:../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_MDMCTRL0, mdmctrl0);
 589               	.LM39:
 590 01b8 4098      		cbi 40-0x20,0
 591 01ba 81E1      		ldi r24,lo8(17)
 592 01bc 8EBD      		out 78-0x20,r24
 593               	.L120:
 595               	.LM40:
 596 01be 0DB4      		in __tmp_reg__,77-0x20
 597 01c0 07FE      		sbrs __tmp_reg__,7
 598 01c2 00C0      		rjmp .L120
 599 01c4 832F      		mov r24,r19
 600 01c6 9927      		clr r25
 601 01c8 8EBD      		out 78-0x20,r24
 602               	.L122:
 603 01ca 0DB4      		in __tmp_reg__,77-0x20
 604 01cc 07FE      		sbrs __tmp_reg__,7
 605 01ce 00C0      		rjmp .L122
 606 01d0 2EBD      		out 78-0x20,r18
 607               	.L124:
 608 01d2 0DB4      		in __tmp_reg__,77-0x20
 609 01d4 07FE      		sbrs __tmp_reg__,7
 610 01d6 00C0      		rjmp .L124
 611 01d8 409A      		sbi 40-0x20,0
 612               	/* epilogue: frame size=0 */
 613 01da 0895      		ret
 614               	/* epilogue end (size=1) */
 615               	/* function rf_addr_decode_disable size 28 (27) */
 617               	.Lscope10:
 619               		.stabd	78,0,0
 621               	.global	rf_auto_ack_enable
 623               	rf_auto_ack_enable:
 624               		.stabd	46,0,0
 201:../../src/radio/cc2420/source/basic_rf.c **** }
 202:../../src/radio/cc2420/source/basic_rf.c **** 
 203:../../src/radio/cc2420/source/basic_rf.c **** 
 204:../../src/radio/cc2420/source/basic_rf.c **** void rf_auto_ack_enable()
 205:../../src/radio/cc2420/source/basic_rf.c **** {
 626               	.LM41:
 627               	.LFBB11:
 628               	/* prologue: frame size=0 */
 629               	/* prologue end (size=0) */
 206:../../src/radio/cc2420/source/basic_rf.c ****     auto_ack_enable=1;
 631               	.LM42:
 632 01dc 81E0      		ldi r24,lo8(1)
 633 01de 8093 0000 		sts auto_ack_enable,r24
 207:../../src/radio/cc2420/source/basic_rf.c ****     mdmctrl0 |= 0x0010;
 635               	.LM43:
 636 01e2 2091 0000 		lds r18,mdmctrl0
 637 01e6 3091 0000 		lds r19,(mdmctrl0)+1
 638 01ea 2061      		ori r18,lo8(16)
 639 01ec 3093 0000 		sts (mdmctrl0)+1,r19
 640 01f0 2093 0000 		sts mdmctrl0,r18
 208:../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_MDMCTRL0, mdmctrl0); 
 642               	.LM44:
 643 01f4 4098      		cbi 40-0x20,0
 644 01f6 81E1      		ldi r24,lo8(17)
 645 01f8 8EBD      		out 78-0x20,r24
 646               	.L134:
 648               	.LM45:
 649 01fa 0DB4      		in __tmp_reg__,77-0x20
 650 01fc 07FE      		sbrs __tmp_reg__,7
 651 01fe 00C0      		rjmp .L134
 652 0200 832F      		mov r24,r19
 653 0202 9927      		clr r25
 654 0204 8EBD      		out 78-0x20,r24
 655               	.L136:
 656 0206 0DB4      		in __tmp_reg__,77-0x20
 657 0208 07FE      		sbrs __tmp_reg__,7
 658 020a 00C0      		rjmp .L136
 659 020c 2EBD      		out 78-0x20,r18
 660               	.L138:
 661 020e 0DB4      		in __tmp_reg__,77-0x20
 662 0210 07FE      		sbrs __tmp_reg__,7
 663 0212 00C0      		rjmp .L138
 664 0214 409A      		sbi 40-0x20,0
 665               	/* epilogue: frame size=0 */
 666 0216 0895      		ret
 667               	/* epilogue end (size=1) */
 668               	/* function rf_auto_ack_enable size 30 (29) */
 670               	.Lscope11:
 672               		.stabd	78,0,0
 674               	.global	rf_auto_ack_disable
 676               	rf_auto_ack_disable:
 677               		.stabd	46,0,0
 209:../../src/radio/cc2420/source/basic_rf.c **** }
 210:../../src/radio/cc2420/source/basic_rf.c **** 
 211:../../src/radio/cc2420/source/basic_rf.c **** void rf_auto_ack_disable()
 212:../../src/radio/cc2420/source/basic_rf.c **** {
 679               	.LM46:
 680               	.LFBB12:
 681               	/* prologue: frame size=0 */
 682               	/* prologue end (size=0) */
 213:../../src/radio/cc2420/source/basic_rf.c ****     auto_ack_enable=0;
 684               	.LM47:
 685 0218 1092 0000 		sts auto_ack_enable,__zero_reg__
 214:../../src/radio/cc2420/source/basic_rf.c ****     mdmctrl0 &= (~0x0010);
 687               	.LM48:
 688 021c 2091 0000 		lds r18,mdmctrl0
 689 0220 3091 0000 		lds r19,(mdmctrl0)+1
 690 0224 2F7E      		andi r18,lo8(-17)
 691 0226 3093 0000 		sts (mdmctrl0)+1,r19
 692 022a 2093 0000 		sts mdmctrl0,r18
 215:../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_MDMCTRL0, mdmctrl0);  
 694               	.LM49:
 695 022e 4098      		cbi 40-0x20,0
 696 0230 81E1      		ldi r24,lo8(17)
 697 0232 8EBD      		out 78-0x20,r24
 698               	.L148:
 700               	.LM50:
 701 0234 0DB4      		in __tmp_reg__,77-0x20
 702 0236 07FE      		sbrs __tmp_reg__,7
 703 0238 00C0      		rjmp .L148
 704 023a 832F      		mov r24,r19
 705 023c 9927      		clr r25
 706 023e 8EBD      		out 78-0x20,r24
 707               	.L150:
 708 0240 0DB4      		in __tmp_reg__,77-0x20
 709 0242 07FE      		sbrs __tmp_reg__,7
 710 0244 00C0      		rjmp .L150
 711 0246 2EBD      		out 78-0x20,r18
 712               	.L152:
 713 0248 0DB4      		in __tmp_reg__,77-0x20
 714 024a 07FE      		sbrs __tmp_reg__,7
 715 024c 00C0      		rjmp .L152
 716 024e 409A      		sbi 40-0x20,0
 717               	/* epilogue: frame size=0 */
 718 0250 0895      		ret
 719               	/* epilogue end (size=1) */
 720               	/* function rf_auto_ack_disable size 30 (29) */
 722               	.Lscope12:
 724               		.stabd	78,0,0
 726               	.global	rf_rx_on
 728               	rf_rx_on:
 729               		.stabd	46,0,0
 216:../../src/radio/cc2420/source/basic_rf.c **** }
 217:../../src/radio/cc2420/source/basic_rf.c **** 
 218:../../src/radio/cc2420/source/basic_rf.c **** 
 219:../../src/radio/cc2420/source/basic_rf.c **** void rf_addr_decode_set_my_mac(uint16_t my_mac)
 220:../../src/radio/cc2420/source/basic_rf.c **** {
 221:../../src/radio/cc2420/source/basic_rf.c **** uint8_t n;
 222:../../src/radio/cc2420/source/basic_rf.c ****     rfSettings.myAddr = my_mac;
 223:../../src/radio/cc2420/source/basic_rf.c ****     nrk_spin_wait_us(500);
 224:../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_RAM_LE(&my_mac, CC2420RAM_SHORTADDR, 2, n);
 225:../../src/radio/cc2420/source/basic_rf.c ****     nrk_spin_wait_us(500);
 226:../../src/radio/cc2420/source/basic_rf.c **** }
 227:../../src/radio/cc2420/source/basic_rf.c **** 
 228:../../src/radio/cc2420/source/basic_rf.c **** 
 229:../../src/radio/cc2420/source/basic_rf.c **** 
 230:../../src/radio/cc2420/source/basic_rf.c **** void rf_set_rx(RF_RX_INFO *pRRI, uint8_t channel )
 231:../../src/radio/cc2420/source/basic_rf.c **** {
 232:../../src/radio/cc2420/source/basic_rf.c **** 
 233:../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 234:../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_pend (radio_sem);
 235:../../src/radio/cc2420/source/basic_rf.c **** #endif
 236:../../src/radio/cc2420/source/basic_rf.c **** 
 237:../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHRX);
 238:../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHRX);
 239:../../src/radio/cc2420/source/basic_rf.c ****     halRfSetChannel(channel);
 240:../../src/radio/cc2420/source/basic_rf.c ****     rfSettings.pRxInfo = pRRI;
 241:../../src/radio/cc2420/source/basic_rf.c **** 
 242:../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 243:../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_post(radio_sem);
 244:../../src/radio/cc2420/source/basic_rf.c **** #endif
 245:../../src/radio/cc2420/source/basic_rf.c **** }
 246:../../src/radio/cc2420/source/basic_rf.c **** //-------------------------------------------------------------------------------------------------
 247:../../src/radio/cc2420/source/basic_rf.c **** //  void rf_init(RF_RX_INFO *pRRI, uint8_t channel, WORD panId, WORD myAddr)
 248:../../src/radio/cc2420/source/basic_rf.c **** //
 249:../../src/radio/cc2420/source/basic_rf.c **** //  DESCRIPTION:
 250:../../src/radio/cc2420/source/basic_rf.c **** //      Initializes CC2420 for radio communication via the basic RF library functions. Turns on the
 251:../../src/radio/cc2420/source/basic_rf.c **** //		voltage regulator, resets the CC2420, turns on the crystal oscillator, writes all necessary
 252:../../src/radio/cc2420/source/basic_rf.c **** //		registers and protocol addresses (for automatic address recognition). Note that the crystal
 253:../../src/radio/cc2420/source/basic_rf.c **** //		oscillator will remain on (forever).
 254:../../src/radio/cc2420/source/basic_rf.c **** //
 255:../../src/radio/cc2420/source/basic_rf.c **** //  ARGUMENTS:
 256:../../src/radio/cc2420/source/basic_rf.c **** //      RF_RX_INFO *pRRI
 257:../../src/radio/cc2420/source/basic_rf.c **** //          A pointer the RF_RX_INFO data structure to be used during the first packet reception.
 258:../../src/radio/cc2420/source/basic_rf.c **** //			The structure can be switched upon packet reception.
 259:../../src/radio/cc2420/source/basic_rf.c **** //      uint8_t channel
 260:../../src/radio/cc2420/source/basic_rf.c **** //          The RF channel to be used (11 = 2405 MHz to 26 = 2480 MHz)
 261:../../src/radio/cc2420/source/basic_rf.c **** //      WORD panId
 262:../../src/radio/cc2420/source/basic_rf.c **** //          The personal area network identification number
 263:../../src/radio/cc2420/source/basic_rf.c **** //      WORD myAddr
 264:../../src/radio/cc2420/source/basic_rf.c **** //          The 16-bit short address which is used by this node. Must together with the PAN ID form
 265:../../src/radio/cc2420/source/basic_rf.c **** //			unique 32-bit identifier to avoid addressing conflicts. Normally, in a 802.15.4 network, the
 266:../../src/radio/cc2420/source/basic_rf.c **** //			short address will be given to associated nodes by the PAN coordinator.
 267:../../src/radio/cc2420/source/basic_rf.c **** //-------------------------------------------------------------------------------------------------
 268:../../src/radio/cc2420/source/basic_rf.c **** void rf_init(RF_RX_INFO *pRRI, uint8_t channel, uint16_t panId, uint16_t myAddr) {
 269:../../src/radio/cc2420/source/basic_rf.c ****     uint8_t n;
 270:../../src/radio/cc2420/source/basic_rf.c **** 
 271:../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 272:../../src/radio/cc2420/source/basic_rf.c ****    int8_t v;
 273:../../src/radio/cc2420/source/basic_rf.c ****     radio_sem = nrk_sem_create(1,RADIO_PRIORITY_CEILING);
 274:../../src/radio/cc2420/source/basic_rf.c ****     if (radio_sem == NULL)
 275:../../src/radio/cc2420/source/basic_rf.c ****       nrk_kernel_error_add (NRK_SEMAPHORE_CREATE_ERROR, nrk_get_pid ());
 276:../../src/radio/cc2420/source/basic_rf.c **** 
 277:../../src/radio/cc2420/source/basic_rf.c ****   v = nrk_sem_pend (radio_sem);
 278:../../src/radio/cc2420/source/basic_rf.c ****   if (v == NRK_ERROR) {
 279:../../src/radio/cc2420/source/basic_rf.c ****     nrk_kprintf (PSTR ("CC2420 ERROR:  Access to semaphore failed\r\n"));
 280:../../src/radio/cc2420/source/basic_rf.c ****   }
 281:../../src/radio/cc2420/source/basic_rf.c **** #endif
 282:../../src/radio/cc2420/source/basic_rf.c **** 
 283:../../src/radio/cc2420/source/basic_rf.c ****     // Make sure that the voltage regulator is on, and that the reset pin is inactive
 284:../../src/radio/cc2420/source/basic_rf.c ****     SET_VREG_ACTIVE();
 285:../../src/radio/cc2420/source/basic_rf.c ****     halWait(1000);
 286:../../src/radio/cc2420/source/basic_rf.c ****     SET_RESET_ACTIVE();
 287:../../src/radio/cc2420/source/basic_rf.c ****     halWait(1);
 288:../../src/radio/cc2420/source/basic_rf.c ****     SET_RESET_INACTIVE();
 289:../../src/radio/cc2420/source/basic_rf.c ****     halWait(100);
 290:../../src/radio/cc2420/source/basic_rf.c **** 
 291:../../src/radio/cc2420/source/basic_rf.c ****     // Initialize the FIFOP external interrupt
 292:../../src/radio/cc2420/source/basic_rf.c ****     //FIFOP_INT_INIT();
 293:../../src/radio/cc2420/source/basic_rf.c ****     //ENABLE_FIFOP_INT();
 294:../../src/radio/cc2420/source/basic_rf.c **** 	//rf_rx_callback = NULL;
 295:../../src/radio/cc2420/source/basic_rf.c **** 
 296:../../src/radio/cc2420/source/basic_rf.c ****     // Turn off all interrupts while we're accessing the CC2420 registers
 297:../../src/radio/cc2420/source/basic_rf.c **** 	DISABLE_GLOBAL_INT();
 298:../../src/radio/cc2420/source/basic_rf.c **** 
 299:../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SXOSCON);
 300:../../src/radio/cc2420/source/basic_rf.c ****     mdmctrl0=0x02E2;
 301:../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_MDMCTRL0, mdmctrl0);  // Std Preamble, CRC, no auto ack, no hw addr decod
 302:../../src/radio/cc2420/source/basic_rf.c ****     //FASTSPI_SETREG(CC2420_MDMCTRL0, 0x0AF2);  // Turn on automatic packet acknowledgment
 303:../../src/radio/cc2420/source/basic_rf.c **** 						// Turn on hw addre decoding 
 304:../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_MDMCTRL1, 0x0500); // Set the correlation threshold = 20
 305:../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_IOCFG0, 0x007F);   // Set the FIFOP threshold to maximum
 306:../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_SECCTRL0, 0x01C4); // Turn off "Security"
 307:../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_RXCTRL1, 0x1A56); // All default except
 308:../../src/radio/cc2420/source/basic_rf.c **** 					    // reference bias current to RX
 309:../../src/radio/cc2420/source/basic_rf.c **** 					    // bandpass filter is set to 3uA 
 310:../../src/radio/cc2420/source/basic_rf.c **** 
 311:../../src/radio/cc2420/source/basic_rf.c **** /*
 312:../../src/radio/cc2420/source/basic_rf.c ****     // FIXME: remove later for auto ack
 313:../../src/radio/cc2420/source/basic_rf.c ****     myAddr=MY_MAC;
 314:../../src/radio/cc2420/source/basic_rf.c ****     panId=0x02;
 315:../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_MDMCTRL0, 0x0AF2);  // Turn on automatic packet acknowledgment
 316:../../src/radio/cc2420/source/basic_rf.c **** //    FASTSPI_SETREG(CC2420_MDMCTRL0, 0x0AE2);  // Turn on automatic packet acknowledgment
 317:../../src/radio/cc2420/source/basic_rf.c ****     nrk_spin_wait_us(500);
 318:../../src/radio/cc2420/source/basic_rf.c ****     nrk_spin_wait_us(500);
 319:../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_RAM_LE(&myAddr, CC2420RAM_SHORTADDR, 2, n);
 320:../../src/radio/cc2420/source/basic_rf.c ****     nrk_spin_wait_us(500);
 321:../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_RAM_LE(&panId, CC2420RAM_PANID, 2, n);
 322:../../src/radio/cc2420/source/basic_rf.c ****     nrk_spin_wait_us(500);
 323:../../src/radio/cc2420/source/basic_rf.c ****     
 324:../../src/radio/cc2420/source/basic_rf.c ****    printf( "myAddr=%d\r\n",myAddr );
 325:../../src/radio/cc2420/source/basic_rf.c **** */
 326:../../src/radio/cc2420/source/basic_rf.c **** 
 327:../../src/radio/cc2420/source/basic_rf.c ****     nrk_spin_wait_us(500);
 328:../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_RAM_LE(&panId, CC2420RAM_PANID, 2, n);
 329:../../src/radio/cc2420/source/basic_rf.c ****     nrk_spin_wait_us(500);
 330:../../src/radio/cc2420/source/basic_rf.c **** 
 331:../../src/radio/cc2420/source/basic_rf.c ****   	ENABLE_GLOBAL_INT();
 332:../../src/radio/cc2420/source/basic_rf.c **** 
 333:../../src/radio/cc2420/source/basic_rf.c ****     // Set the RF channel
 334:../../src/radio/cc2420/source/basic_rf.c ****     halRfSetChannel(channel);
 335:../../src/radio/cc2420/source/basic_rf.c **** 
 336:../../src/radio/cc2420/source/basic_rf.c ****     // Turn interrupts back on
 337:../../src/radio/cc2420/source/basic_rf.c **** 	ENABLE_GLOBAL_INT();
 338:../../src/radio/cc2420/source/basic_rf.c **** 
 339:../../src/radio/cc2420/source/basic_rf.c **** 	// Set the protocol configuration
 340:../../src/radio/cc2420/source/basic_rf.c **** 	rfSettings.pRxInfo = pRRI;
 341:../../src/radio/cc2420/source/basic_rf.c **** 	rfSettings.panId = panId;
 342:../../src/radio/cc2420/source/basic_rf.c **** 	rfSettings.myAddr = myAddr;
 343:../../src/radio/cc2420/source/basic_rf.c **** 	rfSettings.txSeqNumber = 0;
 344:../../src/radio/cc2420/source/basic_rf.c ****         rfSettings.receiveOn = FALSE;
 345:../../src/radio/cc2420/source/basic_rf.c **** 
 346:../../src/radio/cc2420/source/basic_rf.c **** 	// Wait for the crystal oscillator to become stable
 347:../../src/radio/cc2420/source/basic_rf.c ****     halRfWaitForCrystalOscillator();
 348:../../src/radio/cc2420/source/basic_rf.c **** 
 349:../../src/radio/cc2420/source/basic_rf.c **** 	// Write the short address and the PAN ID to the CC2420 RAM (requires that the XOSC is on and stab
 350:../../src/radio/cc2420/source/basic_rf.c ****    //	DISABLE_GLOBAL_INT();
 351:../../src/radio/cc2420/source/basic_rf.c **** //    FASTSPI_WRITE_RAM_LE(&myAddr, CC2420RAM_SHORTADDR, 2, n);
 352:../../src/radio/cc2420/source/basic_rf.c **** //    FASTSPI_WRITE_RAM_LE(&panId, CC2420RAM_PANID, 2, n);
 353:../../src/radio/cc2420/source/basic_rf.c ****   //	ENABLE_GLOBAL_INT();
 354:../../src/radio/cc2420/source/basic_rf.c **** 
 355:../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 356:../../src/radio/cc2420/source/basic_rf.c ****   v = nrk_sem_post (radio_sem);
 357:../../src/radio/cc2420/source/basic_rf.c ****   if (v == NRK_ERROR) {
 358:../../src/radio/cc2420/source/basic_rf.c ****     nrk_kprintf (PSTR ("CC2420 ERROR:  Release of semaphore failed\r\n"));
 359:../../src/radio/cc2420/source/basic_rf.c ****     _nrk_errno_set (2);
 360:../../src/radio/cc2420/source/basic_rf.c ****   }
 361:../../src/radio/cc2420/source/basic_rf.c **** #endif
 362:../../src/radio/cc2420/source/basic_rf.c **** 
 363:../../src/radio/cc2420/source/basic_rf.c **** auto_ack_enable=0;
 364:../../src/radio/cc2420/source/basic_rf.c **** security_enable=0;
 365:../../src/radio/cc2420/source/basic_rf.c **** last_pkt_encrypted=0;
 366:../../src/radio/cc2420/source/basic_rf.c **** } // rf_init() 
 367:../../src/radio/cc2420/source/basic_rf.c **** 
 368:../../src/radio/cc2420/source/basic_rf.c **** 
 369:../../src/radio/cc2420/source/basic_rf.c **** //-------------------------------------------------------------------------------------------------
 370:../../src/radio/cc2420/source/basic_rf.c **** //  void rf_rx_on(void)
 371:../../src/radio/cc2420/source/basic_rf.c **** //
 372:../../src/radio/cc2420/source/basic_rf.c **** //  DESCRIPTION:
 373:../../src/radio/cc2420/source/basic_rf.c **** //      Enables the CC2420 receiver and the FIFOP interrupt. When a packet is received through this
 374:../../src/radio/cc2420/source/basic_rf.c **** //      interrupt, it will call rf_rx_callback(...), which must be defined by the application
 375:../../src/radio/cc2420/source/basic_rf.c **** //-------------------------------------------------------------------------------------------------
 376:../../src/radio/cc2420/source/basic_rf.c **** void rf_rx_on(void) {
 731               	.LM51:
 732               	.LFBB13:
 733               	/* prologue: frame size=0 */
 734               	/* prologue end (size=0) */
 377:../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 378:../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_pend (radio_sem);
 379:../../src/radio/cc2420/source/basic_rf.c **** #endif
 380:../../src/radio/cc2420/source/basic_rf.c ****     	rfSettings.receiveOn = TRUE;
 736               	.LM52:
 737 0252 81E0      		ldi r24,lo8(1)
 738 0254 8093 0000 		sts rfSettings+8,r24
 381:../../src/radio/cc2420/source/basic_rf.c **** 
 382:../../src/radio/cc2420/source/basic_rf.c **** #ifdef CC2420_OSC_OPT
 383:../../src/radio/cc2420/source/basic_rf.c **** 	FASTSPI_STROBE(CC2420_SXOSCON);
 384:../../src/radio/cc2420/source/basic_rf.c **** 	nrk_spin_wait_us(OSC_STARTUP_DELAY);
 385:../../src/radio/cc2420/source/basic_rf.c **** #endif
 386:../../src/radio/cc2420/source/basic_rf.c **** 	FASTSPI_STROBE(CC2420_SRXON);
 740               	.LM53:
 741 0258 4098      		cbi 40-0x20,0
 742 025a 83E0      		ldi r24,lo8(3)
 743 025c 8EBD      		out 78-0x20,r24
 744               	.L162:
 746               	.LM54:
 747 025e 0DB4      		in __tmp_reg__,77-0x20
 748 0260 07FE      		sbrs __tmp_reg__,7
 749 0262 00C0      		rjmp .L162
 750 0264 409A      		sbi 40-0x20,0
 387:../../src/radio/cc2420/source/basic_rf.c **** 	FASTSPI_STROBE(CC2420_SFLUSHRX);
 752               	.LM55:
 753 0266 4098      		cbi 40-0x20,0
 754 0268 88E0      		ldi r24,lo8(8)
 755 026a 8EBD      		out 78-0x20,r24
 756               	.L164:
 757 026c 0DB4      		in __tmp_reg__,77-0x20
 758 026e 07FE      		sbrs __tmp_reg__,7
 759 0270 00C0      		rjmp .L164
 760 0272 409A      		sbi 40-0x20,0
 388:../../src/radio/cc2420/source/basic_rf.c **** 	rx_ready=0;
 762               	.LM56:
 763 0274 1092 0000 		sts rx_ready,__zero_reg__
 389:../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 390:../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_post(radio_sem);
 391:../../src/radio/cc2420/source/basic_rf.c **** #endif
 392:../../src/radio/cc2420/source/basic_rf.c **** 	FIFOP_INT_INIT();
 765               	.LM57:
 766 0278 8091 6A00 		lds r24,106
 767 027c 806C      		ori r24,lo8(-64)
 768 027e 8093 6A00 		sts 106,r24
 769 0282 80E8      		ldi r24,lo8(-128)
 770 0284 8CBB      		out 60-0x20,r24
 393:../../src/radio/cc2420/source/basic_rf.c ****     ENABLE_FIFOP_INT();
 772               	.LM58:
 773 0286 EF9A      		sbi 61-0x20,7
 774               	/* epilogue: frame size=0 */
 775 0288 0895      		ret
 776               	/* epilogue end (size=1) */
 777               	/* function rf_rx_on size 28 (27) */
 779               	.Lscope13:
 781               		.stabd	78,0,0
 783               	.global	rf_polling_rx_on
 785               	rf_polling_rx_on:
 786               		.stabd	46,0,0
 394:../../src/radio/cc2420/source/basic_rf.c **** } // rf_rx_on() 
 395:../../src/radio/cc2420/source/basic_rf.c **** 
 396:../../src/radio/cc2420/source/basic_rf.c **** void rf_polling_rx_on(void) {
 788               	.LM59:
 789               	.LFBB14:
 790               	/* prologue: frame size=0 */
 791               	/* prologue end (size=0) */
 397:../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 398:../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_pend (radio_sem);
 399:../../src/radio/cc2420/source/basic_rf.c **** #endif
 400:../../src/radio/cc2420/source/basic_rf.c ****     	rfSettings.receiveOn = TRUE;
 793               	.LM60:
 794 028a 81E0      		ldi r24,lo8(1)
 795 028c 8093 0000 		sts rfSettings+8,r24
 401:../../src/radio/cc2420/source/basic_rf.c **** #ifdef CC2420_OSC_OPT
 402:../../src/radio/cc2420/source/basic_rf.c **** 	FASTSPI_STROBE(CC2420_SXOSCON);
 403:../../src/radio/cc2420/source/basic_rf.c **** 	nrk_spin_wait_us(OSC_STARTUP_DELAY);
 404:../../src/radio/cc2420/source/basic_rf.c **** #endif
 405:../../src/radio/cc2420/source/basic_rf.c **** 	FASTSPI_STROBE(CC2420_SRXON);
 797               	.LM61:
 798 0290 4098      		cbi 40-0x20,0
 799 0292 83E0      		ldi r24,lo8(3)
 800 0294 8EBD      		out 78-0x20,r24
 801               	.L172:
 803               	.LM62:
 804 0296 0DB4      		in __tmp_reg__,77-0x20
 805 0298 07FE      		sbrs __tmp_reg__,7
 806 029a 00C0      		rjmp .L172
 807 029c 409A      		sbi 40-0x20,0
 406:../../src/radio/cc2420/source/basic_rf.c **** 	FASTSPI_STROBE(CC2420_SFLUSHRX);
 809               	.LM63:
 810 029e 4098      		cbi 40-0x20,0
 811 02a0 88E0      		ldi r24,lo8(8)
 812 02a2 8EBD      		out 78-0x20,r24
 813               	.L174:
 814 02a4 0DB4      		in __tmp_reg__,77-0x20
 815 02a6 07FE      		sbrs __tmp_reg__,7
 816 02a8 00C0      		rjmp .L174
 817 02aa 409A      		sbi 40-0x20,0
 407:../../src/radio/cc2420/source/basic_rf.c **** 	rx_ready=0;
 819               	.LM64:
 820 02ac 1092 0000 		sts rx_ready,__zero_reg__
 821               	/* epilogue: frame size=0 */
 822 02b0 0895      		ret
 823               	/* epilogue end (size=1) */
 824               	/* function rf_polling_rx_on size 20 (19) */
 826               	.Lscope14:
 828               		.stabd	78,0,0
 830               	.global	rf_rx_off
 832               	rf_rx_off:
 833               		.stabd	46,0,0
 408:../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 409:../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_post(radio_sem);
 410:../../src/radio/cc2420/source/basic_rf.c **** #endif
 411:../../src/radio/cc2420/source/basic_rf.c **** } // rf_rx_on() 
 412:../../src/radio/cc2420/source/basic_rf.c **** 
 413:../../src/radio/cc2420/source/basic_rf.c **** 
 414:../../src/radio/cc2420/source/basic_rf.c **** /**********************************************************
 415:../../src/radio/cc2420/source/basic_rf.c **** // Here is a sample of the rf_rx_callback() that should
 416:../../src/radio/cc2420/source/basic_rf.c **** // be placed in your application
 417:../../src/radio/cc2420/source/basic_rf.c **** 
 418:../../src/radio/cc2420/source/basic_rf.c **** RF_RX_INFO* rf_rx_callback(RF_RX_INFO *pRRI) {
 419:../../src/radio/cc2420/source/basic_rf.c **** 	// Its okay to leave this empty...    
 420:../../src/radio/cc2420/source/basic_rf.c **** 	return pRRI;
 421:../../src/radio/cc2420/source/basic_rf.c **** }  
 422:../../src/radio/cc2420/source/basic_rf.c **** ***********************************************************/
 423:../../src/radio/cc2420/source/basic_rf.c **** 
 424:../../src/radio/cc2420/source/basic_rf.c **** 
 425:../../src/radio/cc2420/source/basic_rf.c **** 
 426:../../src/radio/cc2420/source/basic_rf.c **** 
 427:../../src/radio/cc2420/source/basic_rf.c **** //-------------------------------------------------------------------------------------------------
 428:../../src/radio/cc2420/source/basic_rf.c **** //  void rf_rx_off(void)
 429:../../src/radio/cc2420/source/basic_rf.c **** //
 430:../../src/radio/cc2420/source/basic_rf.c **** //  DESCRIPTION:
 431:../../src/radio/cc2420/source/basic_rf.c **** //      Disables the CC2420 receiver and the FIFOP interrupt.
 432:../../src/radio/cc2420/source/basic_rf.c **** //-------------------------------------------------------------------------------------------------
 433:../../src/radio/cc2420/source/basic_rf.c **** void rf_rx_off(void) {
 835               	.LM65:
 836               	.LFBB15:
 837               	/* prologue: frame size=0 */
 838               	/* prologue end (size=0) */
 434:../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 435:../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_pend (radio_sem);
 436:../../src/radio/cc2420/source/basic_rf.c **** #endif
 437:../../src/radio/cc2420/source/basic_rf.c **** 	// XXX
 438:../../src/radio/cc2420/source/basic_rf.c ****     	//SET_VREG_INACTIVE();	
 439:../../src/radio/cc2420/source/basic_rf.c **** 	rfSettings.receiveOn = FALSE;
 840               	.LM66:
 841 02b2 1092 0000 		sts rfSettings+8,__zero_reg__
 440:../../src/radio/cc2420/source/basic_rf.c **** 	FASTSPI_STROBE(CC2420_SRFOFF);
 843               	.LM67:
 844 02b6 4098      		cbi 40-0x20,0
 845 02b8 86E0      		ldi r24,lo8(6)
 846 02ba 8EBD      		out 78-0x20,r24
 847               	.L182:
 849               	.LM68:
 850 02bc 0DB4      		in __tmp_reg__,77-0x20
 851 02be 07FE      		sbrs __tmp_reg__,7
 852 02c0 00C0      		rjmp .L182
 853 02c2 409A      		sbi 40-0x20,0
 441:../../src/radio/cc2420/source/basic_rf.c **** #ifdef CC2420_OSC_OPT
 442:../../src/radio/cc2420/source/basic_rf.c **** 	FASTSPI_STROBE(CC2420_SXOSCOFF);
 443:../../src/radio/cc2420/source/basic_rf.c **** #endif
 444:../../src/radio/cc2420/source/basic_rf.c **** 	rx_ready=0;
 855               	.LM69:
 856 02c4 1092 0000 		sts rx_ready,__zero_reg__
 445:../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 446:../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_post(radio_sem);
 447:../../src/radio/cc2420/source/basic_rf.c **** #endif
 448:../../src/radio/cc2420/source/basic_rf.c ****     DISABLE_FIFOP_INT();
 858               	.LM70:
 859 02c8 EF98      		cbi 61-0x20,7
 860               	/* epilogue: frame size=0 */
 861 02ca 0895      		ret
 862               	/* epilogue end (size=1) */
 863               	/* function rf_rx_off size 13 (12) */
 865               	.Lscope15:
 867               		.stabd	78,0,0
 869               	.global	rf_busy
 871               	rf_busy:
 872               		.stabd	46,0,0
 449:../../src/radio/cc2420/source/basic_rf.c **** } // rf_rx_off() 
 450:../../src/radio/cc2420/source/basic_rf.c **** 
 451:../../src/radio/cc2420/source/basic_rf.c **** 
 452:../../src/radio/cc2420/source/basic_rf.c **** /**************************************************************************
 453:../../src/radio/cc2420/source/basic_rf.c **** This function is the same as normal TX, only it waits until the last
 454:../../src/radio/cc2420/source/basic_rf.c **** second to send the duty out with the high speed timer.  And by duty, I mean
 455:../../src/radio/cc2420/source/basic_rf.c **** the packet BIATCH...
 456:../../src/radio/cc2420/source/basic_rf.c **** **************************************************************************/
 457:../../src/radio/cc2420/source/basic_rf.c **** uint8_t rf_tx_tdma_packet(RF_TX_INFO *pRTI, uint16_t slot_start_time, uint16_t tx_guard_time) {
 458:../../src/radio/cc2420/source/basic_rf.c **** 	uint16_t frameControlField;
 459:../../src/radio/cc2420/source/basic_rf.c ****     	uint8_t packetLength;
 460:../../src/radio/cc2420/source/basic_rf.c ****     	uint8_t success;
 461:../../src/radio/cc2420/source/basic_rf.c ****     	uint8_t spiStatusByte;
 462:../../src/radio/cc2420/source/basic_rf.c ****    	uint8_t checksum,i;
 463:../../src/radio/cc2420/source/basic_rf.c **** 	uint8_t timestamp;
 464:../../src/radio/cc2420/source/basic_rf.c **** 
 465:../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 466:../../src/radio/cc2420/source/basic_rf.c **** nrk_sem_pend (radio_sem);
 467:../../src/radio/cc2420/source/basic_rf.c **** #endif
 468:../../src/radio/cc2420/source/basic_rf.c **** 	timestamp=_nrk_os_timer_get();
 469:../../src/radio/cc2420/source/basic_rf.c **** 	// XXX 2 below are hacks...
 470:../../src/radio/cc2420/source/basic_rf.c **** #ifdef CC2420_OSC_OPT
 471:../../src/radio/cc2420/source/basic_rf.c **** 	FASTSPI_STROBE(CC2420_SXOSCON);
 472:../../src/radio/cc2420/source/basic_rf.c **** 	nrk_spin_wait_us(OSC_STARTUP_DELAY);
 473:../../src/radio/cc2420/source/basic_rf.c **** #endif
 474:../../src/radio/cc2420/source/basic_rf.c **** 	FASTSPI_STROBE(CC2420_SFLUSHRX);
 475:../../src/radio/cc2420/source/basic_rf.c **** 	FASTSPI_STROBE(CC2420_SFLUSHRX);
 476:../../src/radio/cc2420/source/basic_rf.c ****     // Wait until the transceiver is idle
 477:../../src/radio/cc2420/source/basic_rf.c ****      while (FIFOP_IS_1 || SFD_IS_1);
 478:../../src/radio/cc2420/source/basic_rf.c ****     // Turn off global interrupts to avoid interference on the SPI interface
 479:../../src/radio/cc2420/source/basic_rf.c ****       DISABLE_GLOBAL_INT();
 480:../../src/radio/cc2420/source/basic_rf.c **** 	// Flush the TX FIFO just in case...
 481:../../src/radio/cc2420/source/basic_rf.c **** 	FASTSPI_STROBE(CC2420_SFLUSHTX);
 482:../../src/radio/cc2420/source/basic_rf.c **** 	FASTSPI_STROBE(CC2420_SFLUSHTX);
 483:../../src/radio/cc2420/source/basic_rf.c **** 
 484:../../src/radio/cc2420/source/basic_rf.c ****     checksum=0;
 485:../../src/radio/cc2420/source/basic_rf.c ****     for(i=0; i<pRTI->length; i++ )
 486:../../src/radio/cc2420/source/basic_rf.c ****     {
 487:../../src/radio/cc2420/source/basic_rf.c **** 	// lets do our own payload checksum because we don't trust the CRC
 488:../../src/radio/cc2420/source/basic_rf.c **** 	checksum+=pRTI->pPayload[i];
 489:../../src/radio/cc2420/source/basic_rf.c ****     }
 490:../../src/radio/cc2420/source/basic_rf.c ****     packetLength = pRTI->length + RF_PACKET_OVERHEAD_SIZE + CHECKSUM_OVERHEAD;
 491:../../src/radio/cc2420/source/basic_rf.c ****     //nrk_set_led(3);
 492:../../src/radio/cc2420/source/basic_rf.c ****     //do { } while(_nrk_get_high_speed_timer()<(tx_guard_time));
 493:../../src/radio/cc2420/source/basic_rf.c ****     
 494:../../src/radio/cc2420/source/basic_rf.c ****     // Write the packet to the TX FIFO (the FCS is appended automatically when AUTOCRC is enabled)
 495:../../src/radio/cc2420/source/basic_rf.c ****     // These are only the MAC AGNOSTIC parameters...
 496:../../src/radio/cc2420/source/basic_rf.c ****     // Slots for example are at a higher layer since they assume TDMA
 497:../../src/radio/cc2420/source/basic_rf.c ****     
 498:../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*)&packetLength, 1);               // Packet length
 499:../../src/radio/cc2420/source/basic_rf.c ****     frameControlField = pRTI->ackRequest ? RF_FCF_ACK : RF_FCF_NOACK;
 500:../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &frameControlField, 2);         // Frame control field
 501:../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &rfSettings.txSeqNumber, 1);    // Sequence number
 502:../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &rfSettings.panId, 2);          // Dest. PAN ID
 503:../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &pRTI->destAddr, 2);            // Dest. address
 504:../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &rfSettings.myAddr, 2);         // Source address
 505:../../src/radio/cc2420/source/basic_rf.c **** 
 506:../../src/radio/cc2420/source/basic_rf.c ****     nrk_high_speed_timer_wait(slot_start_time,tx_guard_time);
 507:../../src/radio/cc2420/source/basic_rf.c ****     //nrk_clr_led(3);
 508:../../src/radio/cc2420/source/basic_rf.c ****     /*
 509:../../src/radio/cc2420/source/basic_rf.c **** 	DISABLE_GLOBAL_INT();
 510:../../src/radio/cc2420/source/basic_rf.c ****      nrk_set_led(3);
 511:../../src/radio/cc2420/source/basic_rf.c ****     last=0;
 512:../../src/radio/cc2420/source/basic_rf.c **** 	do {
 513:../../src/radio/cc2420/source/basic_rf.c **** 	if(last==_nrk_get_high_speed_timer())
 514:../../src/radio/cc2420/source/basic_rf.c **** 		{
 515:../../src/radio/cc2420/source/basic_rf.c **** 		//while(1)
 516:../../src/radio/cc2420/source/basic_rf.c **** 		//printf( "TX ERROR %d vs %d\r\n",_nrk_get_high_speed_timer(),tx_guard_time );
 517:../../src/radio/cc2420/source/basic_rf.c **** 		break;
 518:../../src/radio/cc2420/source/basic_rf.c **** 		}	
 519:../../src/radio/cc2420/source/basic_rf.c **** 	last=_nrk_get_high_speed_timer();
 520:../../src/radio/cc2420/source/basic_rf.c **** 	}
 521:../../src/radio/cc2420/source/basic_rf.c **** 	while((volatile)last<(tx_guard_time));
 522:../../src/radio/cc2420/source/basic_rf.c ****      
 523:../../src/radio/cc2420/source/basic_rf.c ****     ENABLE_GLOBAL_INT();
 524:../../src/radio/cc2420/source/basic_rf.c **** 	nrk_clr_led(3);
 525:../../src/radio/cc2420/source/basic_rf.c **** */
 526:../../src/radio/cc2420/source/basic_rf.c **** /*
 527:../../src/radio/cc2420/source/basic_rf.c ****     // Turn on RX if necessary
 528:../../src/radio/cc2420/source/basic_rf.c ****     if (!rfSettings.receiveOn) {
 529:../../src/radio/cc2420/source/basic_rf.c **** 		FASTSPI_STROBE(CC2420_SRXON);
 530:../../src/radio/cc2420/source/basic_rf.c **** 		}
 531:../../src/radio/cc2420/source/basic_rf.c **** 
 532:../../src/radio/cc2420/source/basic_rf.c ****     // Wait for the RSSI value to become valid
 533:../../src/radio/cc2420/source/basic_rf.c ****     do {
 534:../../src/radio/cc2420/source/basic_rf.c ****         FASTSPI_UPD_STATUS(spiStatusByte);
 535:../../src/radio/cc2420/source/basic_rf.c ****     } while (!(spiStatusByte & BM(CC2420_RSSI_VALID)));
 536:../../src/radio/cc2420/source/basic_rf.c **** 
 537:../../src/radio/cc2420/source/basic_rf.c **** 	// TX begins after the CCA check has passed
 538:../../src/radio/cc2420/source/basic_rf.c ****     do {
 539:../../src/radio/cc2420/source/basic_rf.c **** 		FASTSPI_STROBE(CC2420_STXONCCA);
 540:../../src/radio/cc2420/source/basic_rf.c **** 		FASTSPI_UPD_STATUS(spiStatusByte);
 541:../../src/radio/cc2420/source/basic_rf.c **** 		halWait(100);
 542:../../src/radio/cc2420/source/basic_rf.c ****     } while (!(spiStatusByte & BM(CC2420_TX_ACTIVE)));
 543:../../src/radio/cc2420/source/basic_rf.c **** */
 544:../../src/radio/cc2420/source/basic_rf.c **** if (pRTI->cca == TRUE)
 545:../../src/radio/cc2420/source/basic_rf.c ****     {
 546:../../src/radio/cc2420/source/basic_rf.c ****     uint8_t cnt;
 547:../../src/radio/cc2420/source/basic_rf.c ****       if (!rfSettings.receiveOn)
 548:../../src/radio/cc2420/source/basic_rf.c **** 	{
 549:../../src/radio/cc2420/source/basic_rf.c **** 	  FASTSPI_STROBE (CC2420_SRXON);
 550:../../src/radio/cc2420/source/basic_rf.c **** 	}
 551:../../src/radio/cc2420/source/basic_rf.c **** 
 552:../../src/radio/cc2420/source/basic_rf.c ****       // Wait for the RSSI value to become valid
 553:../../src/radio/cc2420/source/basic_rf.c ****       do
 554:../../src/radio/cc2420/source/basic_rf.c **** 	{
 555:../../src/radio/cc2420/source/basic_rf.c **** 	  FASTSPI_UPD_STATUS (spiStatusByte);
 556:../../src/radio/cc2420/source/basic_rf.c **** 	}
 557:../../src/radio/cc2420/source/basic_rf.c ****       while (!(spiStatusByte & BM (CC2420_RSSI_VALID)));
 558:../../src/radio/cc2420/source/basic_rf.c **** 
 559:../../src/radio/cc2420/source/basic_rf.c ****       // TX begins after the CCA check has passed
 560:../../src/radio/cc2420/source/basic_rf.c ****       cnt = 0;
 561:../../src/radio/cc2420/source/basic_rf.c ****       do
 562:../../src/radio/cc2420/source/basic_rf.c **** 	{
 563:../../src/radio/cc2420/source/basic_rf.c **** 	  FASTSPI_STROBE (CC2420_STXONCCA);
 564:../../src/radio/cc2420/source/basic_rf.c **** 	  FASTSPI_UPD_STATUS (spiStatusByte);
 565:../../src/radio/cc2420/source/basic_rf.c **** 	  cnt++;
 566:../../src/radio/cc2420/source/basic_rf.c **** 	  if (cnt > 100)
 567:../../src/radio/cc2420/source/basic_rf.c **** 	    {
 568:../../src/radio/cc2420/source/basic_rf.c **** 	      ENABLE_GLOBAL_INT ();
 569:../../src/radio/cc2420/source/basic_rf.c **** 		nrk_sem_post(radio_sem);
 570:../../src/radio/cc2420/source/basic_rf.c **** 	      return FALSE;
 571:../../src/radio/cc2420/source/basic_rf.c **** 	    }
 572:../../src/radio/cc2420/source/basic_rf.c **** 	  halWait (100);
 573:../../src/radio/cc2420/source/basic_rf.c **** 	}
 574:../../src/radio/cc2420/source/basic_rf.c ****       while (!(spiStatusByte & BM (CC2420_TX_ACTIVE)));
 575:../../src/radio/cc2420/source/basic_rf.c ****     }
 576:../../src/radio/cc2420/source/basic_rf.c ****   else
 577:../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE (CC2420_STXON);
 578:../../src/radio/cc2420/source/basic_rf.c **** 	 //nrk_gpio_set(DEBUG_0);
 579:../../src/radio/cc2420/source/basic_rf.c **** 
 580:../../src/radio/cc2420/source/basic_rf.c **** 
 581:../../src/radio/cc2420/source/basic_rf.c ****     // Fill in the rest of the packet now
 582:../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) pRTI->pPayload, pRTI->length);  // Payload
 583:../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &checksum, 1);         // Checksum
 584:../../src/radio/cc2420/source/basic_rf.c **** 
 585:../../src/radio/cc2420/source/basic_rf.c **** 
 586:../../src/radio/cc2420/source/basic_rf.c **** 
 587:../../src/radio/cc2420/source/basic_rf.c ****     //nrk_spin_wait_us(200);
 588:../../src/radio/cc2420/source/basic_rf.c **** //  FASTSPI_STROBE(CC2420_STXON);
 589:../../src/radio/cc2420/source/basic_rf.c ****    // Wait for the transmission to begin before exiting (makes sure that this function cannot be ca
 590:../../src/radio/cc2420/source/basic_rf.c **** 	// a second time, and thereby cancelling the first transmission (observe the FIFOP + SFD test abov
 591:../../src/radio/cc2420/source/basic_rf.c **** 	while (!SFD_IS_1);
 592:../../src/radio/cc2420/source/basic_rf.c **** 	success = TRUE;
 593:../../src/radio/cc2420/source/basic_rf.c **** 
 594:../../src/radio/cc2420/source/basic_rf.c **** 	// Turn interrupts back on
 595:../../src/radio/cc2420/source/basic_rf.c **** //	ENABLE_GLOBAL_INT();
 596:../../src/radio/cc2420/source/basic_rf.c **** 
 597:../../src/radio/cc2420/source/basic_rf.c ****     // Wait for the acknowledge to be received, if any
 598:../../src/radio/cc2420/source/basic_rf.c ****     /*if (pRTI->ackRequest) {
 599:../../src/radio/cc2420/source/basic_rf.c **** 		rfSettings.ackReceived = FALSE;
 600:../../src/radio/cc2420/source/basic_rf.c **** 
 601:../../src/radio/cc2420/source/basic_rf.c **** 		// Wait for the SFD to go low again
 602:../../src/radio/cc2420/source/basic_rf.c **** 		while (SFD_IS_1);
 603:../../src/radio/cc2420/source/basic_rf.c ****         // We'll enter RX automatically, so just wait until we can be sure that the ack reception s
 604:../../src/radio/cc2420/source/basic_rf.c ****         // The timeout consists of a 12-symbol turnaround time, the ack packet duration, and a smal
 605:../../src/radio/cc2420/source/basic_rf.c ****         halWait((12 * RF_SYMBOL_DURATION) + (RF_ACK_DURATION) + (2 * RF_SYMBOL_DURATION) + 100);
 606:../../src/radio/cc2420/source/basic_rf.c **** 
 607:../../src/radio/cc2420/source/basic_rf.c **** 		// If an acknowledgment has been received (by the FIFOP interrupt), the ackReceived flag should b
 608:../../src/radio/cc2420/source/basic_rf.c **** 		success = rfSettings.ackReceived;
 609:../../src/radio/cc2420/source/basic_rf.c ****     }*/
 610:../../src/radio/cc2420/source/basic_rf.c **** 
 611:../../src/radio/cc2420/source/basic_rf.c ****     
 612:../../src/radio/cc2420/source/basic_rf.c **** 	// Turn off the receiver if it should not continue to be enabled
 613:../../src/radio/cc2420/source/basic_rf.c ****     DISABLE_GLOBAL_INT();
 614:../../src/radio/cc2420/source/basic_rf.c ****     // XXX hack, temp out
 615:../../src/radio/cc2420/source/basic_rf.c ****     //if (!rfSettings.receiveOn) { while (SFD_IS_1); /*FASTSPI_STROBE(CC2420_SRFOFF);*/ }
 616:../../src/radio/cc2420/source/basic_rf.c ****     // while (SFD_IS_1); 
 617:../../src/radio/cc2420/source/basic_rf.c ****     while (SFD_IS_1); // wait for packet to finish
 618:../../src/radio/cc2420/source/basic_rf.c ****     	
 619:../../src/radio/cc2420/source/basic_rf.c **** 	FASTSPI_STROBE(CC2420_SFLUSHRX);
 620:../../src/radio/cc2420/source/basic_rf.c **** 	FASTSPI_STROBE(CC2420_SFLUSHRX);
 621:../../src/radio/cc2420/source/basic_rf.c **** 	FASTSPI_STROBE(CC2420_SFLUSHTX);
 622:../../src/radio/cc2420/source/basic_rf.c **** 	FASTSPI_STROBE(CC2420_SFLUSHTX);
 623:../../src/radio/cc2420/source/basic_rf.c **** 
 624:../../src/radio/cc2420/source/basic_rf.c **** #ifdef CC2420_OSC_OPT
 625:../../src/radio/cc2420/source/basic_rf.c **** FASTSPI_STROBE(CC2420_SXOSCOFF);
 626:../../src/radio/cc2420/source/basic_rf.c **** #endif
 627:../../src/radio/cc2420/source/basic_rf.c **** FASTSPI_STROBE(CC2420_SRFOFF);  // shut off radio
 628:../../src/radio/cc2420/source/basic_rf.c ****     ENABLE_GLOBAL_INT();
 629:../../src/radio/cc2420/source/basic_rf.c ****     
 630:../../src/radio/cc2420/source/basic_rf.c **** 
 631:../../src/radio/cc2420/source/basic_rf.c ****     // Increment the sequence number, and return the result
 632:../../src/radio/cc2420/source/basic_rf.c ****     rfSettings.txSeqNumber++;
 633:../../src/radio/cc2420/source/basic_rf.c **** //	while (SFD_IS_1);
 634:../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 635:../../src/radio/cc2420/source/basic_rf.c **** nrk_sem_post(radio_sem);
 636:../../src/radio/cc2420/source/basic_rf.c **** #endif
 637:../../src/radio/cc2420/source/basic_rf.c **** 
 638:../../src/radio/cc2420/source/basic_rf.c ****     return success;
 639:../../src/radio/cc2420/source/basic_rf.c **** 
 640:../../src/radio/cc2420/source/basic_rf.c **** }
 641:../../src/radio/cc2420/source/basic_rf.c **** 
 642:../../src/radio/cc2420/source/basic_rf.c **** //-------------------------------------------------------------------------------------------------
 643:../../src/radio/cc2420/source/basic_rf.c **** //  BYTE rf_tx_packet(RF_TX_INFO *pRTI)
 644:../../src/radio/cc2420/source/basic_rf.c **** //
 645:../../src/radio/cc2420/source/basic_rf.c **** //  DESCRIPTION:
 646:../../src/radio/cc2420/source/basic_rf.c **** //		Transmits a packet using the IEEE 802.15.4 MAC data packet format with short addresses. CCA is
 647:../../src/radio/cc2420/source/basic_rf.c **** //		measured only once before backet transmission (not compliant with 802.15.4 CSMA-CA).
 648:../../src/radio/cc2420/source/basic_rf.c **** //		The function returns:
 649:../../src/radio/cc2420/source/basic_rf.c **** //			- When pRTI->ackRequest is FALSE: After the transmission has begun (SFD gone high)
 650:../../src/radio/cc2420/source/basic_rf.c **** //			- When pRTI->ackRequest is TRUE: After the acknowledgment has been received/declared missing.
 651:../../src/radio/cc2420/source/basic_rf.c **** //		The acknowledgment is received through the FIFOP interrupt.
 652:../../src/radio/cc2420/source/basic_rf.c **** //
 653:../../src/radio/cc2420/source/basic_rf.c **** //  ARGUMENTS:
 654:../../src/radio/cc2420/source/basic_rf.c **** //      RF_TX_INFO *pRTI
 655:../../src/radio/cc2420/source/basic_rf.c **** //          The transmission structure, which contains all relevant info about the packet.
 656:../../src/radio/cc2420/source/basic_rf.c **** //
 657:../../src/radio/cc2420/source/basic_rf.c **** //  RETURN VALUE:
 658:../../src/radio/cc2420/source/basic_rf.c **** //		uint8_t
 659:../../src/radio/cc2420/source/basic_rf.c **** //			Successful transmission (acknowledgment received)
 660:../../src/radio/cc2420/source/basic_rf.c **** //-------------------------------------------------------------------------------------------------
 661:../../src/radio/cc2420/source/basic_rf.c **** uint8_t rf_tx_packet(RF_TX_INFO *pRTI) {
 662:../../src/radio/cc2420/source/basic_rf.c **** 	uint16_t frameControlField;
 663:../../src/radio/cc2420/source/basic_rf.c ****     uint8_t packetLength, length;
 664:../../src/radio/cc2420/source/basic_rf.c ****     uint8_t success;
 665:../../src/radio/cc2420/source/basic_rf.c ****     uint8_t spiStatusByte;
 666:../../src/radio/cc2420/source/basic_rf.c ****    uint8_t checksum,i;
 667:../../src/radio/cc2420/source/basic_rf.c **** 	
 668:../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 669:../../src/radio/cc2420/source/basic_rf.c **** nrk_sem_pend(radio_sem);
 670:../../src/radio/cc2420/source/basic_rf.c **** #endif
 671:../../src/radio/cc2420/source/basic_rf.c **** 
 672:../../src/radio/cc2420/source/basic_rf.c **** #ifdef CC2420_OSC_OPT
 673:../../src/radio/cc2420/source/basic_rf.c **** FASTSPI_STROBE(CC2420_SXOSCON);
 674:../../src/radio/cc2420/source/basic_rf.c **** 	nrk_spin_wait_us(OSC_STARTUP_DELAY);
 675:../../src/radio/cc2420/source/basic_rf.c **** #endif
 676:../../src/radio/cc2420/source/basic_rf.c **** if(security_enable)
 677:../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_STXENC);
 678:../../src/radio/cc2420/source/basic_rf.c **** 
 679:../../src/radio/cc2420/source/basic_rf.c ****     checksum=0;
 680:../../src/radio/cc2420/source/basic_rf.c ****     for(i=0; i<pRTI->length; i++ )
 681:../../src/radio/cc2420/source/basic_rf.c ****     {
 682:../../src/radio/cc2420/source/basic_rf.c **** 	// lets do our own payload checksum because we don't trust the CRC
 683:../../src/radio/cc2420/source/basic_rf.c **** 	checksum+=pRTI->pPayload[i];
 684:../../src/radio/cc2420/source/basic_rf.c ****     }
 685:../../src/radio/cc2420/source/basic_rf.c ****     // Write the packet to the TX FIFO (the FCS is appended automatically when AUTOCRC is enabled)
 686:../../src/radio/cc2420/source/basic_rf.c **** 
 687:../../src/radio/cc2420/source/basic_rf.c ****     // These are only the MAC AGNOSTIC parameters...
 688:../../src/radio/cc2420/source/basic_rf.c ****     // Slots for example are at a slighly higher later since they assume TDMA
 689:../../src/radio/cc2420/source/basic_rf.c ****     packetLength = pRTI->length + RF_PACKET_OVERHEAD_SIZE + CHECKSUM_OVERHEAD;
 690:../../src/radio/cc2420/source/basic_rf.c ****     if(security_enable) packetLength+=4;  // for CTR counter
 691:../../src/radio/cc2420/source/basic_rf.c **** 
 692:../../src/radio/cc2420/source/basic_rf.c **** 
 693:../../src/radio/cc2420/source/basic_rf.c ****    	// XXX 2 below are hacks...
 694:../../src/radio/cc2420/source/basic_rf.c **** 	//FASTSPI_STROBE(CC2420_SFLUSHRX);
 695:../../src/radio/cc2420/source/basic_rf.c **** 	//FASTSPI_STROBE(CC2420_SFLUSHRX);
 696:../../src/radio/cc2420/source/basic_rf.c ****     // Wait until the transceiver is idle
 697:../../src/radio/cc2420/source/basic_rf.c ****     while (FIFOP_IS_1 || SFD_IS_1);
 698:../../src/radio/cc2420/source/basic_rf.c ****     // Turn off global interrupts to avoid interference on the SPI interface
 699:../../src/radio/cc2420/source/basic_rf.c ****     DISABLE_GLOBAL_INT();
 700:../../src/radio/cc2420/source/basic_rf.c **** 	// Flush the TX FIFO just in case...
 701:../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHTX);
 702:../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHTX);
 703:../../src/radio/cc2420/source/basic_rf.c **** 
 704:../../src/radio/cc2420/source/basic_rf.c **** /*
 705:../../src/radio/cc2420/source/basic_rf.c ****     // Turn on RX if necessary
 706:../../src/radio/cc2420/source/basic_rf.c ****     if (!rfSettings.receiveOn) {
 707:../../src/radio/cc2420/source/basic_rf.c **** 		FASTSPI_STROBE(CC2420_SRXON);
 708:../../src/radio/cc2420/source/basic_rf.c **** 		}
 709:../../src/radio/cc2420/source/basic_rf.c **** 
 710:../../src/radio/cc2420/source/basic_rf.c ****     // Wait for the RSSI value to become valid
 711:../../src/radio/cc2420/source/basic_rf.c ****     do {
 712:../../src/radio/cc2420/source/basic_rf.c ****         FASTSPI_UPD_STATUS(spiStatusByte);
 713:../../src/radio/cc2420/source/basic_rf.c ****     } while (!(spiStatusByte & BM(CC2420_RSSI_VALID)));
 714:../../src/radio/cc2420/source/basic_rf.c **** 
 715:../../src/radio/cc2420/source/basic_rf.c **** 	// TX begins after the CCA check has passed
 716:../../src/radio/cc2420/source/basic_rf.c ****     do {
 717:../../src/radio/cc2420/source/basic_rf.c **** 		FASTSPI_STROBE(CC2420_STXONCCA);
 718:../../src/radio/cc2420/source/basic_rf.c **** 		FASTSPI_UPD_STATUS(spiStatusByte);
 719:../../src/radio/cc2420/source/basic_rf.c **** 		halWait(100);
 720:../../src/radio/cc2420/source/basic_rf.c ****     } while (!(spiStatusByte & BM(CC2420_TX_ACTIVE)));
 721:../../src/radio/cc2420/source/basic_rf.c **** */
 722:../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*)&packetLength, 1);               // Packet length
 723:../../src/radio/cc2420/source/basic_rf.c ****     frameControlField = RF_FCF_NOACK;   // default
 724:../../src/radio/cc2420/source/basic_rf.c ****     if(auto_ack_enable) frameControlField |= RF_ACK_BM;
 725:../../src/radio/cc2420/source/basic_rf.c ****     if(security_enable) frameControlField |= RF_SEC_BM;
 726:../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &frameControlField, 2);         // Frame control field
 727:../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &rfSettings.txSeqNumber, 1);    // Sequence number
 728:../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &rfSettings.panId, 2);          // Dest. PAN ID
 729:../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &pRTI->destAddr, 2);            // Dest. address
 730:../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &rfSettings.myAddr, 2);         // Source address
 731:../../src/radio/cc2420/source/basic_rf.c ****     if(security_enable)
 732:../../src/radio/cc2420/source/basic_rf.c ****     	FASTSPI_WRITE_FIFO((uint8_t*) &tx_ctr, 4);         // CTR counter 
 733:../../src/radio/cc2420/source/basic_rf.c ****    
 734:../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) pRTI->pPayload, pRTI->length);  // Payload
 735:../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &checksum, 1);         // Checksum
 736:../../src/radio/cc2420/source/basic_rf.c **** 
 737:../../src/radio/cc2420/source/basic_rf.c **** if (pRTI->cca == TRUE)
 738:../../src/radio/cc2420/source/basic_rf.c **** {
 739:../../src/radio/cc2420/source/basic_rf.c ****     uint8_t cnt;
 740:../../src/radio/cc2420/source/basic_rf.c ****      if (!rfSettings.receiveOn)
 741:../../src/radio/cc2420/source/basic_rf.c **** 	{
 742:../../src/radio/cc2420/source/basic_rf.c **** 	  FASTSPI_STROBE (CC2420_SRXON);
 743:../../src/radio/cc2420/source/basic_rf.c **** 	}
 744:../../src/radio/cc2420/source/basic_rf.c ****       
 745:../../src/radio/cc2420/source/basic_rf.c ****       // Wait for the RSSI value to become valid
 746:../../src/radio/cc2420/source/basic_rf.c ****       do
 747:../../src/radio/cc2420/source/basic_rf.c **** 	{
 748:../../src/radio/cc2420/source/basic_rf.c **** 	  FASTSPI_UPD_STATUS (spiStatusByte);
 749:../../src/radio/cc2420/source/basic_rf.c **** 	}
 750:../../src/radio/cc2420/source/basic_rf.c ****       while (!(spiStatusByte & BM (CC2420_RSSI_VALID)));      
 751:../../src/radio/cc2420/source/basic_rf.c ****       // TX begins after the CCA check has passed
 752:../../src/radio/cc2420/source/basic_rf.c ****       cnt = 0;
 753:../../src/radio/cc2420/source/basic_rf.c ****       do
 754:../../src/radio/cc2420/source/basic_rf.c **** 	{
 755:../../src/radio/cc2420/source/basic_rf.c **** 	  FASTSPI_STROBE (CC2420_STXONCCA);
 756:../../src/radio/cc2420/source/basic_rf.c **** 	  FASTSPI_UPD_STATUS (spiStatusByte);
 757:../../src/radio/cc2420/source/basic_rf.c **** 	  cnt++;
 758:../../src/radio/cc2420/source/basic_rf.c **** 	  if (cnt > 100)
 759:../../src/radio/cc2420/source/basic_rf.c **** 	    {
 760:../../src/radio/cc2420/source/basic_rf.c **** 	      ENABLE_GLOBAL_INT ();
 761:../../src/radio/cc2420/source/basic_rf.c **** 	      nrk_sem_post(radio_sem);
 762:../../src/radio/cc2420/source/basic_rf.c **** 	      return FALSE;
 763:../../src/radio/cc2420/source/basic_rf.c **** 	    }
 764:../../src/radio/cc2420/source/basic_rf.c **** 	  halWait (100);
 765:../../src/radio/cc2420/source/basic_rf.c **** 	}
 766:../../src/radio/cc2420/source/basic_rf.c ****       while (!(spiStatusByte & BM (CC2420_TX_ACTIVE)));
 767:../../src/radio/cc2420/source/basic_rf.c ****     }
 768:../../src/radio/cc2420/source/basic_rf.c ****   else
 769:../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE (CC2420_STXON); 
 770:../../src/radio/cc2420/source/basic_rf.c **** 
 771:../../src/radio/cc2420/source/basic_rf.c ****   ENABLE_GLOBAL_INT();
 772:../../src/radio/cc2420/source/basic_rf.c **** 	// Wait for the transmission to begin before exiting (makes sure that this function cannot be call
 773:../../src/radio/cc2420/source/basic_rf.c **** 	// a second time, and thereby cancelling the first transmission (observe the FIFOP + SFD test abov
 774:../../src/radio/cc2420/source/basic_rf.c ****   while (!SFD_IS_1);
 775:../../src/radio/cc2420/source/basic_rf.c ****   success = TRUE;
 776:../../src/radio/cc2420/source/basic_rf.c **** 
 777:../../src/radio/cc2420/source/basic_rf.c **** 	// Turn interrupts back on
 778:../../src/radio/cc2420/source/basic_rf.c **** //	ENABLE_GLOBAL_INT();
 779:../../src/radio/cc2420/source/basic_rf.c **** 
 780:../../src/radio/cc2420/source/basic_rf.c ****     while (SFD_IS_1); // wait for packet to finish
 781:../../src/radio/cc2420/source/basic_rf.c **** 
 782:../../src/radio/cc2420/source/basic_rf.c ****     // Wait for the acknowledge to be received, if any
 783:../../src/radio/cc2420/source/basic_rf.c ****     if (auto_ack_enable) {
 784:../../src/radio/cc2420/source/basic_rf.c **** //		rfSettings.ackReceived = FALSE;
 785:../../src/radio/cc2420/source/basic_rf.c **** 
 786:../../src/radio/cc2420/source/basic_rf.c **** 		// Wait for the SFD to go low again
 787:../../src/radio/cc2420/source/basic_rf.c **** 		//	while (SFD_IS_1);
 788:../../src/radio/cc2420/source/basic_rf.c ****         // We'll enter RX automatically, so just wait until we can be sure that the 
 789:../../src/radio/cc2420/source/basic_rf.c **** 	// ack reception should have finished
 790:../../src/radio/cc2420/source/basic_rf.c ****         // The timeout consists of a 12-symbol turnaround time, the ack packet duration, 
 791:../../src/radio/cc2420/source/basic_rf.c **** 	// and a small margin
 792:../../src/radio/cc2420/source/basic_rf.c ****         halWait((12 * RF_SYMBOL_DURATION) + (RF_ACK_DURATION) + (2 * RF_SYMBOL_DURATION) + 100);
 793:../../src/radio/cc2420/source/basic_rf.c **** 
 794:../../src/radio/cc2420/source/basic_rf.c **** 	if(FIFO_IS_1)
 795:../../src/radio/cc2420/source/basic_rf.c **** 	{
 796:../../src/radio/cc2420/source/basic_rf.c **** 	FASTSPI_READ_FIFO_BYTE(length);
 797:../../src/radio/cc2420/source/basic_rf.c **** 	length &= RF_LENGTH_MASK; // Ignore MSB
 798:../../src/radio/cc2420/source/basic_rf.c **** 	    success = TRUE;
 799:../../src/radio/cc2420/source/basic_rf.c **** 
 800:../../src/radio/cc2420/source/basic_rf.c **** 	}else
 801:../../src/radio/cc2420/source/basic_rf.c **** 	{
 802:../../src/radio/cc2420/source/basic_rf.c **** 	    FASTSPI_STROBE(CC2420_SFLUSHRX);
 803:../../src/radio/cc2420/source/basic_rf.c **** 	    FASTSPI_STROBE(CC2420_SFLUSHRX);
 804:../../src/radio/cc2420/source/basic_rf.c **** 	    success = FALSE;
 805:../../src/radio/cc2420/source/basic_rf.c **** 	}
 806:../../src/radio/cc2420/source/basic_rf.c **** 
 807:../../src/radio/cc2420/source/basic_rf.c ****     }
 808:../../src/radio/cc2420/source/basic_rf.c **** 
 809:../../src/radio/cc2420/source/basic_rf.c ****     
 810:../../src/radio/cc2420/source/basic_rf.c **** 	// Turn off the receiver if it should not continue to be enabled
 811:../../src/radio/cc2420/source/basic_rf.c ****     
 812:../../src/radio/cc2420/source/basic_rf.c ****     DISABLE_GLOBAL_INT();	
 813:../../src/radio/cc2420/source/basic_rf.c **** 	//FASTSPI_STROBE(CC2420_SFLUSHRX);
 814:../../src/radio/cc2420/source/basic_rf.c **** 	//FASTSPI_STROBE(CC2420_SFLUSHRX);
 815:../../src/radio/cc2420/source/basic_rf.c **** 	//FASTSPI_STROBE(CC2420_SFLUSHTX);
 816:../../src/radio/cc2420/source/basic_rf.c **** 	//FASTSPI_STROBE(CC2420_SFLUSHTX);
 817:../../src/radio/cc2420/source/basic_rf.c ****     
 818:../../src/radio/cc2420/source/basic_rf.c **** #ifdef CC2420_OSC_OPT
 819:../../src/radio/cc2420/source/basic_rf.c **** 	FASTSPI_STROBE(CC2420_SXOSCOFF);
 820:../../src/radio/cc2420/source/basic_rf.c **** #endif
 821:../../src/radio/cc2420/source/basic_rf.c **** 	FASTSPI_STROBE(CC2420_SRFOFF);  // shut off radio
 822:../../src/radio/cc2420/source/basic_rf.c ****     ENABLE_GLOBAL_INT();
 823:../../src/radio/cc2420/source/basic_rf.c **** 
 824:../../src/radio/cc2420/source/basic_rf.c ****     // agr XXX hack to test time issue
 825:../../src/radio/cc2420/source/basic_rf.c ****     //rf_rx_on(); 
 826:../../src/radio/cc2420/source/basic_rf.c **** 
 827:../../src/radio/cc2420/source/basic_rf.c ****     // Increment the sequence number, and return the result
 828:../../src/radio/cc2420/source/basic_rf.c ****     rfSettings.txSeqNumber++;
 829:../../src/radio/cc2420/source/basic_rf.c **** //	while (SFD_IS_1);
 830:../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 831:../../src/radio/cc2420/source/basic_rf.c **** nrk_sem_post(radio_sem);
 832:../../src/radio/cc2420/source/basic_rf.c **** #endif
 833:../../src/radio/cc2420/source/basic_rf.c ****     return success;
 834:../../src/radio/cc2420/source/basic_rf.c **** 
 835:../../src/radio/cc2420/source/basic_rf.c **** }
 836:../../src/radio/cc2420/source/basic_rf.c **** 
 837:../../src/radio/cc2420/source/basic_rf.c **** uint8_t rf_busy()
 838:../../src/radio/cc2420/source/basic_rf.c **** {
 874               	.LM71:
 875               	.LFBB16:
 876               	/* prologue: frame size=0 */
 877               	/* prologue end (size=0) */
 839:../../src/radio/cc2420/source/basic_rf.c **** return SFD_IS_1;
 879               	.LM72:
 880 02cc 89B1      		in r24,41-0x20
 881 02ce 9927      		clr r25
 882 02d0 76E0      		ldi r23,6
 883 02d2 9695      	1:	lsr r25
 884 02d4 8795      		ror r24
 885 02d6 7A95      		dec r23
 886 02d8 01F4      		brne 1b
 840:../../src/radio/cc2420/source/basic_rf.c **** }
 888               	.LM73:
 889 02da 8170      		andi r24,lo8(1)
 890 02dc 9070      		andi r25,hi8(1)
 891               	/* epilogue: frame size=0 */
 892 02de 0895      		ret
 893               	/* epilogue end (size=1) */
 894               	/* function rf_busy size 10 (9) */
 896               	.Lscope16:
 898               		.stabd	78,0,0
 900               	.global	rf_rx_check_fifop
 902               	rf_rx_check_fifop:
 903               		.stabd	46,0,0
 841:../../src/radio/cc2420/source/basic_rf.c **** 
 842:../../src/radio/cc2420/source/basic_rf.c **** uint8_t rf_rx_check_fifop()
 843:../../src/radio/cc2420/source/basic_rf.c **** {
 905               	.LM74:
 906               	.LFBB17:
 907               	/* prologue: frame size=0 */
 908               	/* prologue end (size=0) */
 844:../../src/radio/cc2420/source/basic_rf.c **** return FIFOP_IS_1;
 910               	.LM75:
 911 02e0 8CB1      		in r24,44-0x20
 912 02e2 9927      		clr r25
 913 02e4 87FD      		sbrc r24,7
 914 02e6 9095      		com r25
 845:../../src/radio/cc2420/source/basic_rf.c **** }
 916               	.LM76:
 917 02e8 8827      		clr r24
 918 02ea 990F      		lsl r25
 919 02ec 881F      		rol r24
 920 02ee 9927      		clr r25
 921               	/* epilogue: frame size=0 */
 922 02f0 0895      		ret
 923               	/* epilogue end (size=1) */
 924               	/* function rf_rx_check_fifop size 9 (8) */
 926               	.Lscope17:
 928               		.stabd	78,0,0
 930               	.global	rf_rx_check_sfd
 932               	rf_rx_check_sfd:
 933               		.stabd	46,0,0
 846:../../src/radio/cc2420/source/basic_rf.c **** 
 847:../../src/radio/cc2420/source/basic_rf.c **** 
 848:../../src/radio/cc2420/source/basic_rf.c **** uint8_t rf_rx_check_sfd()
 849:../../src/radio/cc2420/source/basic_rf.c **** {
 935               	.LM77:
 936               	.LFBB18:
 937               	/* prologue: frame size=0 */
 938               	/* prologue end (size=0) */
 850:../../src/radio/cc2420/source/basic_rf.c **** return SFD_IS_1;
 940               	.LM78:
 941 02f2 89B1      		in r24,41-0x20
 942 02f4 9927      		clr r25
 943 02f6 F6E0      		ldi r31,6
 944 02f8 9695      	1:	lsr r25
 945 02fa 8795      		ror r24
 946 02fc FA95      		dec r31
 947 02fe 01F4      		brne 1b
 851:../../src/radio/cc2420/source/basic_rf.c **** }
 949               	.LM79:
 950 0300 8170      		andi r24,lo8(1)
 951 0302 9070      		andi r25,hi8(1)
 952               	/* epilogue: frame size=0 */
 953 0304 0895      		ret
 954               	/* epilogue end (size=1) */
 955               	/* function rf_rx_check_sfd size 10 (9) */
 957               	.Lscope18:
 959               		.stabd	78,0,0
 961               	.global	rf_polling_rx_packet
 963               	rf_polling_rx_packet:
 964               		.stabd	46,0,0
 852:../../src/radio/cc2420/source/basic_rf.c **** uint16_t tmp_blah;
 853:../../src/radio/cc2420/source/basic_rf.c **** 
 854:../../src/radio/cc2420/source/basic_rf.c **** int8_t rf_polling_rx_packet()
 855:../../src/radio/cc2420/source/basic_rf.c **** {
 966               	.LM80:
 967               	.LFBB19:
 968               	/* prologue: frame size=4 */
 969 0306 CF93      		push r28
 970 0308 DF93      		push r29
 971 030a CDB7      		in r28,__SP_L__
 972 030c DEB7      		in r29,__SP_H__
 973 030e 2497      		sbiw r28,4
 974 0310 0FB6      		in __tmp_reg__,__SREG__
 975 0312 F894      		cli
 976 0314 DEBF      		out __SP_H__,r29
 977 0316 0FBE      		out __SREG__,__tmp_reg__
 978 0318 CDBF      		out __SP_L__,r28
 979               	/* prologue end (size=10) */
 856:../../src/radio/cc2420/source/basic_rf.c **** uint8_t tmp;
 857:../../src/radio/cc2420/source/basic_rf.c **** 	
 858:../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 859:../../src/radio/cc2420/source/basic_rf.c **** nrk_sem_pend(radio_sem);
 860:../../src/radio/cc2420/source/basic_rf.c **** #endif
 861:../../src/radio/cc2420/source/basic_rf.c **** 
 862:../../src/radio/cc2420/source/basic_rf.c ****     if(FIFOP_IS_1 )
 981               	.LM81:
 982 031a 6799      		sbic 44-0x20,7
 983 031c 00C0      		rjmp .L195
 985               	.LM82:
 986 031e 80E0      		ldi r24,lo8(0)
 987 0320 90E0      		ldi r25,hi8(0)
 988 0322 00C0      		rjmp .L197
 989               	.L195:
 990               	.LBB2:
 863:../../src/radio/cc2420/source/basic_rf.c ****     {
 864:../../src/radio/cc2420/source/basic_rf.c **** 	uint16_t frameControlField;
 865:../../src/radio/cc2420/source/basic_rf.c **** 	int8_t length;
 866:../../src/radio/cc2420/source/basic_rf.c **** 	uint8_t pFooter[2];
 867:../../src/radio/cc2420/source/basic_rf.c **** 	uint8_t checksum,rx_checksum,i;
 868:../../src/radio/cc2420/source/basic_rf.c **** 			
 869:../../src/radio/cc2420/source/basic_rf.c **** 	last_pkt_encrypted=0;
 992               	.LM83:
 993 0324 1092 0000 		sts last_pkt_encrypted,__zero_reg__
 870:../../src/radio/cc2420/source/basic_rf.c **** 
 871:../../src/radio/cc2420/source/basic_rf.c **** //	FASTSPI_STROBE(CC2420_SRXON);
 872:../../src/radio/cc2420/source/basic_rf.c **** //	FASTSPI_STROBE(CC2420_SFLUSHRX);
 873:../../src/radio/cc2420/source/basic_rf.c ****     
 874:../../src/radio/cc2420/source/basic_rf.c **** //	while(!SFD_IS_1);
 875:../../src/radio/cc2420/source/basic_rf.c **** //  XXX Need to make sure SFD has gone down to be sure packet finished!
 876:../../src/radio/cc2420/source/basic_rf.c **** //	while(SFD_IS_1);
 877:../../src/radio/cc2420/source/basic_rf.c ****     // Clean up and exit in case of FIFO overflow, which is indicated by FIFOP = 1 and FIFO = 0
 878:../../src/radio/cc2420/source/basic_rf.c **** 	if((FIFOP_IS_1) && (!(FIFO_IS_1))) {	   
 995               	.LM84:
 996 0328 679B      		sbis 44-0x20,7
 997 032a 00C0      		rjmp .L198
 998 032c 3199      		sbic 38-0x20,1
 999 032e 00C0      		rjmp .L198
 879:../../src/radio/cc2420/source/basic_rf.c **** 	    // always read 1 byte before flush (data sheet pg 62)
 880:../../src/radio/cc2420/source/basic_rf.c **** 	    FASTSPI_READ_FIFO_BYTE(tmp);  
 1001               	.LM85:
 1002 0330 4098      		cbi 40-0x20,0
 1003 0332 8FE7      		ldi r24,lo8(127)
 1004 0334 8EBD      		out 78-0x20,r24
 1005               	.L201:
 1006 0336 0DB4      		in __tmp_reg__,77-0x20
 1007 0338 07FE      		sbrs __tmp_reg__,7
 1008 033a 00C0      		rjmp .L201
 1009 033c 1EBC      		out 78-0x20,__zero_reg__
 1010               	.L203:
 1011 033e 0DB4      		in __tmp_reg__,77-0x20
 1012 0340 07FE      		sbrs __tmp_reg__,7
 1013 0342 00C0      		rjmp .L203
 1014 0344 8EB5      		in r24,78-0x20
 1015 0346 409A      		sbi 40-0x20,0
 881:../../src/radio/cc2420/source/basic_rf.c **** 	    FASTSPI_STROBE(CC2420_SFLUSHRX);
 1017               	.LM86:
 1018 0348 4098      		cbi 40-0x20,0
 1019 034a 88E0      		ldi r24,lo8(8)
 1020 034c 8EBD      		out 78-0x20,r24
 1021               	.L205:
 1022 034e 0DB4      		in __tmp_reg__,77-0x20
 1023 0350 07FE      		sbrs __tmp_reg__,7
 1024 0352 00C0      		rjmp .L205
 1025 0354 409A      		sbi 40-0x20,0
 882:../../src/radio/cc2420/source/basic_rf.c **** 	    FASTSPI_STROBE(CC2420_SFLUSHRX);
 1027               	.LM87:
 1028 0356 4098      		cbi 40-0x20,0
 1029 0358 88E0      		ldi r24,lo8(8)
 1030 035a 8EBD      		out 78-0x20,r24
 1031               	.L207:
 1032 035c 0DB4      		in __tmp_reg__,77-0x20
 1033 035e 07FE      		sbrs __tmp_reg__,7
 1034 0360 00C0      		rjmp .L207
 1035 0362 409A      		sbi 40-0x20,0
 1036 0364 8FEF      		ldi r24,lo8(-1)
 1037 0366 9FEF      		ldi r25,hi8(-1)
 1038 0368 00C0      		rjmp .L197
 1039               	.L198:
 883:../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 884:../../src/radio/cc2420/source/basic_rf.c **** 	    nrk_sem_post(radio_sem);
 885:../../src/radio/cc2420/source/basic_rf.c **** #endif
 886:../../src/radio/cc2420/source/basic_rf.c **** 	    return -1;
 887:../../src/radio/cc2420/source/basic_rf.c **** 	}
 888:../../src/radio/cc2420/source/basic_rf.c **** 
 889:../../src/radio/cc2420/source/basic_rf.c **** 	// Payload length
 890:../../src/radio/cc2420/source/basic_rf.c **** 	FASTSPI_READ_FIFO_BYTE(length);
 1041               	.LM88:
 1042 036a 4098      		cbi 40-0x20,0
 1043 036c 8FE7      		ldi r24,lo8(127)
 1044 036e 8EBD      		out 78-0x20,r24
 1045               	.L209:
 1046 0370 0DB4      		in __tmp_reg__,77-0x20
 1047 0372 07FE      		sbrs __tmp_reg__,7
 1048 0374 00C0      		rjmp .L209
 1049 0376 1EBC      		out 78-0x20,__zero_reg__
 1050               	.L211:
 1051 0378 0DB4      		in __tmp_reg__,77-0x20
 1052 037a 07FE      		sbrs __tmp_reg__,7
 1053 037c 00C0      		rjmp .L211
 1054 037e 4EB5      		in r20,78-0x20
 1055 0380 409A      		sbi 40-0x20,0
 891:../../src/radio/cc2420/source/basic_rf.c **** 	length &= RF_LENGTH_MASK; // Ignore MSB
 1057               	.LM89:
 1058 0382 4F77      		andi r20,lo8(127)
 892:../../src/radio/cc2420/source/basic_rf.c ****     // Ignore the packet if the length is too short
 893:../../src/radio/cc2420/source/basic_rf.c ****     if(length<=0){  
 1060               	.LM90:
 1061 0384 01F4      		brne .L213
 894:../../src/radio/cc2420/source/basic_rf.c **** 	    // always read 1 byte before flush (data sheet pg 62)
 895:../../src/radio/cc2420/source/basic_rf.c **** 	    FASTSPI_READ_FIFO_BYTE(tmp);  
 1063               	.LM91:
 1064 0386 4098      		cbi 40-0x20,0
 1065 0388 8FE7      		ldi r24,lo8(127)
 1066 038a 8EBD      		out 78-0x20,r24
 1067               	.L215:
 1068 038c 0DB4      		in __tmp_reg__,77-0x20
 1069 038e 07FE      		sbrs __tmp_reg__,7
 1070 0390 00C0      		rjmp .L215
 1071 0392 1EBC      		out 78-0x20,__zero_reg__
 1072               	.L217:
 1073 0394 0DB4      		in __tmp_reg__,77-0x20
 1074 0396 07FE      		sbrs __tmp_reg__,7
 1075 0398 00C0      		rjmp .L217
 1076 039a 8EB5      		in r24,78-0x20
 1077 039c 409A      		sbi 40-0x20,0
 896:../../src/radio/cc2420/source/basic_rf.c **** 	    FASTSPI_STROBE(CC2420_SFLUSHRX);
 1079               	.LM92:
 1080 039e 4098      		cbi 40-0x20,0
 1081 03a0 88E0      		ldi r24,lo8(8)
 1082 03a2 8EBD      		out 78-0x20,r24
 1083               	.L219:
 1084 03a4 0DB4      		in __tmp_reg__,77-0x20
 1085 03a6 07FE      		sbrs __tmp_reg__,7
 1086 03a8 00C0      		rjmp .L219
 1087 03aa 409A      		sbi 40-0x20,0
 897:../../src/radio/cc2420/source/basic_rf.c **** 	    FASTSPI_STROBE(CC2420_SFLUSHRX);
 1089               	.LM93:
 1090 03ac 4098      		cbi 40-0x20,0
 1091 03ae 88E0      		ldi r24,lo8(8)
 1092 03b0 8EBD      		out 78-0x20,r24
 1093               	.L221:
 1094 03b2 0DB4      		in __tmp_reg__,77-0x20
 1095 03b4 07FE      		sbrs __tmp_reg__,7
 1096 03b6 00C0      		rjmp .L221
 1097 03b8 409A      		sbi 40-0x20,0
 1098 03ba 8EEF      		ldi r24,lo8(-2)
 1099 03bc 9FEF      		ldi r25,hi8(-2)
 1100 03be 00C0      		rjmp .L197
 1101               	.L213:
 898:../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 899:../../src/radio/cc2420/source/basic_rf.c **** 	    nrk_sem_post(radio_sem);
 900:../../src/radio/cc2420/source/basic_rf.c **** #endif
 901:../../src/radio/cc2420/source/basic_rf.c **** 	return -2;
 902:../../src/radio/cc2420/source/basic_rf.c **** 	}
 903:../../src/radio/cc2420/source/basic_rf.c ****     if (length < (RF_PACKET_OVERHEAD_SIZE + CHECKSUM_OVERHEAD)/*RF_ACK_PACKET_SIZE*/ || (length-RF_
 1103               	.LM94:
 1104 03c0 4C30      		cpi r20,lo8(12)
 1105 03c2 04F0      		brlt .L223
 1106 03c4 E091 0000 		lds r30,rfSettings
 1107 03c8 F091 0000 		lds r31,(rfSettings)+1
 1108 03cc 242F      		mov r18,r20
 1109 03ce 3327      		clr r19
 1110 03d0 27FD      		sbrc r18,7
 1111 03d2 3095      		com r19
 1112 03d4 2B50      		subi r18,lo8(-(-11))
 1113 03d6 3040      		sbci r19,hi8(-(-11))
 1114 03d8 8481      		ldd r24,Z+4
 1115 03da 9927      		clr r25
 1116 03dc 87FD      		sbrc r24,7
 1117 03de 9095      		com r25
 1118 03e0 8217      		cp r24,r18
 1119 03e2 9307      		cpc r25,r19
 1120 03e4 04F4      		brge .L225
 1121               	.L223:
 904:../../src/radio/cc2420/source/basic_rf.c ****     	FASTSPI_READ_FIFO_GARBAGE(length);
 1123               	.LM95:
 1124 03e6 4098      		cbi 40-0x20,0
 1125 03e8 8FE7      		ldi r24,lo8(127)
 1126 03ea 8EBD      		out 78-0x20,r24
 1127               	.L226:
 1128 03ec 0DB4      		in __tmp_reg__,77-0x20
 1129 03ee 07FE      		sbrs __tmp_reg__,7
 1130 03f0 00C0      		rjmp .L226
 1131 03f2 60E0      		ldi r22,lo8(0)
 1132 03f4 70E0      		ldi r23,hi8(0)
 1133               	.LBB3:
 1134 03f6 242F      		mov r18,r20
 1135 03f8 3327      		clr r19
 1136 03fa 27FD      		sbrc r18,7
 1137 03fc 3095      		com r19
 1138 03fe 00C0      		rjmp .L228
 1139               	.L229:
 1140 0400 1EBC      		out 78-0x20,__zero_reg__
 1141               	.L230:
 1142 0402 0DB4      		in __tmp_reg__,77-0x20
 1143 0404 07FE      		sbrs __tmp_reg__,7
 1144 0406 00C0      		rjmp .L230
 1145 0408 6F5F      		subi r22,lo8(-(1))
 1146 040a 7F4F      		sbci r23,hi8(-(1))
 1147               	.L228:
 1148 040c 862F      		mov r24,r22
 1149 040e 9927      		clr r25
 1150 0410 8217      		cp r24,r18
 1151 0412 9307      		cpc r25,r19
 1152 0414 04F4      		brge .L232
 1153 0416 3199      		sbic 38-0x20,1
 1154 0418 00C0      		rjmp .L229
 1155               	.L232:
 1156               	.LBE3:
 1157 041a 409A      		sbi 40-0x20,0
 905:../../src/radio/cc2420/source/basic_rf.c **** 	    FASTSPI_READ_FIFO_BYTE(tmp);  
 1159               	.LM96:
 1160 041c 4098      		cbi 40-0x20,0
 1161 041e 8FE7      		ldi r24,lo8(127)
 1162 0420 8EBD      		out 78-0x20,r24
 1163               	.L234:
 1164 0422 0DB4      		in __tmp_reg__,77-0x20
 1165 0424 07FE      		sbrs __tmp_reg__,7
 1166 0426 00C0      		rjmp .L234
 1167 0428 1EBC      		out 78-0x20,__zero_reg__
 1168               	.L236:
 1169 042a 0DB4      		in __tmp_reg__,77-0x20
 1170 042c 07FE      		sbrs __tmp_reg__,7
 1171 042e 00C0      		rjmp .L236
 1172 0430 8EB5      		in r24,78-0x20
 1173 0432 409A      		sbi 40-0x20,0
 906:../../src/radio/cc2420/source/basic_rf.c **** 	    FASTSPI_STROBE(CC2420_SFLUSHRX);
 1175               	.LM97:
 1176 0434 4098      		cbi 40-0x20,0
 1177 0436 88E0      		ldi r24,lo8(8)
 1178 0438 8EBD      		out 78-0x20,r24
 1179               	.L238:
 1180 043a 0DB4      		in __tmp_reg__,77-0x20
 1181 043c 07FE      		sbrs __tmp_reg__,7
 1182 043e 00C0      		rjmp .L238
 1183 0440 409A      		sbi 40-0x20,0
 907:../../src/radio/cc2420/source/basic_rf.c **** 	    FASTSPI_STROBE(CC2420_SFLUSHRX);
 1185               	.LM98:
 1186 0442 4098      		cbi 40-0x20,0
 1187 0444 88E0      		ldi r24,lo8(8)
 1188 0446 8EBD      		out 78-0x20,r24
 1189               	.L240:
 1190 0448 0DB4      		in __tmp_reg__,77-0x20
 1191 044a 07FE      		sbrs __tmp_reg__,7
 1192 044c 00C0      		rjmp .L240
 1193 044e 409A      		sbi 40-0x20,0
 1194 0450 8DEF      		ldi r24,lo8(-3)
 1195 0452 9FEF      		ldi r25,hi8(-3)
 1196 0454 00C0      		rjmp .L197
 1197               	.L225:
 908:../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 909:../../src/radio/cc2420/source/basic_rf.c **** 	    nrk_sem_post(radio_sem);
 910:../../src/radio/cc2420/source/basic_rf.c **** #endif
 911:../../src/radio/cc2420/source/basic_rf.c **** 	return -3;
 912:../../src/radio/cc2420/source/basic_rf.c **** 	//printf_u( "Bad length: %d %d\n",length, rfSettings.pRxInfo->max_length );
 913:../../src/radio/cc2420/source/basic_rf.c ****     // Otherwise, if the length is valid, then proceed with the rest of the packet
 914:../../src/radio/cc2420/source/basic_rf.c ****     } else {
 915:../../src/radio/cc2420/source/basic_rf.c ****         // Register the payload length
 916:../../src/radio/cc2420/source/basic_rf.c ****         rfSettings.pRxInfo->length = length - RF_PACKET_OVERHEAD_SIZE - CHECKSUM_OVERHEAD;
 1199               	.LM99:
 1200 0456 E091 0000 		lds r30,rfSettings
 1201 045a F091 0000 		lds r31,(rfSettings)+1
 1202 045e 4C50      		subi r20,lo8(-(-12))
 1203 0460 4383      		std Z+3,r20
 917:../../src/radio/cc2420/source/basic_rf.c ****         // Read the frame control field and the data sequence number
 918:../../src/radio/cc2420/source/basic_rf.c ****         FASTSPI_READ_FIFO_NO_WAIT((uint8_t*) &frameControlField, 2);
 1205               	.LM100:
 1206 0462 4098      		cbi 40-0x20,0
 1207 0464 8FE7      		ldi r24,lo8(127)
 1208 0466 8EBD      		out 78-0x20,r24
 1209               	.L242:
 1210 0468 0DB4      		in __tmp_reg__,77-0x20
 1211 046a 07FE      		sbrs __tmp_reg__,7
 1212 046c 00C0      		rjmp .L242
 1213 046e FE01      		movw r30,r28
 1214 0470 3196      		adiw r30,1
 1215               	.LBB4:
 1216 0472 9E01      		movw r18,r28
 1217 0474 2D5F      		subi r18,lo8(-(3))
 1218 0476 3F4F      		sbci r19,hi8(-(3))
 1219               	.L244:
 1220 0478 1EBC      		out 78-0x20,__zero_reg__
 1221               	.L245:
 1222 047a 0DB4      		in __tmp_reg__,77-0x20
 1223 047c 07FE      		sbrs __tmp_reg__,7
 1224 047e 00C0      		rjmp .L245
 1225 0480 8EB5      		in r24,78-0x20
 1226 0482 8193      		st Z+,r24
 1227 0484 E217      		cp r30,r18
 1228 0486 F307      		cpc r31,r19
 1229 0488 01F4      		brne .L244
 1230               	.LBE4:
 1231 048a 409A      		sbi 40-0x20,0
 919:../../src/radio/cc2420/source/basic_rf.c ****         rfSettings.pRxInfo->ackRequest = !!(frameControlField & RF_FCF_ACK_BM);
 1233               	.LM101:
 1234 048c E091 0000 		lds r30,rfSettings
 1235 0490 F091 0000 		lds r31,(rfSettings)+1
 1236 0494 8981      		ldd r24,Y+1
 1237 0496 9A81      		ldd r25,Y+2
 1238 0498 A5E0      		ldi r26,5
 1239 049a 9695      	1:	lsr r25
 1240 049c 8795      		ror r24
 1241 049e AA95      		dec r26
 1242 04a0 01F4      		brne 1b
 1243 04a2 8170      		andi r24,lo8(1)
 1244 04a4 8783      		std Z+7,r24
 920:../../src/radio/cc2420/source/basic_rf.c ****     	FASTSPI_READ_FIFO_BYTE(rfSettings.pRxInfo->seqNumber);
 1246               	.LM102:
 1247 04a6 4098      		cbi 40-0x20,0
 1248 04a8 8FE7      		ldi r24,lo8(127)
 1249 04aa 8EBD      		out 78-0x20,r24
 1250               	.L248:
 1251 04ac 0DB4      		in __tmp_reg__,77-0x20
 1252 04ae 07FE      		sbrs __tmp_reg__,7
 1253 04b0 00C0      		rjmp .L248
 1254 04b2 1EBC      		out 78-0x20,__zero_reg__
 1255               	.L250:
 1256 04b4 0DB4      		in __tmp_reg__,77-0x20
 1257 04b6 07FE      		sbrs __tmp_reg__,7
 1258 04b8 00C0      		rjmp .L250
 1259 04ba E091 0000 		lds r30,rfSettings
 1260 04be F091 0000 		lds r31,(rfSettings)+1
 1261 04c2 8EB5      		in r24,78-0x20
 1262 04c4 8083      		st Z,r24
 1263 04c6 409A      		sbi 40-0x20,0
 921:../../src/radio/cc2420/source/basic_rf.c **** 
 922:../../src/radio/cc2420/source/basic_rf.c **** 		// Is this an acknowledgment packet?
 923:../../src/radio/cc2420/source/basic_rf.c **** /*
 924:../../src/radio/cc2420/source/basic_rf.c ****     	if ((length == RF_ACK_PACKET_SIZE) && (frameControlField == RF_ACK_FCF) && (rfSettings.pRxInfo
 925:../../src/radio/cc2420/source/basic_rf.c **** 
 926:../../src/radio/cc2420/source/basic_rf.c ****  	       	// Read the footer and check for CRC OK
 927:../../src/radio/cc2420/source/basic_rf.c **** 			FASTSPI_READ_FIFO_NO_WAIT((uint8_t*) pFooter, 2);
 928:../../src/radio/cc2420/source/basic_rf.c **** 
 929:../../src/radio/cc2420/source/basic_rf.c **** 			// Indicate the successful ack reception (this flag is polled by the transmission routine)
 930:../../src/radio/cc2420/source/basic_rf.c **** 			if (pFooter[1] & RF_CRC_OK_BM) rfSettings.ackReceived = TRUE;
 931:../../src/radio/cc2420/source/basic_rf.c ****  
 932:../../src/radio/cc2420/source/basic_rf.c **** 		// Too small to be a valid packet?
 933:../../src/radio/cc2420/source/basic_rf.c **** 		} else if (length < RF_PACKET_OVERHEAD_SIZE) {
 934:../../src/radio/cc2420/source/basic_rf.c **** 			FASTSPI_READ_FIFO_GARBAGE(length - 3);
 935:../../src/radio/cc2420/source/basic_rf.c **** 
 936:../../src/radio/cc2420/source/basic_rf.c **** 		// Receive the rest of the packet
 937:../../src/radio/cc2420/source/basic_rf.c **** 		} else {
 938:../../src/radio/cc2420/source/basic_rf.c **** */
 939:../../src/radio/cc2420/source/basic_rf.c **** 			// Skip the destination PAN and address (that's taken care of by harware address recognition!)
 940:../../src/radio/cc2420/source/basic_rf.c **** 		FASTSPI_READ_FIFO_GARBAGE(4);
 1265               	.LM103:
 1266 04c8 4098      		cbi 40-0x20,0
 1267 04ca 8FE7      		ldi r24,lo8(127)
 1268 04cc 8EBD      		out 78-0x20,r24
 1269               	.L252:
 1270 04ce 0DB4      		in __tmp_reg__,77-0x20
 1271 04d0 07FE      		sbrs __tmp_reg__,7
 1272 04d2 00C0      		rjmp .L252
 1273 04d4 80E0      		ldi r24,lo8(0)
 1274 04d6 00C0      		rjmp .L254
 1275               	.L255:
 1276               	.LBB5:
 1277 04d8 1EBC      		out 78-0x20,__zero_reg__
 1278               	.L256:
 1279 04da 0DB4      		in __tmp_reg__,77-0x20
 1280 04dc 07FE      		sbrs __tmp_reg__,7
 1281 04de 00C0      		rjmp .L256
 1282 04e0 8F5F      		subi r24,lo8(-(1))
 1283 04e2 8430      		cpi r24,lo8(4)
 1284 04e4 01F0      		breq .L258
 1285               	.L254:
 1286 04e6 3199      		sbic 38-0x20,1
 1287 04e8 00C0      		rjmp .L255
 1288               	.L258:
 1289               	.LBE5:
 1290 04ea 409A      		sbi 40-0x20,0
 941:../../src/radio/cc2420/source/basic_rf.c **** 
 942:../../src/radio/cc2420/source/basic_rf.c **** 			// Read the source address
 943:../../src/radio/cc2420/source/basic_rf.c **** 			FASTSPI_READ_FIFO_NO_WAIT((uint8_t*) &rfSettings.pRxInfo->srcAddr, 2);
 1292               	.LM104:
 1293 04ec 4098      		cbi 40-0x20,0
 1294 04ee 8FE7      		ldi r24,lo8(127)
 1295 04f0 8EBD      		out 78-0x20,r24
 1296               	.L259:
 1297 04f2 0DB4      		in __tmp_reg__,77-0x20
 1298 04f4 07FE      		sbrs __tmp_reg__,7
 1299 04f6 00C0      		rjmp .L259
 1300 04f8 20E0      		ldi r18,lo8(0)
 1301 04fa 30E0      		ldi r19,hi8(0)
 1302               	.L261:
 1303               	.LBB6:
 1304 04fc 1EBC      		out 78-0x20,__zero_reg__
 1305               	.L262:
 1306 04fe 0DB4      		in __tmp_reg__,77-0x20
 1307 0500 07FE      		sbrs __tmp_reg__,7
 1308 0502 00C0      		rjmp .L262
 1309 0504 E091 0000 		lds r30,rfSettings
 1310 0508 F091 0000 		lds r31,(rfSettings)+1
 1311 050c E20F      		add r30,r18
 1312 050e F31F      		adc r31,r19
 1313 0510 8EB5      		in r24,78-0x20
 1314 0512 8183      		std Z+1,r24
 1315 0514 2F5F      		subi r18,lo8(-(1))
 1316 0516 3F4F      		sbci r19,hi8(-(1))
 1317 0518 2230      		cpi r18,2
 1318 051a 3105      		cpc r19,__zero_reg__
 1319 051c 01F4      		brne .L261
 1320               	.LBE6:
 1321 051e 409A      		sbi 40-0x20,0
 944:../../src/radio/cc2420/source/basic_rf.c **** 
 945:../../src/radio/cc2420/source/basic_rf.c **** 		        if(frameControlField & RF_SEC_BM)
 1323               	.LM105:
 1324 0520 8981      		ldd r24,Y+1
 1325 0522 9A81      		ldd r25,Y+2
 1326 0524 83FF      		sbrs r24,3
 1327 0526 00C0      		rjmp .L265
 1328               	.LBB7:
 946:../../src/radio/cc2420/source/basic_rf.c **** 			{
 947:../../src/radio/cc2420/source/basic_rf.c **** 				uint8_t n;
 948:../../src/radio/cc2420/source/basic_rf.c **** 				// READ rx_ctr and set it
 949:../../src/radio/cc2420/source/basic_rf.c **** 				FASTSPI_READ_FIFO_NO_WAIT((uint8_t*) &rx_ctr, 4);
 1330               	.LM106:
 1331 0528 4098      		cbi 40-0x20,0
 1332 052a 8FE7      		ldi r24,lo8(127)
 1333 052c 8EBD      		out 78-0x20,r24
 1334               	.L267:
 1335 052e 0DB4      		in __tmp_reg__,77-0x20
 1336 0530 07FE      		sbrs __tmp_reg__,7
 1337 0532 00C0      		rjmp .L267
 1338 0534 E0E0      		ldi r30,lo8(rx_ctr)
 1339 0536 F0E0      		ldi r31,hi8(rx_ctr)
 1340               	.L269:
 1341               	.LBB8:
 1342 0538 1EBC      		out 78-0x20,__zero_reg__
 1343               	.L270:
 1344 053a 0DB4      		in __tmp_reg__,77-0x20
 1345 053c 07FE      		sbrs __tmp_reg__,7
 1346 053e 00C0      		rjmp .L270
 1347 0540 8EB5      		in r24,78-0x20
 1348 0542 8193      		st Z+,r24
 1349 0544 80E0      		ldi r24,hi8(rx_ctr+4)
 1350 0546 E030      		cpi r30,lo8(rx_ctr+4)
 1351 0548 F807      		cpc r31,r24
 1352 054a 01F4      		brne .L269
 1353               	.LBE8:
 1354 054c 409A      		sbi 40-0x20,0
 950:../../src/radio/cc2420/source/basic_rf.c **** 				FASTSPI_WRITE_RAM(&rx_ctr[0],(CC2420RAM_RXNONCE+9),2,n); 
 1356               	.LM107:
 1357 054e 4098      		cbi 40-0x20,0
 1358 0550 89E9      		ldi r24,lo8(-103)
 1359 0552 8EBD      		out 78-0x20,r24
 1360               	.L273:
 1361 0554 0DB4      		in __tmp_reg__,77-0x20
 1362 0556 07FE      		sbrs __tmp_reg__,7
 1363 0558 00C0      		rjmp .L273
 1364 055a 80E8      		ldi r24,lo8(-128)
 1365 055c 8EBD      		out 78-0x20,r24
 1366               	.L275:
 1367 055e 0DB4      		in __tmp_reg__,77-0x20
 1368 0560 07FE      		sbrs __tmp_reg__,7
 1369 0562 00C0      		rjmp .L275
 1370 0564 92E0      		ldi r25,lo8(2)
 1371               	.L277:
 1372 0566 9150      		subi r25,lo8(-(-1))
 1373 0568 E92F      		mov r30,r25
 1374 056a FF27      		clr r31
 1375 056c E050      		subi r30,lo8(-(rx_ctr))
 1376 056e F040      		sbci r31,hi8(-(rx_ctr))
 1377 0570 8081      		ld r24,Z
 1378 0572 8EBD      		out 78-0x20,r24
 1379               	.L278:
 1380 0574 0DB4      		in __tmp_reg__,77-0x20
 1381 0576 07FE      		sbrs __tmp_reg__,7
 1382 0578 00C0      		rjmp .L278
 1383 057a 9923      		tst r25
 1384 057c 01F4      		brne .L277
 1385 057e 409A      		sbi 40-0x20,0
 951:../../src/radio/cc2420/source/basic_rf.c **** 				FASTSPI_WRITE_RAM(&rx_ctr[2],(CC2420RAM_RXNONCE+11),2,n); 
 1387               	.LM108:
 1388 0580 4098      		cbi 40-0x20,0
 1389 0582 8BE9      		ldi r24,lo8(-101)
 1390 0584 8EBD      		out 78-0x20,r24
 1391               	.L281:
 1392 0586 0DB4      		in __tmp_reg__,77-0x20
 1393 0588 07FE      		sbrs __tmp_reg__,7
 1394 058a 00C0      		rjmp .L281
 1395 058c 80E8      		ldi r24,lo8(-128)
 1396 058e 8EBD      		out 78-0x20,r24
 1397               	.L283:
 1398 0590 0DB4      		in __tmp_reg__,77-0x20
 1399 0592 07FE      		sbrs __tmp_reg__,7
 1400 0594 00C0      		rjmp .L283
 1401 0596 92E0      		ldi r25,lo8(2)
 1402               	.L285:
 1403 0598 9150      		subi r25,lo8(-(-1))
 1404 059a E92F      		mov r30,r25
 1405 059c FF27      		clr r31
 1406 059e E050      		subi r30,lo8(-(rx_ctr+2))
 1407 05a0 F040      		sbci r31,hi8(-(rx_ctr+2))
 1408 05a2 8081      		ld r24,Z
 1409 05a4 8EBD      		out 78-0x20,r24
 1410               	.L286:
 1411 05a6 0DB4      		in __tmp_reg__,77-0x20
 1412 05a8 07FE      		sbrs __tmp_reg__,7
 1413 05aa 00C0      		rjmp .L286
 1414 05ac 9923      		tst r25
 1415 05ae 01F4      		brne .L285
 1416 05b0 409A      		sbi 40-0x20,0
 952:../../src/radio/cc2420/source/basic_rf.c **** 				FASTSPI_STROBE(CC2420_SRXDEC);  // if packet is encrypted then decrypt 
 1418               	.LM109:
 1419 05b2 4098      		cbi 40-0x20,0
 1420 05b4 8CE0      		ldi r24,lo8(12)
 1421 05b6 8EBD      		out 78-0x20,r24
 1422               	.L289:
 1423 05b8 0DB4      		in __tmp_reg__,77-0x20
 1424 05ba 07FE      		sbrs __tmp_reg__,7
 1425 05bc 00C0      		rjmp .L289
 1426 05be 409A      		sbi 40-0x20,0
 953:../../src/radio/cc2420/source/basic_rf.c **** 				last_pkt_encrypted=1;
 1428               	.LM110:
 1429 05c0 81E0      		ldi r24,lo8(1)
 1430 05c2 8093 0000 		sts last_pkt_encrypted,r24
 954:../../src/radio/cc2420/source/basic_rf.c ****         			rfSettings.pRxInfo->length -= 4;
 1432               	.LM111:
 1433 05c6 E091 0000 		lds r30,rfSettings
 1434 05ca F091 0000 		lds r31,(rfSettings)+1
 1435 05ce 8381      		ldd r24,Z+3
 1436 05d0 8450      		subi r24,lo8(-(-4))
 1437 05d2 8383      		std Z+3,r24
 1438               	.L265:
 1439               	.LBE7:
 955:../../src/radio/cc2420/source/basic_rf.c **** 			}
 956:../../src/radio/cc2420/source/basic_rf.c **** 	
 957:../../src/radio/cc2420/source/basic_rf.c **** 			// Read the packet payload
 958:../../src/radio/cc2420/source/basic_rf.c **** 			FASTSPI_READ_FIFO_NO_WAIT(rfSettings.pRxInfo->pPayload, rfSettings.pRxInfo->length);
 1441               	.LM112:
 1442 05d4 4098      		cbi 40-0x20,0
 1443 05d6 8FE7      		ldi r24,lo8(127)
 1444 05d8 8EBD      		out 78-0x20,r24
 1445               	.L291:
 1446 05da 0DB4      		in __tmp_reg__,77-0x20
 1447 05dc 07FE      		sbrs __tmp_reg__,7
 1448 05de 00C0      		rjmp .L291
 1449 05e0 40E0      		ldi r20,lo8(0)
 1450 05e2 50E0      		ldi r21,hi8(0)
 1451 05e4 00C0      		rjmp .L293
 1452               	.L294:
 1453               	.LBB9:
 1454 05e6 1EBC      		out 78-0x20,__zero_reg__
 1455               	.L295:
 1456 05e8 0DB4      		in __tmp_reg__,77-0x20
 1457 05ea 07FE      		sbrs __tmp_reg__,7
 1458 05ec 00C0      		rjmp .L295
 1459 05ee E091 0000 		lds r30,rfSettings
 1460 05f2 F091 0000 		lds r31,(rfSettings)+1
 1461 05f6 0580      		ldd __tmp_reg__,Z+5
 1462 05f8 F681      		ldd r31,Z+6
 1463 05fa E02D      		mov r30,__tmp_reg__
 1464 05fc E60F      		add r30,r22
 1465 05fe F11D      		adc r31,__zero_reg__
 1466 0600 8EB5      		in r24,78-0x20
 1467 0602 8083      		st Z,r24
 1468 0604 4F5F      		subi r20,lo8(-(1))
 1469 0606 5F4F      		sbci r21,hi8(-(1))
 1470               	.L293:
 1471 0608 642F      		mov r22,r20
 1472 060a E091 0000 		lds r30,rfSettings
 1473 060e F091 0000 		lds r31,(rfSettings)+1
 1474 0612 242F      		mov r18,r20
 1475 0614 3327      		clr r19
 1476 0616 8381      		ldd r24,Z+3
 1477 0618 9927      		clr r25
 1478 061a 87FD      		sbrc r24,7
 1479 061c 9095      		com r25
 1480 061e 2817      		cp r18,r24
 1481 0620 3907      		cpc r19,r25
 1482 0622 04F0      		brlt .L294
 1483               	.LBE9:
 1484 0624 409A      		sbi 40-0x20,0
 959:../../src/radio/cc2420/source/basic_rf.c **** 			FASTSPI_READ_FIFO_NO_WAIT(&rx_checksum, 1 );
 1486               	.LM113:
 1487 0626 4098      		cbi 40-0x20,0
 1488 0628 8FE7      		ldi r24,lo8(127)
 1489 062a 8EBD      		out 78-0x20,r24
 1490               	.L298:
 1491 062c 0DB4      		in __tmp_reg__,77-0x20
 1492 062e 07FC      		sbrc __tmp_reg__,7
 1493 0630 00C0      		rjmp .L425
 1494 0632 00C0      		rjmp .L298
 1495               	.L300:
 1496               	.LBB10:
 1497 0634 0DB4      		in __tmp_reg__,77-0x20
 1498 0636 07FE      		sbrs __tmp_reg__,7
 1499 0638 00C0      		rjmp .L300
 1500 063a 5EB5      		in r21,78-0x20
 1501               	.LBE10:
 1502 063c 409A      		sbi 40-0x20,0
 960:../../src/radio/cc2420/source/basic_rf.c **** 
 961:../../src/radio/cc2420/source/basic_rf.c **** 			// Read the footer to get the RSSI value
 962:../../src/radio/cc2420/source/basic_rf.c **** 			FASTSPI_READ_FIFO_NO_WAIT((uint8_t*) pFooter, 2);
 1504               	.LM114:
 1505 063e 4098      		cbi 40-0x20,0
 1506 0640 8FE7      		ldi r24,lo8(127)
 1507 0642 8EBD      		out 78-0x20,r24
 1508 0644 00C0      		rjmp .L302
 1509               	.L425:
 1510               	.LBB11:
 1512               	.LM115:
 1513 0646 1EBC      		out 78-0x20,__zero_reg__
 1514 0648 00C0      		rjmp .L300
 1515               	.L302:
 1516               	.LBE11:
 1518               	.LM116:
 1519 064a 0DB4      		in __tmp_reg__,77-0x20
 1520 064c 07FE      		sbrs __tmp_reg__,7
 1521 064e 00C0      		rjmp .L302
 1522 0650 FE01      		movw r30,r28
 1523 0652 3396      		adiw r30,3
 1524               	.LBB12:
 1525 0654 9E01      		movw r18,r28
 1526 0656 2B5F      		subi r18,lo8(-(5))
 1527 0658 3F4F      		sbci r19,hi8(-(5))
 1528               	.L304:
 1529 065a 1EBC      		out 78-0x20,__zero_reg__
 1530               	.L305:
 1531 065c 0DB4      		in __tmp_reg__,77-0x20
 1532 065e 07FE      		sbrs __tmp_reg__,7
 1533 0660 00C0      		rjmp .L305
 1534 0662 8EB5      		in r24,78-0x20
 1535 0664 8193      		st Z+,r24
 1536 0666 E217      		cp r30,r18
 1537 0668 F307      		cpc r31,r19
 1538 066a 01F4      		brne .L304
 1539               	.LBE12:
 1540 066c 409A      		sbi 40-0x20,0
 963:../../src/radio/cc2420/source/basic_rf.c **** 			rfSettings.pRxInfo->rssi = pFooter[0];
 1542               	.LM117:
 1543 066e E091 0000 		lds r30,rfSettings
 1544 0672 F091 0000 		lds r31,(rfSettings)+1
 1545 0676 8B81      		ldd r24,Y+3
 1546 0678 8087      		std Z+8,r24
 1547 067a 40E0      		ldi r20,lo8(0)
 1548 067c 20E0      		ldi r18,lo8(0)
 1549 067e 30E0      		ldi r19,hi8(0)
 1550 0680 00C0      		rjmp .L308
 1551               	.L309:
 964:../../src/radio/cc2420/source/basic_rf.c **** 			checksum=0;	
 965:../../src/radio/cc2420/source/basic_rf.c **** 			for(i=0; i<rfSettings.pRxInfo->length; i++ )
 966:../../src/radio/cc2420/source/basic_rf.c **** 			{
 967:../../src/radio/cc2420/source/basic_rf.c **** 				checksum+=rfSettings.pRxInfo->pPayload[i];
 1553               	.LM118:
 1554 0682 E091 0000 		lds r30,rfSettings
 1555 0686 F091 0000 		lds r31,(rfSettings)+1
 1556 068a 8581      		ldd r24,Z+5
 1557 068c 9681      		ldd r25,Z+6
 1558 068e A80F      		add r26,r24
 1559 0690 B91F      		adc r27,r25
 1560 0692 8C91      		ld r24,X
 1561 0694 480F      		add r20,r24
 1562               	.L308:
 1563 0696 822F      		mov r24,r18
 1565               	.LM119:
 1566 0698 E091 0000 		lds r30,rfSettings
 1567 069c F091 0000 		lds r31,(rfSettings)+1
 1568 06a0 2F5F      		subi r18,lo8(-(1))
 1569 06a2 3F4F      		sbci r19,hi8(-(1))
 1570 06a4 A82F      		mov r26,r24
 1571 06a6 BB27      		clr r27
 1572 06a8 8381      		ldd r24,Z+3
 1573 06aa 9927      		clr r25
 1574 06ac 87FD      		sbrc r24,7
 1575 06ae 9095      		com r25
 1576 06b0 A817      		cp r26,r24
 1577 06b2 B907      		cpc r27,r25
 1578 06b4 04F0      		brlt .L309
 968:../../src/radio/cc2420/source/basic_rf.c **** 				//printf( "%d ", rfSettings.pRxInfo->pPayload[i]);
 969:../../src/radio/cc2420/source/basic_rf.c **** 			}
 970:../../src/radio/cc2420/source/basic_rf.c **** 
 971:../../src/radio/cc2420/source/basic_rf.c **** 			if(checksum!=rx_checksum) {
 1580               	.LM120:
 1581 06b6 4517      		cp r20,r21
 1582 06b8 01F0      		breq .L311
 972:../../src/radio/cc2420/source/basic_rf.c **** 				//printf( "Checksum failed %d %d\r",rx_checksum, checksum );
 973:../../src/radio/cc2420/source/basic_rf.c **** 	    			// always read 1 byte before flush (data sheet pg 62)
 974:../../src/radio/cc2420/source/basic_rf.c **** 	   			FASTSPI_READ_FIFO_BYTE(tmp);  
 1584               	.LM121:
 1585 06ba 4098      		cbi 40-0x20,0
 1586 06bc 8FE7      		ldi r24,lo8(127)
 1587 06be 8EBD      		out 78-0x20,r24
 1588               	.L313:
 1589 06c0 0DB4      		in __tmp_reg__,77-0x20
 1590 06c2 07FE      		sbrs __tmp_reg__,7
 1591 06c4 00C0      		rjmp .L313
 1592 06c6 1EBC      		out 78-0x20,__zero_reg__
 1593               	.L315:
 1594 06c8 0DB4      		in __tmp_reg__,77-0x20
 1595 06ca 07FE      		sbrs __tmp_reg__,7
 1596 06cc 00C0      		rjmp .L315
 1597 06ce 8EB5      		in r24,78-0x20
 1598 06d0 409A      		sbi 40-0x20,0
 975:../../src/radio/cc2420/source/basic_rf.c **** 	    			FASTSPI_STROBE(CC2420_SFLUSHRX);
 1600               	.LM122:
 1601 06d2 4098      		cbi 40-0x20,0
 1602 06d4 88E0      		ldi r24,lo8(8)
 1603 06d6 8EBD      		out 78-0x20,r24
 1604               	.L317:
 1605 06d8 0DB4      		in __tmp_reg__,77-0x20
 1606 06da 07FE      		sbrs __tmp_reg__,7
 1607 06dc 00C0      		rjmp .L317
 1608 06de 409A      		sbi 40-0x20,0
 976:../../src/radio/cc2420/source/basic_rf.c **** 	    			FASTSPI_STROBE(CC2420_SFLUSHRX);
 1610               	.LM123:
 1611 06e0 4098      		cbi 40-0x20,0
 1612 06e2 88E0      		ldi r24,lo8(8)
 1613 06e4 8EBD      		out 78-0x20,r24
 1614               	.L319:
 1615 06e6 0DB4      		in __tmp_reg__,77-0x20
 1616 06e8 07FE      		sbrs __tmp_reg__,7
 1617 06ea 00C0      		rjmp .L319
 1618 06ec 409A      		sbi 40-0x20,0
 1619 06ee 8CEF      		ldi r24,lo8(-4)
 1620 06f0 9FEF      		ldi r25,hi8(-4)
 1621 06f2 00C0      		rjmp .L197
 1622               	.L311:
 977:../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 978:../../src/radio/cc2420/source/basic_rf.c **** 	    			nrk_sem_post(radio_sem);
 979:../../src/radio/cc2420/source/basic_rf.c **** #endif
 980:../../src/radio/cc2420/source/basic_rf.c **** 				return -4;
 981:../../src/radio/cc2420/source/basic_rf.c **** 			}	
 982:../../src/radio/cc2420/source/basic_rf.c **** 			if (pFooter[1] & RF_CRC_OK_BM) {
 1624               	.LM124:
 1625 06f4 8C81      		ldd r24,Y+4
 1626 06f6 87FF      		sbrs r24,7
 1627 06f8 00C0      		rjmp .L321
 983:../../src/radio/cc2420/source/basic_rf.c **** 				//rfSettings.pRxInfo = rf_rx_callback(rfSettings.pRxInfo);
 984:../../src/radio/cc2420/source/basic_rf.c **** 				rx_ready++;
 1629               	.LM125:
 1630 06fa 8091 0000 		lds r24,rx_ready
 1631 06fe 8F5F      		subi r24,lo8(-(1))
 1632 0700 8093 0000 		sts rx_ready,r24
 1633 0704 81E0      		ldi r24,lo8(1)
 1634 0706 90E0      		ldi r25,hi8(1)
 1635 0708 00C0      		rjmp .L197
 1636               	.L321:
 985:../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 986:../../src/radio/cc2420/source/basic_rf.c **** 	    			nrk_sem_post(radio_sem);
 987:../../src/radio/cc2420/source/basic_rf.c **** #endif
 988:../../src/radio/cc2420/source/basic_rf.c **** 				return 1;
 989:../../src/radio/cc2420/source/basic_rf.c **** 			} else
 990:../../src/radio/cc2420/source/basic_rf.c **** 	    		{
 991:../../src/radio/cc2420/source/basic_rf.c **** 	    		// always read 1 byte before flush (data sheet pg 62)
 992:../../src/radio/cc2420/source/basic_rf.c **** 	   		FASTSPI_READ_FIFO_BYTE(tmp);  
 1638               	.LM126:
 1639 070a 4098      		cbi 40-0x20,0
 1640 070c 8FE7      		ldi r24,lo8(127)
 1641 070e 8EBD      		out 78-0x20,r24
 1642               	.L323:
 1643 0710 0DB4      		in __tmp_reg__,77-0x20
 1644 0712 07FE      		sbrs __tmp_reg__,7
 1645 0714 00C0      		rjmp .L323
 1646 0716 1EBC      		out 78-0x20,__zero_reg__
 1647               	.L325:
 1648 0718 0DB4      		in __tmp_reg__,77-0x20
 1649 071a 07FE      		sbrs __tmp_reg__,7
 1650 071c 00C0      		rjmp .L325
 1651 071e 8EB5      		in r24,78-0x20
 1652 0720 409A      		sbi 40-0x20,0
 993:../../src/radio/cc2420/source/basic_rf.c **** 			FASTSPI_STROBE(CC2420_SFLUSHRX);
 1654               	.LM127:
 1655 0722 4098      		cbi 40-0x20,0
 1656 0724 88E0      		ldi r24,lo8(8)
 1657 0726 8EBD      		out 78-0x20,r24
 1658               	.L327:
 1659 0728 0DB4      		in __tmp_reg__,77-0x20
 1660 072a 07FE      		sbrs __tmp_reg__,7
 1661 072c 00C0      		rjmp .L327
 1662 072e 409A      		sbi 40-0x20,0
 994:../../src/radio/cc2420/source/basic_rf.c **** 	    		FASTSPI_STROBE(CC2420_SFLUSHRX);
 1664               	.LM128:
 1665 0730 4098      		cbi 40-0x20,0
 1666 0732 88E0      		ldi r24,lo8(8)
 1667 0734 8EBD      		out 78-0x20,r24
 1668               	.L329:
 1669 0736 0DB4      		in __tmp_reg__,77-0x20
 1670 0738 07FE      		sbrs __tmp_reg__,7
 1671 073a 00C0      		rjmp .L329
 1672 073c 409A      		sbi 40-0x20,0
 1673 073e 8BEF      		ldi r24,lo8(-5)
 1674 0740 9FEF      		ldi r25,hi8(-5)
 1675               	.L197:
 1676               	.LBE2:
 1677               	/* epilogue: frame size=4 */
 1678 0742 2496      		adiw r28,4
 1679 0744 0FB6      		in __tmp_reg__,__SREG__
 1680 0746 F894      		cli
 1681 0748 DEBF      		out __SP_H__,r29
 1682 074a 0FBE      		out __SREG__,__tmp_reg__
 1683 074c CDBF      		out __SP_L__,r28
 1684 074e DF91      		pop r29
 1685 0750 CF91      		pop r28
 1686 0752 0895      		ret
 1687               	/* epilogue end (size=9) */
 1688               	/* function rf_polling_rx_packet size 552 (533) */
 1708               	.Lscope19:
 1710               		.stabd	78,0,0
 1712               	.global	rf_rx_packet
 1714               	rf_rx_packet:
 1715               		.stabd	46,0,0
 995:../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 996:../../src/radio/cc2420/source/basic_rf.c **** 	    		nrk_sem_post(radio_sem);
 997:../../src/radio/cc2420/source/basic_rf.c **** #endif
 998:../../src/radio/cc2420/source/basic_rf.c **** 			return -5;
 999:../../src/radio/cc2420/source/basic_rf.c **** 			}
1000:../../src/radio/cc2420/source/basic_rf.c **** //		}
1001:../../src/radio/cc2420/source/basic_rf.c ****     
1002:../../src/radio/cc2420/source/basic_rf.c **** 	}
1003:../../src/radio/cc2420/source/basic_rf.c **** 
1004:../../src/radio/cc2420/source/basic_rf.c **** 
1005:../../src/radio/cc2420/source/basic_rf.c ****     }
1006:../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
1007:../../src/radio/cc2420/source/basic_rf.c **** nrk_sem_post(radio_sem);
1008:../../src/radio/cc2420/source/basic_rf.c **** #endif
1009:../../src/radio/cc2420/source/basic_rf.c **** return 0;
1010:../../src/radio/cc2420/source/basic_rf.c **** }
1011:../../src/radio/cc2420/source/basic_rf.c **** 
1012:../../src/radio/cc2420/source/basic_rf.c **** int8_t rf_rx_packet()
1013:../../src/radio/cc2420/source/basic_rf.c **** {
 1717               	.LM129:
 1718               	.LFBB20:
 1719               	/* prologue: frame size=0 */
 1720               	/* prologue end (size=0) */
1014:../../src/radio/cc2420/source/basic_rf.c **** int8_t tmp;
1015:../../src/radio/cc2420/source/basic_rf.c **** if(rx_ready>0) { tmp=rx_ready; rx_ready=0; return tmp;}
 1722               	.LM130:
 1723 0754 8091 0000 		lds r24,rx_ready
 1724 0758 8823      		tst r24
 1725 075a 01F4      		brne .L439
 1727               	.LM131:
 1728 075c 80E0      		ldi r24,lo8(0)
 1729 075e 90E0      		ldi r25,hi8(0)
 1730 0760 0895      		ret
 1731               	.L439:
 1732 0762 8091 0000 		lds r24,rx_ready
 1733 0766 1092 0000 		sts rx_ready,__zero_reg__
 1734 076a 9927      		clr r25
 1735 076c 87FD      		sbrc r24,7
 1736 076e 9095      		com r25
1016:../../src/radio/cc2420/source/basic_rf.c **** return 0;
1017:../../src/radio/cc2420/source/basic_rf.c **** }
 1738               	.LM132:
 1739 0770 0895      		ret
 1740               	/* epilogue: frame size=0 */
 1741               	/* epilogue: noreturn */
 1742               	/* epilogue end (size=0) */
 1743               	/* function rf_rx_packet size 15 (15) */
 1745               	.Lscope20:
 1747               		.stabd	78,0,0
 1749               	.global	rf_flush_rx_fifo
 1751               	rf_flush_rx_fifo:
 1752               		.stabd	46,0,0
1018:../../src/radio/cc2420/source/basic_rf.c **** 
1019:../../src/radio/cc2420/source/basic_rf.c **** 
1020:../../src/radio/cc2420/source/basic_rf.c **** inline void rf_flush_rx_fifo()
1021:../../src/radio/cc2420/source/basic_rf.c **** {
 1754               	.LM133:
 1755               	.LFBB21:
 1756               	/* prologue: frame size=0 */
 1757               	/* prologue end (size=0) */
1022:../../src/radio/cc2420/source/basic_rf.c ****         FASTSPI_STROBE(CC2420_SFLUSHRX);
 1759               	.LM134:
 1760 0772 4098      		cbi 40-0x20,0
 1761 0774 88E0      		ldi r24,lo8(8)
 1762 0776 8EBD      		out 78-0x20,r24
 1763               	.L444:
 1765               	.LM135:
 1766 0778 0DB4      		in __tmp_reg__,77-0x20
 1767 077a 07FE      		sbrs __tmp_reg__,7
 1768 077c 00C0      		rjmp .L444
 1769 077e 409A      		sbi 40-0x20,0
1023:../../src/radio/cc2420/source/basic_rf.c ****         FASTSPI_STROBE(CC2420_SFLUSHRX);
 1771               	.LM136:
 1772 0780 4098      		cbi 40-0x20,0
 1773 0782 88E0      		ldi r24,lo8(8)
 1774 0784 8EBD      		out 78-0x20,r24
 1775               	.L446:
 1776 0786 0DB4      		in __tmp_reg__,77-0x20
 1777 0788 07FE      		sbrs __tmp_reg__,7
 1778 078a 00C0      		rjmp .L446
 1779 078c 409A      		sbi 40-0x20,0
 1780               	/* epilogue: frame size=0 */
 1781 078e 0895      		ret
 1782               	/* epilogue end (size=1) */
 1783               	/* function rf_flush_rx_fifo size 15 (14) */
 1785               	.Lscope21:
 1787               		.stabd	78,0,0
 1790               	.global	rf_set_cca_thresh
 1792               	rf_set_cca_thresh:
 1793               		.stabd	46,0,0
1024:../../src/radio/cc2420/source/basic_rf.c **** }
1025:../../src/radio/cc2420/source/basic_rf.c **** 
1026:../../src/radio/cc2420/source/basic_rf.c **** void rf_set_cca_thresh(int8_t t)
1027:../../src/radio/cc2420/source/basic_rf.c **** {
 1795               	.LM137:
 1796               	.LFBB22:
 1797               	/* prologue: frame size=0 */
 1798               	/* prologue end (size=0) */
1028:../../src/radio/cc2420/source/basic_rf.c **** // default is -32
1029:../../src/radio/cc2420/source/basic_rf.c **** // Higher number is less sensitive
1030:../../src/radio/cc2420/source/basic_rf.c **** uint16_t val;
1031:../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
1032:../../src/radio/cc2420/source/basic_rf.c **** nrk_sem_pend(radio_sem);
1033:../../src/radio/cc2420/source/basic_rf.c **** #endif
1034:../../src/radio/cc2420/source/basic_rf.c **** 
1035:../../src/radio/cc2420/source/basic_rf.c **** val=(t<<8) | 0x80;
 1800               	.LM138:
 1801 0790 9927      		clr r25
 1802 0792 87FD      		sbrc r24,7
 1803 0794 9095      		com r25
 1804 0796 382F      		mov r19,r24
 1805 0798 2227      		clr r18
 1806 079a 2068      		ori r18,lo8(128)
1036:../../src/radio/cc2420/source/basic_rf.c **** FASTSPI_SETREG(CC2420_RSSI, val); 
 1808               	.LM139:
 1809 079c 4098      		cbi 40-0x20,0
 1810 079e 83E1      		ldi r24,lo8(19)
 1811 07a0 8EBD      		out 78-0x20,r24
 1812               	.L454:
 1814               	.LM140:
 1815 07a2 0DB4      		in __tmp_reg__,77-0x20
 1816 07a4 07FE      		sbrs __tmp_reg__,7
 1817 07a6 00C0      		rjmp .L454
 1818 07a8 832F      		mov r24,r19
 1819 07aa 9927      		clr r25
 1820 07ac 8EBD      		out 78-0x20,r24
 1821               	.L456:
 1822 07ae 0DB4      		in __tmp_reg__,77-0x20
 1823 07b0 07FE      		sbrs __tmp_reg__,7
 1824 07b2 00C0      		rjmp .L456
 1825 07b4 2EBD      		out 78-0x20,r18
 1826               	.L458:
 1827 07b6 0DB4      		in __tmp_reg__,77-0x20
 1828 07b8 07FE      		sbrs __tmp_reg__,7
 1829 07ba 00C0      		rjmp .L458
 1830 07bc 409A      		sbi 40-0x20,0
 1831               	/* epilogue: frame size=0 */
 1832 07be 0895      		ret
 1833               	/* epilogue end (size=1) */
 1834               	/* function rf_set_cca_thresh size 24 (23) */
 1839               	.Lscope22:
 1841               		.stabd	78,0,0
 1843               	.global	rf_test_mode
 1845               	rf_test_mode:
 1846               		.stabd	46,0,0
1037:../../src/radio/cc2420/source/basic_rf.c **** 
1038:../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
1039:../../src/radio/cc2420/source/basic_rf.c **** nrk_sem_post(radio_sem);
1040:../../src/radio/cc2420/source/basic_rf.c **** #endif
1041:../../src/radio/cc2420/source/basic_rf.c **** }
1042:../../src/radio/cc2420/source/basic_rf.c **** 
1043:../../src/radio/cc2420/source/basic_rf.c **** void rf_test_mode()
1044:../../src/radio/cc2420/source/basic_rf.c **** {
 1848               	.LM141:
 1849               	.LFBB23:
 1850               	/* prologue: frame size=0 */
 1851               	/* prologue end (size=0) */
1045:../../src/radio/cc2420/source/basic_rf.c **** 
1046:../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
1047:../../src/radio/cc2420/source/basic_rf.c **** nrk_sem_pend(radio_sem);
1048:../../src/radio/cc2420/source/basic_rf.c **** #endif
1049:../../src/radio/cc2420/source/basic_rf.c ****         FASTSPI_STROBE(CC2420_SRFOFF); //stop radio
 1853               	.LM142:
 1854 07c0 4098      		cbi 40-0x20,0
 1855 07c2 86E0      		ldi r24,lo8(6)
 1856 07c4 8EBD      		out 78-0x20,r24
 1857               	.L468:
 1859               	.LM143:
 1860 07c6 0DB4      		in __tmp_reg__,77-0x20
 1861 07c8 07FE      		sbrs __tmp_reg__,7
 1862 07ca 00C0      		rjmp .L468
 1863 07cc 409A      		sbi 40-0x20,0
1050:../../src/radio/cc2420/source/basic_rf.c **** 	// NOTE ON SETTING CC2420_MDMCTRL1
1051:../../src/radio/cc2420/source/basic_rf.c **** 	// 
1052:../../src/radio/cc2420/source/basic_rf.c **** 	// RF studio" uses TX_MODE=3 (CC2420_MDMCTRL1=0x050C)
1053:../../src/radio/cc2420/source/basic_rf.c **** 	// to send an unmodulated carrier; data sheet says TX_MODE 
1054:../../src/radio/cc2420/source/basic_rf.c **** 	// can be 2 or 3. So it should not matter...
1055:../../src/radio/cc2420/source/basic_rf.c **** 	// HOWEVER, using (TX_MODE=3) sometimes causes problems when 
1056:../../src/radio/cc2420/source/basic_rf.c **** 	// going back to "data" mode!
1057:../../src/radio/cc2420/source/basic_rf.c **** 	FASTSPI_SETREG(CC2420_MDMCTRL1, 0x0508); // MDMCTRL1 with TX_MODE=2
 1865               	.LM144:
 1866 07ce 4098      		cbi 40-0x20,0
 1867 07d0 82E1      		ldi r24,lo8(18)
 1868 07d2 8EBD      		out 78-0x20,r24
 1869               	.L470:
 1870 07d4 0DB4      		in __tmp_reg__,77-0x20
 1871 07d6 07FE      		sbrs __tmp_reg__,7
 1872 07d8 00C0      		rjmp .L470
 1873 07da 85E0      		ldi r24,lo8(5)
 1874 07dc 8EBD      		out 78-0x20,r24
 1875               	.L472:
 1876 07de 0DB4      		in __tmp_reg__,77-0x20
 1877 07e0 07FE      		sbrs __tmp_reg__,7
 1878 07e2 00C0      		rjmp .L472
 1879 07e4 88E0      		ldi r24,lo8(8)
 1880 07e6 8EBD      		out 78-0x20,r24
 1881               	.L474:
 1882 07e8 0DB4      		in __tmp_reg__,77-0x20
 1883 07ea 07FE      		sbrs __tmp_reg__,7
 1884 07ec 00C0      		rjmp .L474
 1885 07ee 409A      		sbi 40-0x20,0
1058:../../src/radio/cc2420/source/basic_rf.c **** 	FASTSPI_SETREG(CC2420_DACTST, 0x1800); // send unmodulated carrier
 1887               	.LM145:
 1888 07f0 4098      		cbi 40-0x20,0
 1889 07f2 8EE2      		ldi r24,lo8(46)
 1890 07f4 8EBD      		out 78-0x20,r24
 1891               	.L476:
 1892 07f6 0DB4      		in __tmp_reg__,77-0x20
 1893 07f8 07FE      		sbrs __tmp_reg__,7
 1894 07fa 00C0      		rjmp .L476
 1895 07fc 88E1      		ldi r24,lo8(24)
 1896 07fe 8EBD      		out 78-0x20,r24
 1897               	.L478:
 1898 0800 0DB4      		in __tmp_reg__,77-0x20
 1899 0802 07FE      		sbrs __tmp_reg__,7
 1900 0804 00C0      		rjmp .L478
 1901 0806 1EBC      		out 78-0x20,__zero_reg__
 1902               	.L480:
 1903 0808 0DB4      		in __tmp_reg__,77-0x20
 1904 080a 07FE      		sbrs __tmp_reg__,7
 1905 080c 00C0      		rjmp .L480
 1906 080e 409A      		sbi 40-0x20,0
1059:../../src/radio/cc2420/source/basic_rf.c **** 	rf_flush_rx_fifo();
 1908               	.LM146:
 1909 0810 0E94 0000 		call rf_flush_rx_fifo
 1910               	/* epilogue: frame size=0 */
 1911 0814 0895      		ret
 1912               	/* epilogue end (size=1) */
 1913               	/* function rf_test_mode size 43 (42) */
 1915               	.Lscope23:
 1917               		.stabd	78,0,0
 1919               	.global	rf_data_mode
 1921               	rf_data_mode:
 1922               		.stabd	46,0,0
1060:../../src/radio/cc2420/source/basic_rf.c **** 
1061:../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
1062:../../src/radio/cc2420/source/basic_rf.c **** nrk_sem_post(radio_sem);
1063:../../src/radio/cc2420/source/basic_rf.c **** #endif
1064:../../src/radio/cc2420/source/basic_rf.c **** }
1065:../../src/radio/cc2420/source/basic_rf.c **** 
1066:../../src/radio/cc2420/source/basic_rf.c **** 
1067:../../src/radio/cc2420/source/basic_rf.c **** /**********************************************************
1068:../../src/radio/cc2420/source/basic_rf.c ****  * set the radio into "normal" mode (buffered TXFIFO) and go into (data) receive */
1069:../../src/radio/cc2420/source/basic_rf.c **** void rf_data_mode() {
 1924               	.LM147:
 1925               	.LFBB24:
 1926               	/* prologue: frame size=0 */
 1927               	/* prologue end (size=0) */
1070:../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
1071:../../src/radio/cc2420/source/basic_rf.c **** nrk_sem_pend(radio_sem);
1072:../../src/radio/cc2420/source/basic_rf.c **** #endif
1073:../../src/radio/cc2420/source/basic_rf.c **** 
1074:../../src/radio/cc2420/source/basic_rf.c **** 
1075:../../src/radio/cc2420/source/basic_rf.c ****         FASTSPI_STROBE(CC2420_SRFOFF); //stop radio
 1929               	.LM148:
 1930 0816 4098      		cbi 40-0x20,0
 1931 0818 86E0      		ldi r24,lo8(6)
 1932 081a 8EBD      		out 78-0x20,r24
 1933               	.L498:
 1935               	.LM149:
 1936 081c 0DB4      		in __tmp_reg__,77-0x20
 1937 081e 07FE      		sbrs __tmp_reg__,7
 1938 0820 00C0      		rjmp .L498
 1939 0822 409A      		sbi 40-0x20,0
1076:../../src/radio/cc2420/source/basic_rf.c ****         FASTSPI_SETREG(CC2420_MDMCTRL1, 0x0500); // default MDMCTRL1 value
 1941               	.LM150:
 1942 0824 4098      		cbi 40-0x20,0
 1943 0826 82E1      		ldi r24,lo8(18)
 1944 0828 8EBD      		out 78-0x20,r24
 1945               	.L500:
 1946 082a 0DB4      		in __tmp_reg__,77-0x20
 1947 082c 07FE      		sbrs __tmp_reg__,7
 1948 082e 00C0      		rjmp .L500
 1949 0830 85E0      		ldi r24,lo8(5)
 1950 0832 8EBD      		out 78-0x20,r24
 1951               	.L502:
 1952 0834 0DB4      		in __tmp_reg__,77-0x20
 1953 0836 07FE      		sbrs __tmp_reg__,7
 1954 0838 00C0      		rjmp .L502
 1955 083a 1EBC      		out 78-0x20,__zero_reg__
 1956               	.L504:
 1957 083c 0DB4      		in __tmp_reg__,77-0x20
 1958 083e 07FE      		sbrs __tmp_reg__,7
 1959 0840 00C0      		rjmp .L504
 1960 0842 409A      		sbi 40-0x20,0
1077:../../src/radio/cc2420/source/basic_rf.c ****         FASTSPI_SETREG(CC2420_DACTST, 0); // default value
 1962               	.LM151:
 1963 0844 4098      		cbi 40-0x20,0
 1964 0846 8EE2      		ldi r24,lo8(46)
 1965 0848 8EBD      		out 78-0x20,r24
 1966               	.L506:
 1967 084a 0DB4      		in __tmp_reg__,77-0x20
 1968 084c 07FE      		sbrs __tmp_reg__,7
 1969 084e 00C0      		rjmp .L506
 1970 0850 1EBC      		out 78-0x20,__zero_reg__
 1971               	.L508:
 1972 0852 0DB4      		in __tmp_reg__,77-0x20
 1973 0854 07FE      		sbrs __tmp_reg__,7
 1974 0856 00C0      		rjmp .L508
 1975 0858 1EBC      		out 78-0x20,__zero_reg__
 1976               	.L510:
 1977 085a 0DB4      		in __tmp_reg__,77-0x20
 1978 085c 07FE      		sbrs __tmp_reg__,7
 1979 085e 00C0      		rjmp .L510
 1980 0860 409A      		sbi 40-0x20,0
1078:../../src/radio/cc2420/source/basic_rf.c ****         rf_flush_rx_fifo();
 1982               	.LM152:
 1983 0862 0E94 0000 		call rf_flush_rx_fifo
 1984               	/* epilogue: frame size=0 */
 1985 0866 0895      		ret
 1986               	/* epilogue end (size=1) */
 1987               	/* function rf_data_mode size 41 (40) */
 1989               	.Lscope24:
 1991               		.stabd	78,0,0
 1993               	.global	rf_rx_set_serial
 1995               	rf_rx_set_serial:
 1996               		.stabd	46,0,0
1079:../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
1080:../../src/radio/cc2420/source/basic_rf.c **** nrk_sem_post(radio_sem);
1081:../../src/radio/cc2420/source/basic_rf.c **** #endif
1082:../../src/radio/cc2420/source/basic_rf.c **** }
1083:../../src/radio/cc2420/source/basic_rf.c **** 
1084:../../src/radio/cc2420/source/basic_rf.c **** 
1085:../../src/radio/cc2420/source/basic_rf.c **** /**********************************************************
1086:../../src/radio/cc2420/source/basic_rf.c ****  * Set the radio into serial unbuffered RX mode
1087:../../src/radio/cc2420/source/basic_rf.c ****  * RX data is received through sampling the FIFO pin, timing is done using FIFOP 
1088:../../src/radio/cc2420/source/basic_rf.c ****  * Use rf_rx_on() to start rcv, then wait for SFD / FIFOP. Sample during each high edge of FIFOP
1089:../../src/radio/cc2420/source/basic_rf.c ****  * This can be undone by using rf_data_mode()
1090:../../src/radio/cc2420/source/basic_rf.c ****  */
1091:../../src/radio/cc2420/source/basic_rf.c **** void rf_rx_set_serial()
1092:../../src/radio/cc2420/source/basic_rf.c **** {
 1998               	.LM153:
 1999               	.LFBB25:
 2000               	/* prologue: frame size=0 */
 2001               	/* prologue end (size=0) */
1093:../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SRFOFF);           // stop radio
 2003               	.LM154:
 2004 0868 4098      		cbi 40-0x20,0
 2005 086a 86E0      		ldi r24,lo8(6)
 2006 086c 8EBD      		out 78-0x20,r24
 2007               	.L528:
 2009               	.LM155:
 2010 086e 0DB4      		in __tmp_reg__,77-0x20
 2011 0870 07FE      		sbrs __tmp_reg__,7
 2012 0872 00C0      		rjmp .L528
 2013 0874 409A      		sbi 40-0x20,0
1094:../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_MDMCTRL1, 0x0501); // Set RX_MODE to 1
 2015               	.LM156:
 2016 0876 4098      		cbi 40-0x20,0
 2017 0878 82E1      		ldi r24,lo8(18)
 2018 087a 8EBD      		out 78-0x20,r24
 2019               	.L530:
 2020 087c 0DB4      		in __tmp_reg__,77-0x20
 2021 087e 07FE      		sbrs __tmp_reg__,7
 2022 0880 00C0      		rjmp .L530
 2023 0882 85E0      		ldi r24,lo8(5)
 2024 0884 8EBD      		out 78-0x20,r24
 2025               	.L532:
 2026 0886 0DB4      		in __tmp_reg__,77-0x20
 2027 0888 07FE      		sbrs __tmp_reg__,7
 2028 088a 00C0      		rjmp .L532
 2029 088c 81E0      		ldi r24,lo8(1)
 2030 088e 8EBD      		out 78-0x20,r24
 2031               	.L534:
 2032 0890 0DB4      		in __tmp_reg__,77-0x20
 2033 0892 07FE      		sbrs __tmp_reg__,7
 2034 0894 00C0      		rjmp .L534
 2035 0896 409A      		sbi 40-0x20,0
1095:../../src/radio/cc2420/source/basic_rf.c ****     rf_flush_rx_fifo();
 2037               	.LM157:
 2038 0898 0E94 0000 		call rf_flush_rx_fifo
 2039               	/* epilogue: frame size=0 */
 2040 089c 0895      		ret
 2041               	/* epilogue end (size=1) */
 2042               	/* function rf_rx_set_serial size 27 (26) */
 2044               	.Lscope25:
 2046               		.stabd	78,0,0
 2048               	.global	rf_tx_set_serial
 2050               	rf_tx_set_serial:
 2051               		.stabd	46,0,0
1096:../../src/radio/cc2420/source/basic_rf.c **** }
1097:../../src/radio/cc2420/source/basic_rf.c **** 
1098:../../src/radio/cc2420/source/basic_rf.c **** /**********************************************************
1099:../../src/radio/cc2420/source/basic_rf.c ****  * Put the radio in serial TX mode, where data is sampled from the FIFO
1100:../../src/radio/cc2420/source/basic_rf.c ****  * pin to send after SFD, and timing is done using FIFOP
1101:../../src/radio/cc2420/source/basic_rf.c ****  * use rf_carrier_on() to start, set FIFO to first bit, then wait for it
1102:../../src/radio/cc2420/source/basic_rf.c ****  * to go up and down, then set next bit etc.
1103:../../src/radio/cc2420/source/basic_rf.c ****  * NOTE: You must set the FIFO pin to output mode in order to do this!
1104:../../src/radio/cc2420/source/basic_rf.c ****  * This can be undone by calling rf_data_mode()
1105:../../src/radio/cc2420/source/basic_rf.c ****  */
1106:../../src/radio/cc2420/source/basic_rf.c **** void rf_tx_set_serial()
1107:../../src/radio/cc2420/source/basic_rf.c **** {
 2053               	.LM158:
 2054               	.LFBB26:
 2055               	/* prologue: frame size=0 */
 2056               	/* prologue end (size=0) */
1108:../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_MDMCTRL1, 0x0504); // set TXMODE to 1
 2058               	.LM159:
 2059 089e 4098      		cbi 40-0x20,0
 2060 08a0 82E1      		ldi r24,lo8(18)
 2061 08a2 8EBD      		out 78-0x20,r24
 2062               	.L546:
 2064               	.LM160:
 2065 08a4 0DB4      		in __tmp_reg__,77-0x20
 2066 08a6 07FE      		sbrs __tmp_reg__,7
 2067 08a8 00C0      		rjmp .L546
 2068 08aa 85E0      		ldi r24,lo8(5)
 2069 08ac 8EBD      		out 78-0x20,r24
 2070               	.L548:
 2071 08ae 0DB4      		in __tmp_reg__,77-0x20
 2072 08b0 07FE      		sbrs __tmp_reg__,7
 2073 08b2 00C0      		rjmp .L548
 2074 08b4 84E0      		ldi r24,lo8(4)
 2075 08b6 8EBD      		out 78-0x20,r24
 2076               	.L550:
 2077 08b8 0DB4      		in __tmp_reg__,77-0x20
 2078 08ba 07FE      		sbrs __tmp_reg__,7
 2079 08bc 00C0      		rjmp .L550
 2080 08be 409A      		sbi 40-0x20,0
1109:../../src/radio/cc2420/source/basic_rf.c ****     rf_flush_rx_fifo();
 2082               	.LM161:
 2083 08c0 0E94 0000 		call rf_flush_rx_fifo
 2084               	/* epilogue: frame size=0 */
 2085 08c4 0895      		ret
 2086               	/* epilogue end (size=1) */
 2087               	/* function rf_tx_set_serial size 20 (19) */
 2089               	.Lscope26:
 2091               		.stabd	78,0,0
 2094               	.global	rf_set_preamble_length
 2096               	rf_set_preamble_length:
 2097               		.stabd	46,0,0
1110:../../src/radio/cc2420/source/basic_rf.c **** }
1111:../../src/radio/cc2420/source/basic_rf.c **** 
1112:../../src/radio/cc2420/source/basic_rf.c **** /**********************************************************
1113:../../src/radio/cc2420/source/basic_rf.c ****  * Specifies the number of symbols to be part of preamble
1114:../../src/radio/cc2420/source/basic_rf.c ****  * arg is equal to number of bytes - 1.
1115:../../src/radio/cc2420/source/basic_rf.c ****  * (3 bytes is 802.15.4 compliant, so length arg would be 2)
1116:../../src/radio/cc2420/source/basic_rf.c ****  * Length arg supports values 0 to 15. See the datasheet of course for more details
1117:../../src/radio/cc2420/source/basic_rf.c ****  */
1118:../../src/radio/cc2420/source/basic_rf.c **** void rf_set_preamble_length(uint8_t length)
1119:../../src/radio/cc2420/source/basic_rf.c **** {
 2099               	.LM162:
 2100               	.LFBB27:
 2101               	/* prologue: frame size=0 */
 2102               	/* prologue end (size=0) */
1120:../../src/radio/cc2420/source/basic_rf.c ****     mdmctrl0 &= (0xFFF0);  
1121:../../src/radio/cc2420/source/basic_rf.c ****     mdmctrl0 |= (length & 0x000F);  
 2104               	.LM163:
 2105 08c6 282F      		mov r18,r24
 2106 08c8 3327      		clr r19
 2107 08ca 2F70      		andi r18,lo8(15)
 2108 08cc 3070      		andi r19,hi8(15)
 2109 08ce 8091 0000 		lds r24,mdmctrl0
 2110 08d2 9091 0000 		lds r25,(mdmctrl0)+1
 2111 08d6 807F      		andi r24,lo8(-16)
 2112 08d8 282B      		or r18,r24
 2113 08da 392B      		or r19,r25
 2114 08dc 3093 0000 		sts (mdmctrl0)+1,r19
 2115 08e0 2093 0000 		sts mdmctrl0,r18
1122:../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_MDMCTRL0, mdmctrl0);
 2117               	.LM164:
 2118 08e4 4098      		cbi 40-0x20,0
 2119 08e6 81E1      		ldi r24,lo8(17)
 2120 08e8 8EBD      		out 78-0x20,r24
 2121               	.L560:
 2123               	.LM165:
 2124 08ea 0DB4      		in __tmp_reg__,77-0x20
 2125 08ec 07FE      		sbrs __tmp_reg__,7
 2126 08ee 00C0      		rjmp .L560
 2127 08f0 832F      		mov r24,r19
 2128 08f2 9927      		clr r25
 2129 08f4 8EBD      		out 78-0x20,r24
 2130               	.L562:
 2131 08f6 0DB4      		in __tmp_reg__,77-0x20
 2132 08f8 07FE      		sbrs __tmp_reg__,7
 2133 08fa 00C0      		rjmp .L562
 2134 08fc 2EBD      		out 78-0x20,r18
 2135               	.L564:
 2136 08fe 0DB4      		in __tmp_reg__,77-0x20
 2137 0900 07FE      		sbrs __tmp_reg__,7
 2138 0902 00C0      		rjmp .L564
 2139 0904 409A      		sbi 40-0x20,0
 2140               	/* epilogue: frame size=0 */
 2141 0906 0895      		ret
 2142               	/* epilogue end (size=1) */
 2143               	/* function rf_set_preamble_length size 34 (33) */
 2145               	.Lscope27:
 2147               		.stabd	78,0,0
 2150               	.global	rf_set_cca_mode
 2152               	rf_set_cca_mode:
 2153               		.stabd	46,0,0
1123:../../src/radio/cc2420/source/basic_rf.c **** }
1124:../../src/radio/cc2420/source/basic_rf.c **** 
1125:../../src/radio/cc2420/source/basic_rf.c **** /**********************************************************
1126:../../src/radio/cc2420/source/basic_rf.c ****  * Set the CCA mode
1127:../../src/radio/cc2420/source/basic_rf.c ****  * Accept 1-3 as argument
1128:../../src/radio/cc2420/source/basic_rf.c ****  */
1129:../../src/radio/cc2420/source/basic_rf.c **** void rf_set_cca_mode(uint8_t mode)
1130:../../src/radio/cc2420/source/basic_rf.c **** {
 2155               	.LM166:
 2156               	.LFBB28:
 2157               	/* prologue: frame size=0 */
 2158               	/* prologue end (size=0) */
1131:../../src/radio/cc2420/source/basic_rf.c ****     mdmctrl0 &= (0xFF3F);
1132:../../src/radio/cc2420/source/basic_rf.c ****     mdmctrl0 |= ((mode & 0x3) << 6);
 2160               	.LM167:
 2161 0908 282F      		mov r18,r24
 2162 090a 3327      		clr r19
 2163 090c 2370      		andi r18,lo8(3)
 2164 090e 3070      		andi r19,hi8(3)
 2165 0910 66E0      		ldi r22,6
 2166 0912 220F      	1:	lsl r18
 2167 0914 331F      		rol r19
 2168 0916 6A95      		dec r22
 2169 0918 01F4      		brne 1b
 2170 091a 8091 0000 		lds r24,mdmctrl0
 2171 091e 9091 0000 		lds r25,(mdmctrl0)+1
 2172 0922 8F73      		andi r24,lo8(-193)
 2173 0924 282B      		or r18,r24
 2174 0926 392B      		or r19,r25
 2175 0928 3093 0000 		sts (mdmctrl0)+1,r19
 2176 092c 2093 0000 		sts mdmctrl0,r18
1133:../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_MDMCTRL0, mdmctrl0);
 2178               	.LM168:
 2179 0930 4098      		cbi 40-0x20,0
 2180 0932 81E1      		ldi r24,lo8(17)
 2181 0934 8EBD      		out 78-0x20,r24
 2182               	.L574:
 2184               	.LM169:
 2185 0936 0DB4      		in __tmp_reg__,77-0x20
 2186 0938 07FE      		sbrs __tmp_reg__,7
 2187 093a 00C0      		rjmp .L574
 2188 093c 832F      		mov r24,r19
 2189 093e 9927      		clr r25
 2190 0940 8EBD      		out 78-0x20,r24
 2191               	.L576:
 2192 0942 0DB4      		in __tmp_reg__,77-0x20
 2193 0944 07FE      		sbrs __tmp_reg__,7
 2194 0946 00C0      		rjmp .L576
 2195 0948 2EBD      		out 78-0x20,r18
 2196               	.L578:
 2197 094a 0DB4      		in __tmp_reg__,77-0x20
 2198 094c 07FE      		sbrs __tmp_reg__,7
 2199 094e 00C0      		rjmp .L578
 2200 0950 409A      		sbi 40-0x20,0
 2201               	/* epilogue: frame size=0 */
 2202 0952 0895      		ret
 2203               	/* epilogue end (size=1) */
 2204               	/* function rf_set_cca_mode size 39 (38) */
 2206               	.Lscope28:
 2208               		.stabd	78,0,0
 2210               	.global	rf_carrier_on
 2212               	rf_carrier_on:
 2213               		.stabd	46,0,0
1134:../../src/radio/cc2420/source/basic_rf.c **** }
1135:../../src/radio/cc2420/source/basic_rf.c **** 
1136:../../src/radio/cc2420/source/basic_rf.c **** /**********************************************************
1137:../../src/radio/cc2420/source/basic_rf.c ****  * start sending a carrier pulse
1138:../../src/radio/cc2420/source/basic_rf.c ****  * assumes wdrf_radio_test_mode() was called before doing this
1139:../../src/radio/cc2420/source/basic_rf.c ****  */
1140:../../src/radio/cc2420/source/basic_rf.c **** void rf_carrier_on()
1141:../../src/radio/cc2420/source/basic_rf.c **** {
 2215               	.LM170:
 2216               	.LFBB29:
 2217               	/* prologue: frame size=0 */
 2218               	/* prologue end (size=0) */
1142:../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
1143:../../src/radio/cc2420/source/basic_rf.c **** nrk_sem_pend(radio_sem);
1144:../../src/radio/cc2420/source/basic_rf.c **** #endif
1145:../../src/radio/cc2420/source/basic_rf.c ****      
1146:../../src/radio/cc2420/source/basic_rf.c **** #ifdef CC2420_OSC_OPT
1147:../../src/radio/cc2420/source/basic_rf.c **** 	FASTSPI_STROBE(CC2420_SXOSCON);
1148:../../src/radio/cc2420/source/basic_rf.c **** 	nrk_spin_wait_us(OSC_STARTUP_DELAY);
1149:../../src/radio/cc2420/source/basic_rf.c **** #endif
1150:../../src/radio/cc2420/source/basic_rf.c **** 
1151:../../src/radio/cc2420/source/basic_rf.c **** 
1152:../../src/radio/cc2420/source/basic_rf.c **** 
1153:../../src/radio/cc2420/source/basic_rf.c ****         FASTSPI_STROBE(CC2420_STXON); // tell radio to start sending
 2220               	.LM171:
 2221 0954 4098      		cbi 40-0x20,0
 2222 0956 84E0      		ldi r24,lo8(4)
 2223 0958 8EBD      		out 78-0x20,r24
 2224               	.L588:
 2226               	.LM172:
 2227 095a 0DB4      		in __tmp_reg__,77-0x20
 2228 095c 07FE      		sbrs __tmp_reg__,7
 2229 095e 00C0      		rjmp .L588
 2230 0960 409A      		sbi 40-0x20,0
 2231               	/* epilogue: frame size=0 */
 2232 0962 0895      		ret
 2233               	/* epilogue end (size=1) */
 2234               	/* function rf_carrier_on size 8 (7) */
 2236               	.Lscope29:
 2238               		.stabd	78,0,0
 2240               	.global	rf_carrier_off
 2242               	rf_carrier_off:
 2243               		.stabd	46,0,0
1154:../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
1155:../../src/radio/cc2420/source/basic_rf.c **** nrk_sem_post(radio_sem);
1156:../../src/radio/cc2420/source/basic_rf.c **** #endif
1157:../../src/radio/cc2420/source/basic_rf.c **** }
1158:../../src/radio/cc2420/source/basic_rf.c **** 
1159:../../src/radio/cc2420/source/basic_rf.c **** /**********************************************************
1160:../../src/radio/cc2420/source/basic_rf.c ****  * stop sending a carrier pulse; set the radio to idle state
1161:../../src/radio/cc2420/source/basic_rf.c ****  */
1162:../../src/radio/cc2420/source/basic_rf.c **** void rf_carrier_off()
1163:../../src/radio/cc2420/source/basic_rf.c **** {
 2245               	.LM173:
 2246               	.LFBB30:
 2247               	/* prologue: frame size=0 */
 2248               	/* prologue end (size=0) */
1164:../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
1165:../../src/radio/cc2420/source/basic_rf.c **** nrk_sem_pend(radio_sem);
1166:../../src/radio/cc2420/source/basic_rf.c **** #endif
1167:../../src/radio/cc2420/source/basic_rf.c ****      
1168:../../src/radio/cc2420/source/basic_rf.c **** #ifdef CC2420_OSC_OPT
1169:../../src/radio/cc2420/source/basic_rf.c **** 	FASTSPI_STROBE(CC2420_SXOSCOFF);
1170:../../src/radio/cc2420/source/basic_rf.c **** #endif
1171:../../src/radio/cc2420/source/basic_rf.c **** 
1172:../../src/radio/cc2420/source/basic_rf.c **** 
1173:../../src/radio/cc2420/source/basic_rf.c ****         FASTSPI_STROBE(CC2420_SRFOFF); // stop radio
 2250               	.LM174:
 2251 0964 4098      		cbi 40-0x20,0
 2252 0966 86E0      		ldi r24,lo8(6)
 2253 0968 8EBD      		out 78-0x20,r24
 2254               	.L594:
 2256               	.LM175:
 2257 096a 0DB4      		in __tmp_reg__,77-0x20
 2258 096c 07FE      		sbrs __tmp_reg__,7
 2259 096e 00C0      		rjmp .L594
 2260 0970 409A      		sbi 40-0x20,0
 2261               	/* epilogue: frame size=0 */
 2262 0972 0895      		ret
 2263               	/* epilogue end (size=1) */
 2264               	/* function rf_carrier_off size 8 (7) */
 2266               	.Lscope30:
 2268               		.stabd	78,0,0
 2270               	.global	__vector_8
 2272               	__vector_8:
 2273               		.stabd	46,0,0
1174:../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
1175:../../src/radio/cc2420/source/basic_rf.c **** nrk_sem_post(radio_sem);
1176:../../src/radio/cc2420/source/basic_rf.c **** #endif
1177:../../src/radio/cc2420/source/basic_rf.c **** }
1178:../../src/radio/cc2420/source/basic_rf.c **** 
1179:../../src/radio/cc2420/source/basic_rf.c **** 
1180:../../src/radio/cc2420/source/basic_rf.c **** 
1181:../../src/radio/cc2420/source/basic_rf.c **** 
1182:../../src/radio/cc2420/source/basic_rf.c **** //-------------------------------------------------------------------------------------------------
1183:../../src/radio/cc2420/source/basic_rf.c **** //  SIGNAL(SIG_INTERRUPT0) - CC2420 FIFOP interrupt service routine
1184:../../src/radio/cc2420/source/basic_rf.c **** //
1185:../../src/radio/cc2420/source/basic_rf.c **** //  DESCRIPTION:
1186:../../src/radio/cc2420/source/basic_rf.c **** //
1187:../../src/radio/cc2420/source/basic_rf.c **** //      Note: Packets are acknowledged automatically by CC2420 through the auto-acknowledgment feat
1188:../../src/radio/cc2420/source/basic_rf.c **** //  TODO: handle acknowledgements, not implemented before, so not a huge deal
1189:../../src/radio/cc2420/source/basic_rf.c **** //-------------------------------------------------------------------------------------------------
1190:../../src/radio/cc2420/source/basic_rf.c **** SIGNAL(INT7_vect){
 2275               	.LM176:
 2276               	.LFBB31:
 2277               	/* prologue: frame size=4 */
 2278 0974 1F92      		push __zero_reg__
 2279 0976 0F92      		push __tmp_reg__
 2280 0978 0FB6      		in __tmp_reg__,__SREG__
 2281 097a 0F92      		push __tmp_reg__
 2282 097c 1124      		clr __zero_reg__
 2283 097e 2F93      		push r18
 2284 0980 3F93      		push r19
 2285 0982 4F93      		push r20
 2286 0984 5F93      		push r21
 2287 0986 6F93      		push r22
 2288 0988 7F93      		push r23
 2289 098a 8F93      		push r24
 2290 098c 9F93      		push r25
 2291 098e AF93      		push r26
 2292 0990 BF93      		push r27
 2293 0992 EF93      		push r30
 2294 0994 FF93      		push r31
 2295 0996 CF93      		push r28
 2296 0998 DF93      		push r29
 2297 099a CDB7      		in r28,__SP_L__
 2298 099c DEB7      		in r29,__SP_H__
 2299 099e 2497      		sbiw r28,4
 2300 09a0 DEBF      		out __SP_H__,r29
 2301 09a2 CDBF      		out __SP_L__,r28
 2302               	/* prologue end (size=24) */
1191:../../src/radio/cc2420/source/basic_rf.c **** 	uint16_t frameControlField;
1192:../../src/radio/cc2420/source/basic_rf.c **** 	int8_t length;
1193:../../src/radio/cc2420/source/basic_rf.c **** 	uint8_t pFooter[2];
1194:../../src/radio/cc2420/source/basic_rf.c **** 	uint8_t checksum, rx_checksum, i;
1195:../../src/radio/cc2420/source/basic_rf.c **** 
1196:../../src/radio/cc2420/source/basic_rf.c **** 	CLEAR_FIFOP_INT();
 2304               	.LM177:
 2305 09a4 80E8      		ldi r24,lo8(-128)
 2306 09a6 8CBB      		out 60-0x20,r24
1197:../../src/radio/cc2420/source/basic_rf.c **** 
1198:../../src/radio/cc2420/source/basic_rf.c **** 	// prevent fals positive
1199:../../src/radio/cc2420/source/basic_rf.c **** 	if(!(FIFOP_IS_1)){
 2308               	.LM178:
 2309 09a8 679B      		sbis 44-0x20,7
 2310 09aa 00C0      		rjmp .L701
1200:../../src/radio/cc2420/source/basic_rf.c **** 		return;
1201:../../src/radio/cc2420/source/basic_rf.c **** 	}
1202:../../src/radio/cc2420/source/basic_rf.c **** 
1203:../../src/radio/cc2420/source/basic_rf.c ****     // Clean up and exit in case of FIFO overflow, which is indicated by FIFOP = 1 and FIFO = 0
1204:../../src/radio/cc2420/source/basic_rf.c **** 	if((FIFOP_IS_1) && (!(FIFO_IS_1))) {
 2312               	.LM179:
 2313 09ac 679B      		sbis 44-0x20,7
 2314 09ae 00C0      		rjmp .L602
 2315 09b0 3199      		sbic 38-0x20,1
 2316 09b2 00C0      		rjmp .L602
 2317               	.LBB13:
1205:../../src/radio/cc2420/source/basic_rf.c **** 		uint8_t tmp;
1206:../../src/radio/cc2420/source/basic_rf.c **** 		FASTSPI_READ_FIFO_BYTE(tmp);
 2319               	.LM180:
 2320 09b4 4098      		cbi 40-0x20,0
 2321 09b6 8FE7      		ldi r24,lo8(127)
 2322 09b8 8EBD      		out 78-0x20,r24
 2323               	.L605:
 2324 09ba 0DB4      		in __tmp_reg__,77-0x20
 2325 09bc 07FE      		sbrs __tmp_reg__,7
 2326 09be 00C0      		rjmp .L605
 2327 09c0 1EBC      		out 78-0x20,__zero_reg__
 2328               	.L607:
 2329 09c2 0DB4      		in __tmp_reg__,77-0x20
 2330 09c4 07FE      		sbrs __tmp_reg__,7
 2331 09c6 00C0      		rjmp .L607
 2332 09c8 8EB5      		in r24,78-0x20
 2333 09ca 409A      		sbi 40-0x20,0
1207:../../src/radio/cc2420/source/basic_rf.c **** 	    FASTSPI_STROBE(CC2420_SFLUSHRX);
 2335               	.LM181:
 2336 09cc 4098      		cbi 40-0x20,0
 2337 09ce 88E0      		ldi r24,lo8(8)
 2338 09d0 8EBD      		out 78-0x20,r24
 2339               	.L609:
 2340 09d2 0DB4      		in __tmp_reg__,77-0x20
 2341 09d4 07FE      		sbrs __tmp_reg__,7
 2342 09d6 00C0      		rjmp .L609
 2343 09d8 409A      		sbi 40-0x20,0
1208:../../src/radio/cc2420/source/basic_rf.c **** 	    FASTSPI_STROBE(CC2420_SFLUSHRX);
 2345               	.LM182:
 2346 09da 4098      		cbi 40-0x20,0
 2347 09dc 88E0      		ldi r24,lo8(8)
 2348 09de 8EBD      		out 78-0x20,r24
 2349               	.L611:
 2350 09e0 0DB4      		in __tmp_reg__,77-0x20
 2351 09e2 07FE      		sbrs __tmp_reg__,7
 2352 09e4 00C0      		rjmp .L611
 2353 09e6 00C0      		rjmp .L776
 2354               	.L602:
 2355               	.LBE13:
1209:../../src/radio/cc2420/source/basic_rf.c **** 		return;
1210:../../src/radio/cc2420/source/basic_rf.c **** 	}
1211:../../src/radio/cc2420/source/basic_rf.c **** 
1212:../../src/radio/cc2420/source/basic_rf.c **** 	// Payload length
1213:../../src/radio/cc2420/source/basic_rf.c **** 	FASTSPI_READ_FIFO_BYTE(length);
 2357               	.LM183:
 2358 09e8 4098      		cbi 40-0x20,0
 2359 09ea 8FE7      		ldi r24,lo8(127)
 2360 09ec 8EBD      		out 78-0x20,r24
 2361               	.L613:
 2362 09ee 0DB4      		in __tmp_reg__,77-0x20
 2363 09f0 07FE      		sbrs __tmp_reg__,7
 2364 09f2 00C0      		rjmp .L613
 2365 09f4 1EBC      		out 78-0x20,__zero_reg__
 2366               	.L615:
 2367 09f6 0DB4      		in __tmp_reg__,77-0x20
 2368 09f8 07FE      		sbrs __tmp_reg__,7
 2369 09fa 00C0      		rjmp .L615
 2370 09fc 4EB5      		in r20,78-0x20
 2371 09fe 409A      		sbi 40-0x20,0
1214:../../src/radio/cc2420/source/basic_rf.c **** 	length &= RF_LENGTH_MASK; // Ignore MSB
 2373               	.LM184:
 2374 0a00 4F77      		andi r20,lo8(127)
1215:../../src/radio/cc2420/source/basic_rf.c **** 
1216:../../src/radio/cc2420/source/basic_rf.c **** 	// check packet isn't too short or too long
1217:../../src/radio/cc2420/source/basic_rf.c **** 	if(length < (RF_PACKET_OVERHEAD_SIZE + CHECKSUM_OVERHEAD) || (length-RF_PACKET_OVERHEAD_SIZE) > rf
 2376               	.LM185:
 2377 0a02 4C30      		cpi r20,lo8(12)
 2378 0a04 04F0      		brlt .L617
 2379 0a06 E091 0000 		lds r30,rfSettings
 2380 0a0a F091 0000 		lds r31,(rfSettings)+1
 2381 0a0e 242F      		mov r18,r20
 2382 0a10 3327      		clr r19
 2383 0a12 27FD      		sbrc r18,7
 2384 0a14 3095      		com r19
 2385 0a16 2B50      		subi r18,lo8(-(-11))
 2386 0a18 3040      		sbci r19,hi8(-(-11))
 2387 0a1a 8481      		ldd r24,Z+4
 2388 0a1c 9927      		clr r25
 2389 0a1e 87FD      		sbrc r24,7
 2390 0a20 9095      		com r25
 2391 0a22 8217      		cp r24,r18
 2392 0a24 9307      		cpc r25,r19
 2393 0a26 04F4      		brge .L619
 2394               	.L617:
 2395               	.LBB14:
1218:../../src/radio/cc2420/source/basic_rf.c **** 		uint8_t tmp;
1219:../../src/radio/cc2420/source/basic_rf.c **** 		FASTSPI_READ_FIFO_GARBAGE(length);
 2397               	.LM186:
 2398 0a28 4098      		cbi 40-0x20,0
 2399 0a2a 8FE7      		ldi r24,lo8(127)
 2400 0a2c 8EBD      		out 78-0x20,r24
 2401               	.L620:
 2402 0a2e 0DB4      		in __tmp_reg__,77-0x20
 2403 0a30 07FE      		sbrs __tmp_reg__,7
 2404 0a32 00C0      		rjmp .L620
 2405 0a34 60E0      		ldi r22,lo8(0)
 2406 0a36 70E0      		ldi r23,hi8(0)
 2407               	.LBB15:
 2408 0a38 242F      		mov r18,r20
 2409 0a3a 3327      		clr r19
 2410 0a3c 27FD      		sbrc r18,7
 2411 0a3e 3095      		com r19
 2412 0a40 00C0      		rjmp .L622
 2413               	.L623:
 2414 0a42 1EBC      		out 78-0x20,__zero_reg__
 2415               	.L624:
 2416 0a44 0DB4      		in __tmp_reg__,77-0x20
 2417 0a46 07FE      		sbrs __tmp_reg__,7
 2418 0a48 00C0      		rjmp .L624
 2419 0a4a 6F5F      		subi r22,lo8(-(1))
 2420 0a4c 7F4F      		sbci r23,hi8(-(1))
 2421               	.L622:
 2422 0a4e 862F      		mov r24,r22
 2423 0a50 9927      		clr r25
 2424 0a52 8217      		cp r24,r18
 2425 0a54 9307      		cpc r25,r19
 2426 0a56 04F4      		brge .L626
 2427 0a58 3199      		sbic 38-0x20,1
 2428 0a5a 00C0      		rjmp .L623
 2429               	.L626:
 2430               	.LBE15:
 2431 0a5c 409A      		sbi 40-0x20,0
1220:../../src/radio/cc2420/source/basic_rf.c **** 		FASTSPI_READ_FIFO_BYTE(tmp);
 2433               	.LM187:
 2434 0a5e 4098      		cbi 40-0x20,0
 2435 0a60 8FE7      		ldi r24,lo8(127)
 2436 0a62 8EBD      		out 78-0x20,r24
 2437               	.L628:
 2438 0a64 0DB4      		in __tmp_reg__,77-0x20
 2439 0a66 07FE      		sbrs __tmp_reg__,7
 2440 0a68 00C0      		rjmp .L628
 2441 0a6a 1EBC      		out 78-0x20,__zero_reg__
 2442               	.L630:
 2443 0a6c 0DB4      		in __tmp_reg__,77-0x20
 2444 0a6e 07FE      		sbrs __tmp_reg__,7
 2445 0a70 00C0      		rjmp .L630
 2446 0a72 8EB5      		in r24,78-0x20
 2447 0a74 409A      		sbi 40-0x20,0
1221:../../src/radio/cc2420/source/basic_rf.c **** 		FASTSPI_STROBE(CC2420_SFLUSHRX);
 2449               	.LM188:
 2450 0a76 4098      		cbi 40-0x20,0
 2451 0a78 88E0      		ldi r24,lo8(8)
 2452 0a7a 8EBD      		out 78-0x20,r24
 2453               	.L632:
 2454 0a7c 0DB4      		in __tmp_reg__,77-0x20
 2455 0a7e 07FE      		sbrs __tmp_reg__,7
 2456 0a80 00C0      		rjmp .L632
 2457 0a82 409A      		sbi 40-0x20,0
1222:../../src/radio/cc2420/source/basic_rf.c **** 		FASTSPI_STROBE(CC2420_SFLUSHRX);
 2459               	.LM189:
 2460 0a84 4098      		cbi 40-0x20,0
 2461 0a86 88E0      		ldi r24,lo8(8)
 2462 0a88 8EBD      		out 78-0x20,r24
 2463               	.L634:
 2464 0a8a 0DB4      		in __tmp_reg__,77-0x20
 2465 0a8c 07FE      		sbrs __tmp_reg__,7
 2466 0a8e 00C0      		rjmp .L634
 2467 0a90 00C0      		rjmp .L776
 2468               	.L619:
 2469               	.LBE14:
1223:../../src/radio/cc2420/source/basic_rf.c **** 		// printf("Bad length: %d\r\n",length);
1224:../../src/radio/cc2420/source/basic_rf.c **** 		return;
1225:../../src/radio/cc2420/source/basic_rf.c **** 	}
1226:../../src/radio/cc2420/source/basic_rf.c **** 
1227:../../src/radio/cc2420/source/basic_rf.c **** 	// fill in packet length
1228:../../src/radio/cc2420/source/basic_rf.c **** 	rfSettings.pRxInfo->length = length - RF_PACKET_OVERHEAD_SIZE - CHECKSUM_OVERHEAD;
 2471               	.LM190:
 2472 0a92 E091 0000 		lds r30,rfSettings
 2473 0a96 F091 0000 		lds r31,(rfSettings)+1
 2474 0a9a 4C50      		subi r20,lo8(-(-12))
 2475 0a9c 4383      		std Z+3,r20
1229:../../src/radio/cc2420/source/basic_rf.c **** 
1230:../../src/radio/cc2420/source/basic_rf.c **** 	// get seq frame control and seqnum
1231:../../src/radio/cc2420/source/basic_rf.c **** 	FASTSPI_READ_FIFO_NO_WAIT((uint8_t *) &frameControlField, 2);
 2477               	.LM191:
 2478 0a9e 4098      		cbi 40-0x20,0
 2479 0aa0 8FE7      		ldi r24,lo8(127)
 2480 0aa2 8EBD      		out 78-0x20,r24
 2481               	.L636:
 2482 0aa4 0DB4      		in __tmp_reg__,77-0x20
 2483 0aa6 07FE      		sbrs __tmp_reg__,7
 2484 0aa8 00C0      		rjmp .L636
 2485 0aaa FE01      		movw r30,r28
 2486 0aac 3196      		adiw r30,1
 2487               	.LBB16:
 2488 0aae 9E01      		movw r18,r28
 2489 0ab0 2D5F      		subi r18,lo8(-(3))
 2490 0ab2 3F4F      		sbci r19,hi8(-(3))
 2491               	.L638:
 2492 0ab4 1EBC      		out 78-0x20,__zero_reg__
 2493               	.L639:
 2494 0ab6 0DB4      		in __tmp_reg__,77-0x20
 2495 0ab8 07FE      		sbrs __tmp_reg__,7
 2496 0aba 00C0      		rjmp .L639
 2497 0abc 8EB5      		in r24,78-0x20
 2498 0abe 8193      		st Z+,r24
 2499 0ac0 E217      		cp r30,r18
 2500 0ac2 F307      		cpc r31,r19
 2501 0ac4 01F4      		brne .L638
 2502               	.LBE16:
 2503 0ac6 409A      		sbi 40-0x20,0
1232:../../src/radio/cc2420/source/basic_rf.c **** 	rfSettings.pRxInfo->ackRequest = !!(frameControlField & RF_FCF_ACK_BM);
 2505               	.LM192:
 2506 0ac8 E091 0000 		lds r30,rfSettings
 2507 0acc F091 0000 		lds r31,(rfSettings)+1
 2508 0ad0 8981      		ldd r24,Y+1
 2509 0ad2 9A81      		ldd r25,Y+2
 2510 0ad4 75E0      		ldi r23,5
 2511 0ad6 9695      	1:	lsr r25
 2512 0ad8 8795      		ror r24
 2513 0ada 7A95      		dec r23
 2514 0adc 01F4      		brne 1b
 2515 0ade 8170      		andi r24,lo8(1)
 2516 0ae0 8783      		std Z+7,r24
1233:../../src/radio/cc2420/source/basic_rf.c **** 	FASTSPI_READ_FIFO_BYTE(rfSettings.pRxInfo->seqNumber);
 2518               	.LM193:
 2519 0ae2 4098      		cbi 40-0x20,0
 2520 0ae4 8FE7      		ldi r24,lo8(127)
 2521 0ae6 8EBD      		out 78-0x20,r24
 2522               	.L642:
 2523 0ae8 0DB4      		in __tmp_reg__,77-0x20
 2524 0aea 07FE      		sbrs __tmp_reg__,7
 2525 0aec 00C0      		rjmp .L642
 2526 0aee 1EBC      		out 78-0x20,__zero_reg__
 2527               	.L644:
 2528 0af0 0DB4      		in __tmp_reg__,77-0x20
 2529 0af2 07FE      		sbrs __tmp_reg__,7
 2530 0af4 00C0      		rjmp .L644
 2531 0af6 E091 0000 		lds r30,rfSettings
 2532 0afa F091 0000 		lds r31,(rfSettings)+1
 2533 0afe 8EB5      		in r24,78-0x20
 2534 0b00 8083      		st Z,r24
 2535 0b02 409A      		sbi 40-0x20,0
1234:../../src/radio/cc2420/source/basic_rf.c **** 
1235:../../src/radio/cc2420/source/basic_rf.c **** 	// don't need pan address
1236:../../src/radio/cc2420/source/basic_rf.c **** 	FASTSPI_READ_FIFO_GARBAGE(4);
 2537               	.LM194:
 2538 0b04 4098      		cbi 40-0x20,0
 2539 0b06 8FE7      		ldi r24,lo8(127)
 2540 0b08 8EBD      		out 78-0x20,r24
 2541               	.L646:
 2542 0b0a 0DB4      		in __tmp_reg__,77-0x20
 2543 0b0c 07FE      		sbrs __tmp_reg__,7
 2544 0b0e 00C0      		rjmp .L646
 2545 0b10 80E0      		ldi r24,lo8(0)
 2546 0b12 00C0      		rjmp .L648
 2547               	.L649:
 2548               	.LBB17:
 2549 0b14 1EBC      		out 78-0x20,__zero_reg__
 2550               	.L650:
 2551 0b16 0DB4      		in __tmp_reg__,77-0x20
 2552 0b18 07FE      		sbrs __tmp_reg__,7
 2553 0b1a 00C0      		rjmp .L650
 2554 0b1c 8F5F      		subi r24,lo8(-(1))
 2555 0b1e 8430      		cpi r24,lo8(4)
 2556 0b20 01F0      		breq .L652
 2557               	.L648:
 2558 0b22 3199      		sbic 38-0x20,1
 2559 0b24 00C0      		rjmp .L649
 2560               	.L652:
 2561               	.LBE17:
 2562 0b26 409A      		sbi 40-0x20,0
1237:../../src/radio/cc2420/source/basic_rf.c **** 
1238:../../src/radio/cc2420/source/basic_rf.c **** 	// get source address
1239:../../src/radio/cc2420/source/basic_rf.c **** 	FASTSPI_READ_FIFO_NO_WAIT((uint8_t *) &rfSettings.pRxInfo->srcAddr, 2);
 2564               	.LM195:
 2565 0b28 4098      		cbi 40-0x20,0
 2566 0b2a 8FE7      		ldi r24,lo8(127)
 2567 0b2c 8EBD      		out 78-0x20,r24
 2568               	.L653:
 2569 0b2e 0DB4      		in __tmp_reg__,77-0x20
 2570 0b30 07FE      		sbrs __tmp_reg__,7
 2571 0b32 00C0      		rjmp .L653
 2572 0b34 20E0      		ldi r18,lo8(0)
 2573 0b36 30E0      		ldi r19,hi8(0)
 2574               	.L655:
 2575               	.LBB18:
 2576 0b38 1EBC      		out 78-0x20,__zero_reg__
 2577               	.L656:
 2578 0b3a 0DB4      		in __tmp_reg__,77-0x20
 2579 0b3c 07FE      		sbrs __tmp_reg__,7
 2580 0b3e 00C0      		rjmp .L656
 2581 0b40 E091 0000 		lds r30,rfSettings
 2582 0b44 F091 0000 		lds r31,(rfSettings)+1
 2583 0b48 E20F      		add r30,r18
 2584 0b4a F31F      		adc r31,r19
 2585 0b4c 8EB5      		in r24,78-0x20
 2586 0b4e 8183      		std Z+1,r24
 2587 0b50 2F5F      		subi r18,lo8(-(1))
 2588 0b52 3F4F      		sbci r19,hi8(-(1))
 2589 0b54 2230      		cpi r18,2
 2590 0b56 3105      		cpc r19,__zero_reg__
 2591 0b58 01F4      		brne .L655
 2592               	.LBE18:
 2593 0b5a 409A      		sbi 40-0x20,0
1240:../../src/radio/cc2420/source/basic_rf.c **** 
1241:../../src/radio/cc2420/source/basic_rf.c **** 	// get payload, checksum, and footer
1242:../../src/radio/cc2420/source/basic_rf.c **** 	FASTSPI_READ_FIFO_NO_WAIT(rfSettings.pRxInfo->pPayload, rfSettings.pRxInfo->length);
 2595               	.LM196:
 2596 0b5c 4098      		cbi 40-0x20,0
 2597 0b5e 8FE7      		ldi r24,lo8(127)
 2598 0b60 8EBD      		out 78-0x20,r24
 2599               	.L659:
 2600 0b62 0DB4      		in __tmp_reg__,77-0x20
 2601 0b64 07FE      		sbrs __tmp_reg__,7
 2602 0b66 00C0      		rjmp .L659
 2603 0b68 40E0      		ldi r20,lo8(0)
 2604 0b6a 50E0      		ldi r21,hi8(0)
 2605 0b6c 00C0      		rjmp .L661
 2606               	.L662:
 2607               	.LBB19:
 2608 0b6e 1EBC      		out 78-0x20,__zero_reg__
 2609               	.L663:
 2610 0b70 0DB4      		in __tmp_reg__,77-0x20
 2611 0b72 07FE      		sbrs __tmp_reg__,7
 2612 0b74 00C0      		rjmp .L663
 2613 0b76 E091 0000 		lds r30,rfSettings
 2614 0b7a F091 0000 		lds r31,(rfSettings)+1
 2615 0b7e 0580      		ldd __tmp_reg__,Z+5
 2616 0b80 F681      		ldd r31,Z+6
 2617 0b82 E02D      		mov r30,__tmp_reg__
 2618 0b84 E60F      		add r30,r22
 2619 0b86 F11D      		adc r31,__zero_reg__
 2620 0b88 8EB5      		in r24,78-0x20
 2621 0b8a 8083      		st Z,r24
 2622 0b8c 4F5F      		subi r20,lo8(-(1))
 2623 0b8e 5F4F      		sbci r21,hi8(-(1))
 2624               	.L661:
 2625 0b90 642F      		mov r22,r20
 2626 0b92 E091 0000 		lds r30,rfSettings
 2627 0b96 F091 0000 		lds r31,(rfSettings)+1
 2628 0b9a 242F      		mov r18,r20
 2629 0b9c 3327      		clr r19
 2630 0b9e 8381      		ldd r24,Z+3
 2631 0ba0 9927      		clr r25
 2632 0ba2 87FD      		sbrc r24,7
 2633 0ba4 9095      		com r25
 2634 0ba6 2817      		cp r18,r24
 2635 0ba8 3907      		cpc r19,r25
 2636 0baa 04F0      		brlt .L662
 2637               	.LBE19:
 2638 0bac 409A      		sbi 40-0x20,0
1243:../../src/radio/cc2420/source/basic_rf.c **** 	FASTSPI_READ_FIFO_NO_WAIT(&rx_checksum, 1);
 2640               	.LM197:
 2641 0bae 4098      		cbi 40-0x20,0
 2642 0bb0 8FE7      		ldi r24,lo8(127)
 2643 0bb2 8EBD      		out 78-0x20,r24
 2644               	.L666:
 2645 0bb4 0DB4      		in __tmp_reg__,77-0x20
 2646 0bb6 07FC      		sbrc __tmp_reg__,7
 2647 0bb8 00C0      		rjmp .L763
 2648 0bba 00C0      		rjmp .L666
 2649               	.L668:
 2650               	.LBB20:
 2651 0bbc 0DB4      		in __tmp_reg__,77-0x20
 2652 0bbe 07FE      		sbrs __tmp_reg__,7
 2653 0bc0 00C0      		rjmp .L668
 2654 0bc2 5EB5      		in r21,78-0x20
 2655               	.LBE20:
 2656 0bc4 409A      		sbi 40-0x20,0
1244:../../src/radio/cc2420/source/basic_rf.c **** 	FASTSPI_READ_FIFO_NO_WAIT((uint8_t *) pFooter, 2);
 2658               	.LM198:
 2659 0bc6 4098      		cbi 40-0x20,0
 2660 0bc8 8FE7      		ldi r24,lo8(127)
 2661 0bca 8EBD      		out 78-0x20,r24
 2662 0bcc 00C0      		rjmp .L670
 2663               	.L763:
 2664               	.LBB21:
 2666               	.LM199:
 2667 0bce 1EBC      		out 78-0x20,__zero_reg__
 2668 0bd0 00C0      		rjmp .L668
 2669               	.L670:
 2670               	.LBE21:
 2672               	.LM200:
 2673 0bd2 0DB4      		in __tmp_reg__,77-0x20
 2674 0bd4 07FE      		sbrs __tmp_reg__,7
 2675 0bd6 00C0      		rjmp .L670
 2676 0bd8 FE01      		movw r30,r28
 2677 0bda 3396      		adiw r30,3
 2678               	.LBB22:
 2679 0bdc 9E01      		movw r18,r28
 2680 0bde 2B5F      		subi r18,lo8(-(5))
 2681 0be0 3F4F      		sbci r19,hi8(-(5))
 2682               	.L672:
 2683 0be2 1EBC      		out 78-0x20,__zero_reg__
 2684               	.L673:
 2685 0be4 0DB4      		in __tmp_reg__,77-0x20
 2686 0be6 07FE      		sbrs __tmp_reg__,7
 2687 0be8 00C0      		rjmp .L673
 2688 0bea 8EB5      		in r24,78-0x20
 2689 0bec 8193      		st Z+,r24
 2690 0bee E217      		cp r30,r18
 2691 0bf0 F307      		cpc r31,r19
 2692 0bf2 01F4      		brne .L672
 2693               	.LBE22:
 2694 0bf4 409A      		sbi 40-0x20,0
1245:../../src/radio/cc2420/source/basic_rf.c **** 	// signal strength
1246:../../src/radio/cc2420/source/basic_rf.c **** 	rfSettings.pRxInfo->rssi = pFooter[0];
 2696               	.LM201:
 2697 0bf6 E091 0000 		lds r30,rfSettings
 2698 0bfa F091 0000 		lds r31,(rfSettings)+1
 2699 0bfe 8B81      		ldd r24,Y+3
 2700 0c00 8087      		std Z+8,r24
 2701 0c02 40E0      		ldi r20,lo8(0)
 2702 0c04 20E0      		ldi r18,lo8(0)
 2703 0c06 30E0      		ldi r19,hi8(0)
 2704 0c08 00C0      		rjmp .L676
 2705               	.L677:
1247:../../src/radio/cc2420/source/basic_rf.c **** 
1248:../../src/radio/cc2420/source/basic_rf.c **** 	// calculate checksum
1249:../../src/radio/cc2420/source/basic_rf.c **** 	checksum = 0;
1250:../../src/radio/cc2420/source/basic_rf.c **** 	for(i=0; i<rfSettings.pRxInfo->length; i++){
1251:../../src/radio/cc2420/source/basic_rf.c **** 		checksum += rfSettings.pRxInfo->pPayload[i];
 2707               	.LM202:
 2708 0c0a E091 0000 		lds r30,rfSettings
 2709 0c0e F091 0000 		lds r31,(rfSettings)+1
 2710 0c12 8581      		ldd r24,Z+5
 2711 0c14 9681      		ldd r25,Z+6
 2712 0c16 A80F      		add r26,r24
 2713 0c18 B91F      		adc r27,r25
 2714 0c1a 8C91      		ld r24,X
 2715 0c1c 480F      		add r20,r24
 2716               	.L676:
 2717 0c1e 822F      		mov r24,r18
 2719               	.LM203:
 2720 0c20 E091 0000 		lds r30,rfSettings
 2721 0c24 F091 0000 		lds r31,(rfSettings)+1
 2722 0c28 2F5F      		subi r18,lo8(-(1))
 2723 0c2a 3F4F      		sbci r19,hi8(-(1))
 2724 0c2c A82F      		mov r26,r24
 2725 0c2e BB27      		clr r27
 2726 0c30 8381      		ldd r24,Z+3
 2727 0c32 9927      		clr r25
 2728 0c34 87FD      		sbrc r24,7
 2729 0c36 9095      		com r25
 2730 0c38 A817      		cp r26,r24
 2731 0c3a B907      		cpc r27,r25
 2732 0c3c 04F0      		brlt .L677
1252:../../src/radio/cc2420/source/basic_rf.c **** 	}
1253:../../src/radio/cc2420/source/basic_rf.c **** 
1254:../../src/radio/cc2420/source/basic_rf.c **** 	// check checksum
1255:../../src/radio/cc2420/source/basic_rf.c **** 	if(checksum != rx_checksum){
 2734               	.LM204:
 2735 0c3e 4517      		cp r20,r21
 2736 0c40 01F0      		breq .L679
 2737               	.LBB23:
1256:../../src/radio/cc2420/source/basic_rf.c **** 		uint8_t tmp;
1257:../../src/radio/cc2420/source/basic_rf.c **** 		FASTSPI_READ_FIFO_BYTE(tmp);
 2739               	.LM205:
 2740 0c42 4098      		cbi 40-0x20,0
 2741 0c44 8FE7      		ldi r24,lo8(127)
 2742 0c46 8EBD      		out 78-0x20,r24
 2743               	.L681:
 2744 0c48 0DB4      		in __tmp_reg__,77-0x20
 2745 0c4a 07FE      		sbrs __tmp_reg__,7
 2746 0c4c 00C0      		rjmp .L681
 2747 0c4e 1EBC      		out 78-0x20,__zero_reg__
 2748               	.L683:
 2749 0c50 0DB4      		in __tmp_reg__,77-0x20
 2750 0c52 07FE      		sbrs __tmp_reg__,7
 2751 0c54 00C0      		rjmp .L683
 2752 0c56 8EB5      		in r24,78-0x20
 2753 0c58 409A      		sbi 40-0x20,0
1258:../../src/radio/cc2420/source/basic_rf.c **** 		FASTSPI_STROBE(CC2420_SFLUSHRX);
 2755               	.LM206:
 2756 0c5a 4098      		cbi 40-0x20,0
 2757 0c5c 88E0      		ldi r24,lo8(8)
 2758 0c5e 8EBD      		out 78-0x20,r24
 2759               	.L685:
 2760 0c60 0DB4      		in __tmp_reg__,77-0x20
 2761 0c62 07FE      		sbrs __tmp_reg__,7
 2762 0c64 00C0      		rjmp .L685
 2763 0c66 409A      		sbi 40-0x20,0
1259:../../src/radio/cc2420/source/basic_rf.c **** 		FASTSPI_STROBE(CC2420_SFLUSHRX);
 2765               	.LM207:
 2766 0c68 4098      		cbi 40-0x20,0
 2767 0c6a 88E0      		ldi r24,lo8(8)
 2768 0c6c 8EBD      		out 78-0x20,r24
 2769               	.L687:
 2770 0c6e 0DB4      		in __tmp_reg__,77-0x20
 2771 0c70 07FE      		sbrs __tmp_reg__,7
 2772 0c72 00C0      		rjmp .L687
 2773 0c74 00C0      		rjmp .L776
 2774               	.L679:
 2775               	.LBE23:
1260:../../src/radio/cc2420/source/basic_rf.c **** 		//printf("Checksum fail: %d %d\r\n", checksum, rx_checksum);
1261:../../src/radio/cc2420/source/basic_rf.c **** 		return;
1262:../../src/radio/cc2420/source/basic_rf.c **** 	}
1263:../../src/radio/cc2420/source/basic_rf.c **** 
1264:../../src/radio/cc2420/source/basic_rf.c **** 	// if success mark read and do callback
1265:../../src/radio/cc2420/source/basic_rf.c **** 	if(pFooter[1] * RF_CRC_OK_BM){
 2777               	.LM208:
 2778 0c76 8C81      		ldd r24,Y+4
 2779 0c78 8823      		tst r24
 2780 0c7a 01F0      		breq .L689
1266:../../src/radio/cc2420/source/basic_rf.c **** 		//printf("%p\r\n", _rf_rx_callback);
1267:../../src/radio/cc2420/source/basic_rf.c **** 		if(_rf_rx_callback != NULL){
 2782               	.LM209:
 2783 0c7c E091 0000 		lds r30,_rf_rx_callback
 2784 0c80 F091 0000 		lds r31,(_rf_rx_callback)+1
 2785 0c84 3097      		sbiw r30,0
 2786 0c86 01F0      		breq .L691
1268:../../src/radio/cc2420/source/basic_rf.c **** 			//printf("call\r\n");
1269:../../src/radio/cc2420/source/basic_rf.c **** 			rfSettings.pRxInfo = _rf_rx_callback(rfSettings.pRxInfo);
 2788               	.LM210:
 2789 0c88 8091 0000 		lds r24,rfSettings
 2790 0c8c 9091 0000 		lds r25,(rfSettings)+1
 2791 0c90 0995      		icall
 2792 0c92 9093 0000 		sts (rfSettings)+1,r25
 2793 0c96 8093 0000 		sts rfSettings,r24
 2794               	.L691:
1270:../../src/radio/cc2420/source/basic_rf.c **** 		}
1271:../../src/radio/cc2420/source/basic_rf.c **** 		rx_ready++;
 2796               	.LM211:
 2797 0c9a 8091 0000 		lds r24,rx_ready
 2798 0c9e 8F5F      		subi r24,lo8(-(1))
 2799 0ca0 8093 0000 		sts rx_ready,r24
 2800 0ca4 00C0      		rjmp .L701
 2801               	.L689:
 2802               	.LBB24:
1272:../../src/radio/cc2420/source/basic_rf.c **** 		return;
1273:../../src/radio/cc2420/source/basic_rf.c **** 	}else{
1274:../../src/radio/cc2420/source/basic_rf.c **** 		uint8_t tmp;
1275:../../src/radio/cc2420/source/basic_rf.c **** 		FASTSPI_READ_FIFO_BYTE(tmp);
 2804               	.LM212:
 2805 0ca6 4098      		cbi 40-0x20,0
 2806 0ca8 8FE7      		ldi r24,lo8(127)
 2807 0caa 8EBD      		out 78-0x20,r24
 2808               	.L693:
 2809 0cac 0DB4      		in __tmp_reg__,77-0x20
 2810 0cae 07FE      		sbrs __tmp_reg__,7
 2811 0cb0 00C0      		rjmp .L693
 2812 0cb2 1EBC      		out 78-0x20,__zero_reg__
 2813               	.L695:
 2814 0cb4 0DB4      		in __tmp_reg__,77-0x20
 2815 0cb6 07FE      		sbrs __tmp_reg__,7
 2816 0cb8 00C0      		rjmp .L695
 2817 0cba 8EB5      		in r24,78-0x20
 2818 0cbc 409A      		sbi 40-0x20,0
1276:../../src/radio/cc2420/source/basic_rf.c **** 		FASTSPI_STROBE(CC2420_SFLUSHRX);
 2820               	.LM213:
 2821 0cbe 4098      		cbi 40-0x20,0
 2822 0cc0 88E0      		ldi r24,lo8(8)
 2823 0cc2 8EBD      		out 78-0x20,r24
 2824               	.L697:
 2825 0cc4 0DB4      		in __tmp_reg__,77-0x20
 2826 0cc6 07FE      		sbrs __tmp_reg__,7
 2827 0cc8 00C0      		rjmp .L697
 2828 0cca 409A      		sbi 40-0x20,0
1277:../../src/radio/cc2420/source/basic_rf.c **** 		FASTSPI_STROBE(CC2420_SFLUSHRX);
 2830               	.LM214:
 2831 0ccc 4098      		cbi 40-0x20,0
 2832 0cce 88E0      		ldi r24,lo8(8)
 2833 0cd0 8EBD      		out 78-0x20,r24
 2834               	.L699:
 2835 0cd2 0DB4      		in __tmp_reg__,77-0x20
 2836 0cd4 07FE      		sbrs __tmp_reg__,7
 2837 0cd6 00C0      		rjmp .L699
 2838               	.L776:
 2839 0cd8 409A      		sbi 40-0x20,0
 2840               	.L701:
 2841               	.LBE24:
 2842               	/* epilogue: frame size=4 */
 2843 0cda 2496      		adiw r28,4
 2844 0cdc F894      		cli
 2845 0cde DEBF      		out __SP_H__,r29
 2846 0ce0 CDBF      		out __SP_L__,r28
 2847 0ce2 DF91      		pop r29
 2848 0ce4 CF91      		pop r28
 2849 0ce6 FF91      		pop r31
 2850 0ce8 EF91      		pop r30
 2851 0cea BF91      		pop r27
 2852 0cec AF91      		pop r26
 2853 0cee 9F91      		pop r25
 2854 0cf0 8F91      		pop r24
 2855 0cf2 7F91      		pop r23
 2856 0cf4 6F91      		pop r22
 2857 0cf6 5F91      		pop r21
 2858 0cf8 4F91      		pop r20
 2859 0cfa 3F91      		pop r19
 2860 0cfc 2F91      		pop r18
 2861 0cfe 0F90      		pop __tmp_reg__
 2862 0d00 0FBE      		out __SREG__,__tmp_reg__
 2863 0d02 0F90      		pop __tmp_reg__
 2864 0d04 1F90      		pop __zero_reg__
 2865 0d06 1895      		reti
 2866               	/* epilogue end (size=23) */
 2867               	/* function __vector_8 size 458 (411) */
 2893               	.Lscope31:
 2895               		.stabd	78,0,0
 2898               	.global	rf_tx_packet
 2900               	rf_tx_packet:
 2901               		.stabd	46,0,0
 2903               	.LM215:
 2904               	.LFBB32:
 2905               	/* prologue: frame size=2 */
 2906 0d08 EF92      		push r14
 2907 0d0a FF92      		push r15
 2908 0d0c 0F93      		push r16
 2909 0d0e 1F93      		push r17
 2910 0d10 CF93      		push r28
 2911 0d12 DF93      		push r29
 2912 0d14 CDB7      		in r28,__SP_L__
 2913 0d16 DEB7      		in r29,__SP_H__
 2914 0d18 2297      		sbiw r28,2
 2915 0d1a 0FB6      		in __tmp_reg__,__SREG__
 2916 0d1c F894      		cli
 2917 0d1e DEBF      		out __SP_H__,r29
 2918 0d20 0FBE      		out __SREG__,__tmp_reg__
 2919 0d22 CDBF      		out __SP_L__,r28
 2920               	/* prologue end (size=14) */
 2921 0d24 DC01      		movw r26,r24
 2923               	.LM216:
 2924 0d26 5091 0000 		lds r21,security_enable
 2925 0d2a 5523      		tst r21
 2926 0d2c 01F0      		breq .L778
 2928               	.LM217:
 2929 0d2e 4098      		cbi 40-0x20,0
 2930 0d30 8DE0      		ldi r24,lo8(13)
 2931 0d32 8EBD      		out 78-0x20,r24
 2932               	.L780:
 2933 0d34 0DB4      		in __tmp_reg__,77-0x20
 2934 0d36 07FE      		sbrs __tmp_reg__,7
 2935 0d38 00C0      		rjmp .L780
 2936 0d3a 409A      		sbi 40-0x20,0
 2937               	.L778:
 2939               	.LM218:
 2940 0d3c FD01      		movw r30,r26
 2941 0d3e 4281      		ldd r20,Z+2
 2942 0d40 642F      		mov r22,r20
 2943 0d42 7727      		clr r23
 2944 0d44 67FD      		sbrc r22,7
 2945 0d46 7095      		com r23
 2946 0d48 10E0      		ldi r17,lo8(0)
 2947 0d4a 20E0      		ldi r18,lo8(0)
 2948 0d4c 30E0      		ldi r19,hi8(0)
 2949 0d4e 00C0      		rjmp .L782
 2950               	.L783:
 2952               	.LM219:
 2953 0d50 FD01      		movw r30,r26
 2954 0d52 8381      		ldd r24,Z+3
 2955 0d54 9481      		ldd r25,Z+4
 2956 0d56 E80E      		add r14,r24
 2957 0d58 F91E      		adc r15,r25
 2958 0d5a F701      		movw r30,r14
 2959 0d5c 8081      		ld r24,Z
 2960 0d5e 180F      		add r17,r24
 2961               	.L782:
 2962 0d60 822F      		mov r24,r18
 2963 0d62 2F5F      		subi r18,lo8(-(1))
 2964 0d64 3F4F      		sbci r19,hi8(-(1))
 2966               	.LM220:
 2967 0d66 E82E      		mov r14,r24
 2968 0d68 FF24      		clr r15
 2969 0d6a E616      		cp r14,r22
 2970 0d6c F706      		cpc r15,r23
 2971 0d6e 04F0      		brlt .L783
 2973               	.LM221:
 2974 0d70 942F      		mov r25,r20
 2975 0d72 945F      		subi r25,lo8(-(12))
 2977               	.LM222:
 2978 0d74 5111      		cpse r21,__zero_reg__
 2979 0d76 9C5F      		subi r25,lo8(-(4))
 2980               	.L973:
 2982               	.LM223:
 2983 0d78 6799      		sbic 44-0x20,7
 2984 0d7a 00C0      		rjmp .L973
 2985 0d7c 4E99      		sbic 41-0x20,6
 2986 0d7e 00C0      		rjmp .L973
 2988               	.LM224:
 2989               	/* #APP */
 2990 0d80 F894      		cli
 2991               		
 2993               	.LM225:
 2994               	/* #NOAPP */
 2995 0d82 4098      		cbi 40-0x20,0
 2996 0d84 89E0      		ldi r24,lo8(9)
 2997 0d86 8EBD      		out 78-0x20,r24
 2998               	.L789:
 2999 0d88 0DB4      		in __tmp_reg__,77-0x20
 3000 0d8a 07FE      		sbrs __tmp_reg__,7
 3001 0d8c 00C0      		rjmp .L789
 3002 0d8e 409A      		sbi 40-0x20,0
 3004               	.LM226:
 3005 0d90 4098      		cbi 40-0x20,0
 3006 0d92 89E0      		ldi r24,lo8(9)
 3007 0d94 8EBD      		out 78-0x20,r24
 3008               	.L791:
 3009 0d96 0DB4      		in __tmp_reg__,77-0x20
 3010 0d98 07FE      		sbrs __tmp_reg__,7
 3011 0d9a 00C0      		rjmp .L791
 3012 0d9c 409A      		sbi 40-0x20,0
 3014               	.LM227:
 3015 0d9e 4098      		cbi 40-0x20,0
 3016 0da0 8EE3      		ldi r24,lo8(62)
 3017 0da2 8EBD      		out 78-0x20,r24
 3018               	.L793:
 3019 0da4 0DB4      		in __tmp_reg__,77-0x20
 3020 0da6 07FC      		sbrc __tmp_reg__,7
 3021 0da8 00C0      		rjmp .L935
 3022 0daa 00C0      		rjmp .L793
 3023               	.L795:
 3024               	.LBB25:
 3025 0dac 0DB4      		in __tmp_reg__,77-0x20
 3026 0dae 07FC      		sbrc __tmp_reg__,7
 3027 0db0 00C0      		rjmp .L936
 3028 0db2 00C0      		rjmp .L795
 3029               	.L935:
 3030 0db4 9EBD      		out 78-0x20,r25
 3031 0db6 00C0      		rjmp .L795
 3032               	.L797:
 3033               	.LBE25:
 3035               	.LM228:
 3036 0db8 81E6      		ldi r24,lo8(-30623)
 3037 0dba 98E8      		ldi r25,hi8(-30623)
 3038 0dbc 9A83      		std Y+2,r25
 3039 0dbe 8983      		std Y+1,r24
 3040               	.L798:
 3042               	.LM229:
 3043 0dc0 5523      		tst r21
 3044 0dc2 01F0      		breq .L799
 3045 0dc4 8981      		ldd r24,Y+1
 3046 0dc6 9A81      		ldd r25,Y+2
 3047 0dc8 8860      		ori r24,lo8(8)
 3048 0dca 9A83      		std Y+2,r25
 3049 0dcc 8983      		std Y+1,r24
 3050               	.L799:
 3052               	.LM230:
 3053 0dce 4098      		cbi 40-0x20,0
 3054 0dd0 8EE3      		ldi r24,lo8(62)
 3055 0dd2 8EBD      		out 78-0x20,r24
 3056               	.L801:
 3057 0dd4 0DB4      		in __tmp_reg__,77-0x20
 3058 0dd6 07FE      		sbrs __tmp_reg__,7
 3059 0dd8 00C0      		rjmp .L801
 3060 0dda FE01      		movw r30,r28
 3061 0ddc 3196      		adiw r30,1
 3062               	.LBB26:
 3063 0dde 9E01      		movw r18,r28
 3064 0de0 2D5F      		subi r18,lo8(-(3))
 3065 0de2 3F4F      		sbci r19,hi8(-(3))
 3066               	.L803:
 3067 0de4 8081      		ld r24,Z
 3068 0de6 8EBD      		out 78-0x20,r24
 3069               	.L804:
 3070 0de8 0DB4      		in __tmp_reg__,77-0x20
 3071 0dea 07FE      		sbrs __tmp_reg__,7
 3072 0dec 00C0      		rjmp .L804
 3073 0dee 3196      		adiw r30,1
 3074 0df0 E217      		cp r30,r18
 3075 0df2 F307      		cpc r31,r19
 3076 0df4 01F4      		brne .L803
 3077               	.LBE26:
 3078 0df6 409A      		sbi 40-0x20,0
 3080               	.LM231:
 3081 0df8 4098      		cbi 40-0x20,0
 3082 0dfa 8EE3      		ldi r24,lo8(62)
 3083 0dfc 8EBD      		out 78-0x20,r24
 3084               	.L807:
 3085 0dfe 0DB4      		in __tmp_reg__,77-0x20
 3086 0e00 07FC      		sbrc __tmp_reg__,7
 3087 0e02 00C0      		rjmp .L940
 3088 0e04 00C0      		rjmp .L807
 3089               	.L809:
 3090               	.LBB27:
 3091 0e06 0DB4      		in __tmp_reg__,77-0x20
 3092 0e08 07FC      		sbrc __tmp_reg__,7
 3093 0e0a 00C0      		rjmp .L941
 3094 0e0c 00C0      		rjmp .L809
 3095               	.L940:
 3096 0e0e 8091 0000 		lds r24,rfSettings+2
 3097 0e12 8EBD      		out 78-0x20,r24
 3098 0e14 00C0      		rjmp .L809
 3099               	.L811:
 3100               	.LBE27:
 3102               	.LM232:
 3103 0e16 0DB4      		in __tmp_reg__,77-0x20
 3104 0e18 07FE      		sbrs __tmp_reg__,7
 3105 0e1a 00C0      		rjmp .L811
 3106 0e1c 20E0      		ldi r18,lo8(0)
 3107 0e1e 30E0      		ldi r19,hi8(0)
 3108               	.L813:
 3109               	.LBB28:
 3110 0e20 F901      		movw r30,r18
 3111 0e22 E050      		subi r30,lo8(-(rfSettings+4))
 3112 0e24 F040      		sbci r31,hi8(-(rfSettings+4))
 3113 0e26 8081      		ld r24,Z
 3114 0e28 8EBD      		out 78-0x20,r24
 3115               	.L814:
 3116 0e2a 0DB4      		in __tmp_reg__,77-0x20
 3117 0e2c 07FE      		sbrs __tmp_reg__,7
 3118 0e2e 00C0      		rjmp .L814
 3119 0e30 2F5F      		subi r18,lo8(-(1))
 3120 0e32 3F4F      		sbci r19,hi8(-(1))
 3121 0e34 2230      		cpi r18,2
 3122 0e36 3105      		cpc r19,__zero_reg__
 3123 0e38 01F4      		brne .L813
 3124               	.LBE28:
 3125 0e3a 409A      		sbi 40-0x20,0
 3127               	.LM233:
 3128 0e3c 4098      		cbi 40-0x20,0
 3129 0e3e 8EE3      		ldi r24,lo8(62)
 3130 0e40 8EBD      		out 78-0x20,r24
 3131               	.L817:
 3132 0e42 0DB4      		in __tmp_reg__,77-0x20
 3133 0e44 07FE      		sbrs __tmp_reg__,7
 3134 0e46 00C0      		rjmp .L817
 3135 0e48 20E0      		ldi r18,lo8(0)
 3136 0e4a 30E0      		ldi r19,hi8(0)
 3137               	.L819:
 3138               	.LBB29:
 3139 0e4c FD01      		movw r30,r26
 3140 0e4e E20F      		add r30,r18
 3141 0e50 F31F      		adc r31,r19
 3142 0e52 8081      		ld r24,Z
 3143 0e54 8EBD      		out 78-0x20,r24
 3144               	.L820:
 3145 0e56 0DB4      		in __tmp_reg__,77-0x20
 3146 0e58 07FE      		sbrs __tmp_reg__,7
 3147 0e5a 00C0      		rjmp .L820
 3148 0e5c 2F5F      		subi r18,lo8(-(1))
 3149 0e5e 3F4F      		sbci r19,hi8(-(1))
 3150 0e60 2230      		cpi r18,2
 3151 0e62 3105      		cpc r19,__zero_reg__
 3152 0e64 01F4      		brne .L819
 3153               	.LBE29:
 3154 0e66 409A      		sbi 40-0x20,0
 3156               	.LM234:
 3157 0e68 4098      		cbi 40-0x20,0
 3158 0e6a 8EE3      		ldi r24,lo8(62)
 3159 0e6c 8EBD      		out 78-0x20,r24
 3160               	.L823:
 3161 0e6e 0DB4      		in __tmp_reg__,77-0x20
 3162 0e70 07FE      		sbrs __tmp_reg__,7
 3163 0e72 00C0      		rjmp .L823
 3164 0e74 20E0      		ldi r18,lo8(0)
 3165 0e76 30E0      		ldi r19,hi8(0)
 3166               	.L825:
 3167               	.LBB30:
 3168 0e78 F901      		movw r30,r18
 3169 0e7a E050      		subi r30,lo8(-(rfSettings+6))
 3170 0e7c F040      		sbci r31,hi8(-(rfSettings+6))
 3171 0e7e 8081      		ld r24,Z
 3172 0e80 8EBD      		out 78-0x20,r24
 3173               	.L826:
 3174 0e82 0DB4      		in __tmp_reg__,77-0x20
 3175 0e84 07FE      		sbrs __tmp_reg__,7
 3176 0e86 00C0      		rjmp .L826
 3177 0e88 2F5F      		subi r18,lo8(-(1))
 3178 0e8a 3F4F      		sbci r19,hi8(-(1))
 3179 0e8c 2230      		cpi r18,2
 3180 0e8e 3105      		cpc r19,__zero_reg__
 3181 0e90 01F4      		brne .L825
 3182               	.LBE30:
 3183 0e92 409A      		sbi 40-0x20,0
 3185               	.LM235:
 3186 0e94 5523      		tst r21
 3187 0e96 01F0      		breq .L829
 3189               	.LM236:
 3190 0e98 4098      		cbi 40-0x20,0
 3191 0e9a 8EE3      		ldi r24,lo8(62)
 3192 0e9c 8EBD      		out 78-0x20,r24
 3193               	.L831:
 3194 0e9e 0DB4      		in __tmp_reg__,77-0x20
 3195 0ea0 07FE      		sbrs __tmp_reg__,7
 3196 0ea2 00C0      		rjmp .L831
 3197 0ea4 E0E0      		ldi r30,lo8(tx_ctr)
 3198 0ea6 F0E0      		ldi r31,hi8(tx_ctr)
 3199               	.L833:
 3200               	.LBB31:
 3201 0ea8 8081      		ld r24,Z
 3202 0eaa 8EBD      		out 78-0x20,r24
 3203               	.L834:
 3204 0eac 0DB4      		in __tmp_reg__,77-0x20
 3205 0eae 07FE      		sbrs __tmp_reg__,7
 3206 0eb0 00C0      		rjmp .L834
 3207 0eb2 3196      		adiw r30,1
 3208 0eb4 80E0      		ldi r24,hi8(tx_ctr+4)
 3209 0eb6 E030      		cpi r30,lo8(tx_ctr+4)
 3210 0eb8 F807      		cpc r31,r24
 3211 0eba 01F4      		brne .L833
 3212               	.LBE31:
 3213 0ebc 409A      		sbi 40-0x20,0
 3214               	.L829:
 3216               	.LM237:
 3217 0ebe 4098      		cbi 40-0x20,0
 3218 0ec0 8EE3      		ldi r24,lo8(62)
 3219 0ec2 8EBD      		out 78-0x20,r24
 3220               	.L837:
 3221 0ec4 0DB4      		in __tmp_reg__,77-0x20
 3222 0ec6 07FE      		sbrs __tmp_reg__,7
 3223 0ec8 00C0      		rjmp .L837
 3224 0eca 20E0      		ldi r18,lo8(0)
 3225 0ecc 30E0      		ldi r19,hi8(0)
 3226 0ece 00C0      		rjmp .L839
 3227               	.L840:
 3228               	.LBB32:
 3229 0ed0 FD01      		movw r30,r26
 3230 0ed2 8381      		ldd r24,Z+3
 3231 0ed4 9481      		ldd r25,Z+4
 3232 0ed6 480F      		add r20,r24
 3233 0ed8 591F      		adc r21,r25
 3234 0eda FA01      		movw r30,r20
 3235 0edc 8081      		ld r24,Z
 3236 0ede 8EBD      		out 78-0x20,r24
 3237               	.L841:
 3238 0ee0 0DB4      		in __tmp_reg__,77-0x20
 3239 0ee2 07FE      		sbrs __tmp_reg__,7
 3240 0ee4 00C0      		rjmp .L841
 3241 0ee6 2F5F      		subi r18,lo8(-(1))
 3242 0ee8 3F4F      		sbci r19,hi8(-(1))
 3243               	.L839:
 3244 0eea 422F      		mov r20,r18
 3245 0eec 5527      		clr r21
 3246 0eee 4617      		cp r20,r22
 3247 0ef0 5707      		cpc r21,r23
 3248 0ef2 04F0      		brlt .L840
 3249               	.LBE32:
 3250 0ef4 409A      		sbi 40-0x20,0
 3252               	.LM238:
 3253 0ef6 4098      		cbi 40-0x20,0
 3254 0ef8 8EE3      		ldi r24,lo8(62)
 3255 0efa 8EBD      		out 78-0x20,r24
 3256               	.L844:
 3257 0efc 0DB4      		in __tmp_reg__,77-0x20
 3258 0efe 07FC      		sbrc __tmp_reg__,7
 3259 0f00 00C0      		rjmp .L956
 3260 0f02 00C0      		rjmp .L844
 3261               	.L846:
 3262               	.LBB33:
 3263 0f04 0DB4      		in __tmp_reg__,77-0x20
 3264 0f06 07FC      		sbrc __tmp_reg__,7
 3265 0f08 00C0      		rjmp .L957
 3266 0f0a 00C0      		rjmp .L846
 3267               	.L956:
 3268 0f0c 1EBD      		out 78-0x20,r17
 3269 0f0e 00C0      		rjmp .L846
 3270               	.L848:
 3271               	.LBE33:
 3272               	.LBB34:
 3274               	.LM239:
 3275 0f10 8091 0000 		lds r24,rfSettings+8
 3276 0f14 8823      		tst r24
 3277 0f16 01F4      		brne .L889
 3279               	.LM240:
 3280 0f18 4098      		cbi 40-0x20,0
 3281 0f1a 83E0      		ldi r24,lo8(3)
 3282 0f1c 8EBD      		out 78-0x20,r24
 3283               	.L851:
 3284 0f1e 0DB4      		in __tmp_reg__,77-0x20
 3285 0f20 07FE      		sbrs __tmp_reg__,7
 3286 0f22 00C0      		rjmp .L851
 3287 0f24 409A      		sbi 40-0x20,0
 3288               	.L889:
 3290               	.LM241:
 3291 0f26 4098      		cbi 40-0x20,0
 3292 0f28 1EBC      		out 78-0x20,__zero_reg__
 3293               	.L853:
 3294 0f2a 0DB4      		in __tmp_reg__,77-0x20
 3295 0f2c 07FE      		sbrs __tmp_reg__,7
 3296 0f2e 00C0      		rjmp .L853
 3297 0f30 8EB5      		in r24,78-0x20
 3298 0f32 409A      		sbi 40-0x20,0
 3300               	.LM242:
 3301 0f34 81FF      		sbrs r24,1
 3302 0f36 00C0      		rjmp .L889
 3303 0f38 00E0      		ldi r16,lo8(0)
 3304               	.L856:
 3306               	.LM243:
 3307 0f3a 4098      		cbi 40-0x20,0
 3308 0f3c 85E0      		ldi r24,lo8(5)
 3309 0f3e 8EBD      		out 78-0x20,r24
 3310               	.L857:
 3311 0f40 0DB4      		in __tmp_reg__,77-0x20
 3312 0f42 07FE      		sbrs __tmp_reg__,7
 3313 0f44 00C0      		rjmp .L857
 3314 0f46 409A      		sbi 40-0x20,0
 3316               	.LM244:
 3317 0f48 4098      		cbi 40-0x20,0
 3318 0f4a 1EBC      		out 78-0x20,__zero_reg__
 3319               	.L859:
 3320 0f4c 0DB4      		in __tmp_reg__,77-0x20
 3321 0f4e 07FE      		sbrs __tmp_reg__,7
 3322 0f50 00C0      		rjmp .L859
 3323 0f52 1EB5      		in r17,78-0x20
 3324 0f54 409A      		sbi 40-0x20,0
 3326               	.LM245:
 3327 0f56 0F5F      		subi r16,lo8(-(1))
 3329               	.LM246:
 3330 0f58 0536      		cpi r16,lo8(101)
 3331 0f5a 01F4      		brne .L861
 3333               	.LM247:
 3334               	/* #APP */
 3335 0f5c 7894      		sei
 3336               		
 3338               	.LM248:
 3339               	/* #NOAPP */
 3340 0f5e 8091 0000 		lds r24,radio_sem
 3341 0f62 9091 0000 		lds r25,(radio_sem)+1
 3342 0f66 0E94 0000 		call nrk_sem_post
 3343 0f6a 80E0      		ldi r24,lo8(0)
 3344 0f6c 90E0      		ldi r25,hi8(0)
 3345 0f6e 00C0      		rjmp .L863
 3346               	.L861:
 3348               	.LM249:
 3349 0f70 84E6      		ldi r24,lo8(100)
 3350 0f72 90E0      		ldi r25,hi8(100)
 3351 0f74 0E94 0000 		call halWait
 3353               	.LM250:
 3354 0f78 13FD      		sbrc r17,3
 3355 0f7a 00C0      		rjmp .L864
 3356 0f7c 00C0      		rjmp .L856
 3357               	.L970:
 3358               	.LBE34:
 3360               	.LM251:
 3361 0f7e 4098      		cbi 40-0x20,0
 3362 0f80 84E0      		ldi r24,lo8(4)
 3363 0f82 8EBD      		out 78-0x20,r24
 3364               	.L866:
 3365 0f84 0DB4      		in __tmp_reg__,77-0x20
 3366 0f86 07FE      		sbrs __tmp_reg__,7
 3367 0f88 00C0      		rjmp .L866
 3368 0f8a 409A      		sbi 40-0x20,0
 3369               	.L864:
 3371               	.LM252:
 3372               	/* #APP */
 3373 0f8c 7894      		sei
 3374               		
 3375               	/* #NOAPP */
 3376               	.L868:
 3378               	.LM253:
 3379 0f8e 4E9B      		sbis 41-0x20,6
 3380 0f90 00C0      		rjmp .L868
 3381               	.L890:
 3383               	.LM254:
 3384 0f92 4E99      		sbic 41-0x20,6
 3385 0f94 00C0      		rjmp .L890
 3387               	.LM255:
 3388 0f96 8091 0000 		lds r24,auto_ack_enable
 3389 0f9a 8823      		tst r24
 3390 0f9c 01F0      		breq .L972
 3392               	.LM256:
 3393 0f9e 84EA      		ldi r24,lo8(676)
 3394 0fa0 92E0      		ldi r25,hi8(676)
 3395 0fa2 0E94 0000 		call halWait
 3397               	.LM257:
 3398 0fa6 319B      		sbis 38-0x20,1
 3399 0fa8 00C0      		rjmp .L874
 3401               	.LM258:
 3402 0faa 4098      		cbi 40-0x20,0
 3403 0fac 8FE7      		ldi r24,lo8(127)
 3404 0fae 8EBD      		out 78-0x20,r24
 3405               	.L876:
 3406 0fb0 0DB4      		in __tmp_reg__,77-0x20
 3407 0fb2 07FE      		sbrs __tmp_reg__,7
 3408 0fb4 00C0      		rjmp .L876
 3409 0fb6 1EBC      		out 78-0x20,__zero_reg__
 3410               	.L878:
 3411 0fb8 0DB4      		in __tmp_reg__,77-0x20
 3412 0fba 07FE      		sbrs __tmp_reg__,7
 3413 0fbc 00C0      		rjmp .L878
 3414 0fbe 8EB5      		in r24,78-0x20
 3415 0fc0 409A      		sbi 40-0x20,0
 3416               	.L972:
 3417 0fc2 91E0      		ldi r25,lo8(1)
 3418 0fc4 00C0      		rjmp .L873
 3419               	.L874:
 3421               	.LM259:
 3422 0fc6 4098      		cbi 40-0x20,0
 3423 0fc8 88E0      		ldi r24,lo8(8)
 3424 0fca 8EBD      		out 78-0x20,r24
 3425               	.L880:
 3426 0fcc 0DB4      		in __tmp_reg__,77-0x20
 3427 0fce 07FE      		sbrs __tmp_reg__,7
 3428 0fd0 00C0      		rjmp .L880
 3429 0fd2 409A      		sbi 40-0x20,0
 3431               	.LM260:
 3432 0fd4 4098      		cbi 40-0x20,0
 3433 0fd6 88E0      		ldi r24,lo8(8)
 3434 0fd8 8EBD      		out 78-0x20,r24
 3435               	.L882:
 3436 0fda 0DB4      		in __tmp_reg__,77-0x20
 3437 0fdc 07FE      		sbrs __tmp_reg__,7
 3438 0fde 00C0      		rjmp .L882
 3439 0fe0 409A      		sbi 40-0x20,0
 3440 0fe2 90E0      		ldi r25,lo8(0)
 3441               	.L873:
 3443               	.LM261:
 3444               	/* #APP */
 3445 0fe4 F894      		cli
 3446               		
 3448               	.LM262:
 3449               	/* #NOAPP */
 3450 0fe6 4098      		cbi 40-0x20,0
 3451 0fe8 86E0      		ldi r24,lo8(6)
 3452 0fea 8EBD      		out 78-0x20,r24
 3453               	.L884:
 3454 0fec 0DB4      		in __tmp_reg__,77-0x20
 3455 0fee 07FE      		sbrs __tmp_reg__,7
 3456 0ff0 00C0      		rjmp .L884
 3457 0ff2 409A      		sbi 40-0x20,0
 3459               	.LM263:
 3460               	/* #APP */
 3461 0ff4 7894      		sei
 3462               		
 3464               	.LM264:
 3465               	/* #NOAPP */
 3466 0ff6 8091 0000 		lds r24,rfSettings+2
 3467 0ffa 8F5F      		subi r24,lo8(-(1))
 3468 0ffc 8093 0000 		sts rfSettings+2,r24
 3470               	.LM265:
 3471 1000 892F      		mov r24,r25
 3472 1002 9927      		clr r25
 3473 1004 00C0      		rjmp .L863
 3474               	.L936:
 3476               	.LM266:
 3477 1006 409A      		sbi 40-0x20,0
 3479               	.LM267:
 3480 1008 81E4      		ldi r24,lo8(-30655)
 3481 100a 98E8      		ldi r25,hi8(-30655)
 3482 100c 9A83      		std Y+2,r25
 3483 100e 8983      		std Y+1,r24
 3485               	.LM268:
 3486 1010 8091 0000 		lds r24,auto_ack_enable
 3487 1014 8823      		tst r24
 3488 1016 01F0      		breq .+2
 3489 1018 00C0      		rjmp .L797
 3490 101a 00C0      		rjmp .L798
 3491               	.L941:
 3493               	.LM269:
 3494 101c 409A      		sbi 40-0x20,0
 3496               	.LM270:
 3497 101e 4098      		cbi 40-0x20,0
 3498 1020 8EE3      		ldi r24,lo8(62)
 3499 1022 8EBD      		out 78-0x20,r24
 3500 1024 00C0      		rjmp .L811
 3501               	.L957:
 3503               	.LM271:
 3504 1026 409A      		sbi 40-0x20,0
 3506               	.LM272:
 3507 1028 FD01      		movw r30,r26
 3508 102a 8581      		ldd r24,Z+5
 3509 102c 8823      		tst r24
 3510 102e 01F0      		breq .+2
 3511 1030 00C0      		rjmp .L848
 3512 1032 00C0      		rjmp .L970
 3513               	.L863:
 3514               	/* epilogue: frame size=2 */
 3515 1034 2296      		adiw r28,2
 3516 1036 0FB6      		in __tmp_reg__,__SREG__
 3517 1038 F894      		cli
 3518 103a DEBF      		out __SP_H__,r29
 3519 103c 0FBE      		out __SREG__,__tmp_reg__
 3520 103e CDBF      		out __SP_L__,r28
 3521 1040 DF91      		pop r29
 3522 1042 CF91      		pop r28
 3523 1044 1F91      		pop r17
 3524 1046 0F91      		pop r16
 3525 1048 FF90      		pop r15
 3526 104a EF90      		pop r14
 3527 104c 0895      		ret
 3528               	/* epilogue end (size=13) */
 3529               	/* function rf_tx_packet size 435 (408) */
 3543               	.Lscope32:
 3545               		.stabd	78,0,0
 3550               	.global	rf_tx_tdma_packet
 3552               	rf_tx_tdma_packet:
 3553               		.stabd	46,0,0
 3555               	.LM273:
 3556               	.LFBB33:
 3557               	/* prologue: frame size=2 */
 3558 104e BF92      		push r11
 3559 1050 CF92      		push r12
 3560 1052 DF92      		push r13
 3561 1054 EF92      		push r14
 3562 1056 FF92      		push r15
 3563 1058 0F93      		push r16
 3564 105a 1F93      		push r17
 3565 105c CF93      		push r28
 3566 105e DF93      		push r29
 3567 1060 CDB7      		in r28,__SP_L__
 3568 1062 DEB7      		in r29,__SP_H__
 3569 1064 2297      		sbiw r28,2
 3570 1066 0FB6      		in __tmp_reg__,__SREG__
 3571 1068 F894      		cli
 3572 106a DEBF      		out __SP_H__,r29
 3573 106c 0FBE      		out __SREG__,__tmp_reg__
 3574 106e CDBF      		out __SP_L__,r28
 3575               	/* prologue end (size=17) */
 3576 1070 8C01      		movw r16,r24
 3577 1072 6B01      		movw r12,r22
 3578 1074 7A01      		movw r14,r20
 3580               	.LM274:
 3581 1076 0E94 0000 		call _nrk_os_timer_get
 3583               	.LM275:
 3584 107a 4098      		cbi 40-0x20,0
 3585 107c 88E0      		ldi r24,lo8(8)
 3586 107e 8EBD      		out 78-0x20,r24
 3587               	.L975:
 3589               	.LM276:
 3590 1080 0DB4      		in __tmp_reg__,77-0x20
 3591 1082 07FE      		sbrs __tmp_reg__,7
 3592 1084 00C0      		rjmp .L975
 3593 1086 409A      		sbi 40-0x20,0
 3595               	.LM277:
 3596 1088 4098      		cbi 40-0x20,0
 3597 108a 88E0      		ldi r24,lo8(8)
 3598 108c 8EBD      		out 78-0x20,r24
 3599               	.L977:
 3600 108e 0DB4      		in __tmp_reg__,77-0x20
 3601 1090 07FE      		sbrs __tmp_reg__,7
 3602 1092 00C0      		rjmp .L977
 3603 1094 409A      		sbi 40-0x20,0
 3604               	.L1149:
 3606               	.LM278:
 3607 1096 6799      		sbic 44-0x20,7
 3608 1098 00C0      		rjmp .L1149
 3609 109a 4E99      		sbic 41-0x20,6
 3610 109c 00C0      		rjmp .L1149
 3612               	.LM279:
 3613               	/* #APP */
 3614 109e F894      		cli
 3615               		
 3617               	.LM280:
 3618               	/* #NOAPP */
 3619 10a0 4098      		cbi 40-0x20,0
 3620 10a2 89E0      		ldi r24,lo8(9)
 3621 10a4 8EBD      		out 78-0x20,r24
 3622               	.L982:
 3623 10a6 0DB4      		in __tmp_reg__,77-0x20
 3624 10a8 07FE      		sbrs __tmp_reg__,7
 3625 10aa 00C0      		rjmp .L982
 3626 10ac 409A      		sbi 40-0x20,0
 3628               	.LM281:
 3629 10ae 4098      		cbi 40-0x20,0
 3630 10b0 89E0      		ldi r24,lo8(9)
 3631 10b2 8EBD      		out 78-0x20,r24
 3632               	.L984:
 3633 10b4 0DB4      		in __tmp_reg__,77-0x20
 3634 10b6 07FE      		sbrs __tmp_reg__,7
 3635 10b8 00C0      		rjmp .L984
 3636 10ba 409A      		sbi 40-0x20,0
 3638               	.LM282:
 3639 10bc F801      		movw r30,r16
 3640 10be 6281      		ldd r22,Z+2
 3641 10c0 462F      		mov r20,r22
 3642 10c2 5527      		clr r21
 3643 10c4 47FD      		sbrc r20,7
 3644 10c6 5095      		com r21
 3645 10c8 BB24      		clr r11
 3646 10ca 20E0      		ldi r18,lo8(0)
 3647 10cc 30E0      		ldi r19,hi8(0)
 3648 10ce 00C0      		rjmp .L986
 3649               	.L987:
 3651               	.LM283:
 3652 10d0 F801      		movw r30,r16
 3653 10d2 8381      		ldd r24,Z+3
 3654 10d4 9481      		ldd r25,Z+4
 3655 10d6 A80F      		add r26,r24
 3656 10d8 B91F      		adc r27,r25
 3657 10da 8C91      		ld r24,X
 3658 10dc B80E      		add r11,r24
 3659               	.L986:
 3660 10de 822F      		mov r24,r18
 3661 10e0 2F5F      		subi r18,lo8(-(1))
 3662 10e2 3F4F      		sbci r19,hi8(-(1))
 3664               	.LM284:
 3665 10e4 A82F      		mov r26,r24
 3666 10e6 BB27      		clr r27
 3667 10e8 A417      		cp r26,r20
 3668 10ea B507      		cpc r27,r21
 3669 10ec 04F0      		brlt .L987
 3671               	.LM285:
 3672 10ee 962F      		mov r25,r22
 3673 10f0 945F      		subi r25,lo8(-(12))
 3675               	.LM286:
 3676 10f2 4098      		cbi 40-0x20,0
 3677 10f4 8EE3      		ldi r24,lo8(62)
 3678 10f6 8EBD      		out 78-0x20,r24
 3679               	.L989:
 3680 10f8 0DB4      		in __tmp_reg__,77-0x20
 3681 10fa 07FC      		sbrc __tmp_reg__,7
 3682 10fc 00C0      		rjmp .L1115
 3683 10fe 00C0      		rjmp .L989
 3684               	.L991:
 3685               	.LBB35:
 3686 1100 0DB4      		in __tmp_reg__,77-0x20
 3687 1102 07FC      		sbrc __tmp_reg__,7
 3688 1104 00C0      		rjmp .L1116
 3689 1106 00C0      		rjmp .L991
 3690               	.L1115:
 3691 1108 9EBD      		out 78-0x20,r25
 3692 110a 00C0      		rjmp .L991
 3693               	.L993:
 3694 110c 81E6      		ldi r24,lo8(-30623)
 3695 110e 98E8      		ldi r25,hi8(-30623)
 3696               	.L994:
 3697               	.LBE35:
 3699               	.LM287:
 3700 1110 9A83      		std Y+2,r25
 3701 1112 8983      		std Y+1,r24
 3703               	.LM288:
 3704 1114 4098      		cbi 40-0x20,0
 3705 1116 8EE3      		ldi r24,lo8(62)
 3706 1118 8EBD      		out 78-0x20,r24
 3707               	.L995:
 3708 111a 0DB4      		in __tmp_reg__,77-0x20
 3709 111c 07FE      		sbrs __tmp_reg__,7
 3710 111e 00C0      		rjmp .L995
 3711 1120 FE01      		movw r30,r28
 3712 1122 3196      		adiw r30,1
 3713               	.LBB36:
 3714 1124 9E01      		movw r18,r28
 3715 1126 2D5F      		subi r18,lo8(-(3))
 3716 1128 3F4F      		sbci r19,hi8(-(3))
 3717               	.L997:
 3718 112a 8081      		ld r24,Z
 3719 112c 8EBD      		out 78-0x20,r24
 3720               	.L998:
 3721 112e 0DB4      		in __tmp_reg__,77-0x20
 3722 1130 07FE      		sbrs __tmp_reg__,7
 3723 1132 00C0      		rjmp .L998
 3724 1134 3196      		adiw r30,1
 3725 1136 E217      		cp r30,r18
 3726 1138 F307      		cpc r31,r19
 3727 113a 01F4      		brne .L997
 3728               	.LBE36:
 3729 113c 409A      		sbi 40-0x20,0
 3731               	.LM289:
 3732 113e 4098      		cbi 40-0x20,0
 3733 1140 8EE3      		ldi r24,lo8(62)
 3734 1142 8EBD      		out 78-0x20,r24
 3735               	.L1001:
 3736 1144 0DB4      		in __tmp_reg__,77-0x20
 3737 1146 07FC      		sbrc __tmp_reg__,7
 3738 1148 00C0      		rjmp .L1120
 3739 114a 00C0      		rjmp .L1001
 3740               	.L1003:
 3741               	.LBB37:
 3742 114c 0DB4      		in __tmp_reg__,77-0x20
 3743 114e 07FC      		sbrc __tmp_reg__,7
 3744 1150 00C0      		rjmp .L1121
 3745 1152 00C0      		rjmp .L1003
 3746               	.L1120:
 3747 1154 8091 0000 		lds r24,rfSettings+2
 3748 1158 8EBD      		out 78-0x20,r24
 3749 115a 00C0      		rjmp .L1003
 3750               	.L1005:
 3751               	.LBE37:
 3753               	.LM290:
 3754 115c 0DB4      		in __tmp_reg__,77-0x20
 3755 115e 07FE      		sbrs __tmp_reg__,7
 3756 1160 00C0      		rjmp .L1005
 3757 1162 20E0      		ldi r18,lo8(0)
 3758 1164 30E0      		ldi r19,hi8(0)
 3759               	.L1007:
 3760               	.LBB38:
 3761 1166 F901      		movw r30,r18
 3762 1168 E050      		subi r30,lo8(-(rfSettings+4))
 3763 116a F040      		sbci r31,hi8(-(rfSettings+4))
 3764 116c 8081      		ld r24,Z
 3765 116e 8EBD      		out 78-0x20,r24
 3766               	.L1008:
 3767 1170 0DB4      		in __tmp_reg__,77-0x20
 3768 1172 07FE      		sbrs __tmp_reg__,7
 3769 1174 00C0      		rjmp .L1008
 3770 1176 2F5F      		subi r18,lo8(-(1))
 3771 1178 3F4F      		sbci r19,hi8(-(1))
 3772 117a 2230      		cpi r18,2
 3773 117c 3105      		cpc r19,__zero_reg__
 3774 117e 01F4      		brne .L1007
 3775               	.LBE38:
 3776 1180 409A      		sbi 40-0x20,0
 3778               	.LM291:
 3779 1182 4098      		cbi 40-0x20,0
 3780 1184 8EE3      		ldi r24,lo8(62)
 3781 1186 8EBD      		out 78-0x20,r24
 3782               	.L1011:
 3783 1188 0DB4      		in __tmp_reg__,77-0x20
 3784 118a 07FE      		sbrs __tmp_reg__,7
 3785 118c 00C0      		rjmp .L1011
 3786 118e 20E0      		ldi r18,lo8(0)
 3787 1190 30E0      		ldi r19,hi8(0)
 3788               	.L1013:
 3789               	.LBB39:
 3790 1192 F801      		movw r30,r16
 3791 1194 E20F      		add r30,r18
 3792 1196 F31F      		adc r31,r19
 3793 1198 8081      		ld r24,Z
 3794 119a 8EBD      		out 78-0x20,r24
 3795               	.L1014:
 3796 119c 0DB4      		in __tmp_reg__,77-0x20
 3797 119e 07FE      		sbrs __tmp_reg__,7
 3798 11a0 00C0      		rjmp .L1014
 3799 11a2 2F5F      		subi r18,lo8(-(1))
 3800 11a4 3F4F      		sbci r19,hi8(-(1))
 3801 11a6 2230      		cpi r18,2
 3802 11a8 3105      		cpc r19,__zero_reg__
 3803 11aa 01F4      		brne .L1013
 3804               	.LBE39:
 3805 11ac 409A      		sbi 40-0x20,0
 3807               	.LM292:
 3808 11ae 4098      		cbi 40-0x20,0
 3809 11b0 8EE3      		ldi r24,lo8(62)
 3810 11b2 8EBD      		out 78-0x20,r24
 3811               	.L1017:
 3812 11b4 0DB4      		in __tmp_reg__,77-0x20
 3813 11b6 07FE      		sbrs __tmp_reg__,7
 3814 11b8 00C0      		rjmp .L1017
 3815 11ba 20E0      		ldi r18,lo8(0)
 3816 11bc 30E0      		ldi r19,hi8(0)
 3817               	.L1019:
 3818               	.LBB40:
 3819 11be F901      		movw r30,r18
 3820 11c0 E050      		subi r30,lo8(-(rfSettings+6))
 3821 11c2 F040      		sbci r31,hi8(-(rfSettings+6))
 3822 11c4 8081      		ld r24,Z
 3823 11c6 8EBD      		out 78-0x20,r24
 3824               	.L1020:
 3825 11c8 0DB4      		in __tmp_reg__,77-0x20
 3826 11ca 07FE      		sbrs __tmp_reg__,7
 3827 11cc 00C0      		rjmp .L1020
 3828 11ce 2F5F      		subi r18,lo8(-(1))
 3829 11d0 3F4F      		sbci r19,hi8(-(1))
 3830 11d2 2230      		cpi r18,2
 3831 11d4 3105      		cpc r19,__zero_reg__
 3832 11d6 01F4      		brne .L1019
 3833               	.LBE40:
 3834 11d8 409A      		sbi 40-0x20,0
 3836               	.LM293:
 3837 11da B701      		movw r22,r14
 3838 11dc C601      		movw r24,r12
 3839 11de 0E94 0000 		call nrk_high_speed_timer_wait
 3841               	.LM294:
 3842 11e2 F801      		movw r30,r16
 3843 11e4 8581      		ldd r24,Z+5
 3844 11e6 8823      		tst r24
 3845 11e8 01F0      		breq .L1023
 3846               	.LBB41:
 3848               	.LM295:
 3849 11ea 8091 0000 		lds r24,rfSettings+8
 3850 11ee 8823      		tst r24
 3851 11f0 01F4      		brne .L1071
 3853               	.LM296:
 3854 11f2 4098      		cbi 40-0x20,0
 3855 11f4 83E0      		ldi r24,lo8(3)
 3856 11f6 8EBD      		out 78-0x20,r24
 3857               	.L1027:
 3858 11f8 0DB4      		in __tmp_reg__,77-0x20
 3859 11fa 07FE      		sbrs __tmp_reg__,7
 3860 11fc 00C0      		rjmp .L1027
 3861 11fe 409A      		sbi 40-0x20,0
 3862               	.L1071:
 3864               	.LM297:
 3865 1200 4098      		cbi 40-0x20,0
 3866 1202 1EBC      		out 78-0x20,__zero_reg__
 3867               	.L1029:
 3868 1204 0DB4      		in __tmp_reg__,77-0x20
 3869 1206 07FE      		sbrs __tmp_reg__,7
 3870 1208 00C0      		rjmp .L1029
 3871 120a 8EB5      		in r24,78-0x20
 3872 120c 409A      		sbi 40-0x20,0
 3874               	.LM298:
 3875 120e 81FF      		sbrs r24,1
 3876 1210 00C0      		rjmp .L1071
 3877 1212 EE24      		clr r14
 3878               	.L1032:
 3880               	.LM299:
 3881 1214 4098      		cbi 40-0x20,0
 3882 1216 85E0      		ldi r24,lo8(5)
 3883 1218 8EBD      		out 78-0x20,r24
 3884               	.L1033:
 3885 121a 0DB4      		in __tmp_reg__,77-0x20
 3886 121c 07FE      		sbrs __tmp_reg__,7
 3887 121e 00C0      		rjmp .L1033
 3888 1220 409A      		sbi 40-0x20,0
 3890               	.LM300:
 3891 1222 4098      		cbi 40-0x20,0
 3892 1224 1EBC      		out 78-0x20,__zero_reg__
 3893               	.L1035:
 3894 1226 0DB4      		in __tmp_reg__,77-0x20
 3895 1228 07FE      		sbrs __tmp_reg__,7
 3896 122a 00C0      		rjmp .L1035
 3897 122c FEB4      		in r15,78-0x20
 3898 122e 409A      		sbi 40-0x20,0
 3900               	.LM301:
 3901 1230 E394      		inc r14
 3903               	.LM302:
 3904 1232 F5E6      		ldi r31,lo8(101)
 3905 1234 EF16      		cp r14,r31
 3906 1236 01F4      		brne .L1037
 3908               	.LM303:
 3909               	/* #APP */
 3910 1238 7894      		sei
 3911               		
 3913               	.LM304:
 3914               	/* #NOAPP */
 3915 123a 8091 0000 		lds r24,radio_sem
 3916 123e 9091 0000 		lds r25,(radio_sem)+1
 3917 1242 0E94 0000 		call nrk_sem_post
 3918 1246 80E0      		ldi r24,lo8(0)
 3919 1248 90E0      		ldi r25,hi8(0)
 3920 124a 00C0      		rjmp .L1039
 3921               	.L1037:
 3923               	.LM305:
 3924 124c 84E6      		ldi r24,lo8(100)
 3925 124e 90E0      		ldi r25,hi8(100)
 3926 1250 0E94 0000 		call halWait
 3928               	.LM306:
 3929 1254 F3FC      		sbrc r15,3
 3930 1256 00C0      		rjmp .L1040
 3931 1258 00C0      		rjmp .L1032
 3932               	.L1023:
 3933               	.LBE41:
 3935               	.LM307:
 3936 125a 4098      		cbi 40-0x20,0
 3937 125c 84E0      		ldi r24,lo8(4)
 3938 125e 8EBD      		out 78-0x20,r24
 3939               	.L1041:
 3940 1260 0DB4      		in __tmp_reg__,77-0x20
 3941 1262 07FE      		sbrs __tmp_reg__,7
 3942 1264 00C0      		rjmp .L1041
 3943 1266 409A      		sbi 40-0x20,0
 3944               	.L1040:
 3946               	.LM308:
 3947 1268 4098      		cbi 40-0x20,0
 3948 126a 8EE3      		ldi r24,lo8(62)
 3949 126c 8EBD      		out 78-0x20,r24
 3950               	.L1043:
 3951 126e 0DB4      		in __tmp_reg__,77-0x20
 3952 1270 07FE      		sbrs __tmp_reg__,7
 3953 1272 00C0      		rjmp .L1043
 3954               	.LBB42:
 3955 1274 F801      		movw r30,r16
 3956 1276 8281      		ldd r24,Z+2
 3957 1278 482F      		mov r20,r24
 3958 127a 5527      		clr r21
 3959 127c 47FD      		sbrc r20,7
 3960 127e 5095      		com r21
 3961 1280 20E0      		ldi r18,lo8(0)
 3962 1282 30E0      		ldi r19,hi8(0)
 3963 1284 00C0      		rjmp .L1045
 3964               	.L1046:
 3965 1286 F801      		movw r30,r16
 3966 1288 8381      		ldd r24,Z+3
 3967 128a 9481      		ldd r25,Z+4
 3968 128c A80F      		add r26,r24
 3969 128e B91F      		adc r27,r25
 3970 1290 8C91      		ld r24,X
 3971 1292 8EBD      		out 78-0x20,r24
 3972               	.L1047:
 3973 1294 0DB4      		in __tmp_reg__,77-0x20
 3974 1296 07FE      		sbrs __tmp_reg__,7
 3975 1298 00C0      		rjmp .L1047
 3976 129a 2F5F      		subi r18,lo8(-(1))
 3977 129c 3F4F      		sbci r19,hi8(-(1))
 3978               	.L1045:
 3979 129e A22F      		mov r26,r18
 3980 12a0 BB27      		clr r27
 3981 12a2 A417      		cp r26,r20
 3982 12a4 B507      		cpc r27,r21
 3983 12a6 04F0      		brlt .L1046
 3984               	.LBE42:
 3985 12a8 409A      		sbi 40-0x20,0
 3987               	.LM309:
 3988 12aa 4098      		cbi 40-0x20,0
 3989 12ac 8EE3      		ldi r24,lo8(62)
 3990 12ae 8EBD      		out 78-0x20,r24
 3991               	.L1050:
 3992 12b0 0DB4      		in __tmp_reg__,77-0x20
 3993 12b2 07FC      		sbrc __tmp_reg__,7
 3994 12b4 00C0      		rjmp .L1139
 3995 12b6 00C0      		rjmp .L1050
 3996               	.L1052:
 3997               	.LBB43:
 3998 12b8 0DB4      		in __tmp_reg__,77-0x20
 3999 12ba 07FC      		sbrc __tmp_reg__,7
 4000 12bc 00C0      		rjmp .L1140
 4001 12be 00C0      		rjmp .L1052
 4002               	.L1139:
 4003 12c0 BEBC      		out 78-0x20,r11
 4004 12c2 00C0      		rjmp .L1052
 4005               	.L1054:
 4006               	.LBE43:
 4008               	.LM310:
 4009 12c4 4E9B      		sbis 41-0x20,6
 4010 12c6 00C0      		rjmp .L1054
 4012               	.LM311:
 4013               	/* #APP */
 4014 12c8 F894      		cli
 4015               		
 4016               	/* #NOAPP */
 4017               	.L1056:
 4019               	.LM312:
 4020 12ca 4E99      		sbic 41-0x20,6
 4021 12cc 00C0      		rjmp .L1056
 4023               	.LM313:
 4024 12ce 4098      		cbi 40-0x20,0
 4025 12d0 88E0      		ldi r24,lo8(8)
 4026 12d2 8EBD      		out 78-0x20,r24
 4027               	.L1058:
 4028 12d4 0DB4      		in __tmp_reg__,77-0x20
 4029 12d6 07FE      		sbrs __tmp_reg__,7
 4030 12d8 00C0      		rjmp .L1058
 4031 12da 409A      		sbi 40-0x20,0
 4033               	.LM314:
 4034 12dc 4098      		cbi 40-0x20,0
 4035 12de 88E0      		ldi r24,lo8(8)
 4036 12e0 8EBD      		out 78-0x20,r24
 4037               	.L1060:
 4038 12e2 0DB4      		in __tmp_reg__,77-0x20
 4039 12e4 07FE      		sbrs __tmp_reg__,7
 4040 12e6 00C0      		rjmp .L1060
 4041 12e8 409A      		sbi 40-0x20,0
 4043               	.LM315:
 4044 12ea 4098      		cbi 40-0x20,0
 4045 12ec 89E0      		ldi r24,lo8(9)
 4046 12ee 8EBD      		out 78-0x20,r24
 4047               	.L1062:
 4048 12f0 0DB4      		in __tmp_reg__,77-0x20
 4049 12f2 07FE      		sbrs __tmp_reg__,7
 4050 12f4 00C0      		rjmp .L1062
 4051 12f6 409A      		sbi 40-0x20,0
 4053               	.LM316:
 4054 12f8 4098      		cbi 40-0x20,0
 4055 12fa 89E0      		ldi r24,lo8(9)
 4056 12fc 8EBD      		out 78-0x20,r24
 4057               	.L1064:
 4058 12fe 0DB4      		in __tmp_reg__,77-0x20
 4059 1300 07FE      		sbrs __tmp_reg__,7
 4060 1302 00C0      		rjmp .L1064
 4061 1304 409A      		sbi 40-0x20,0
 4063               	.LM317:
 4064 1306 4098      		cbi 40-0x20,0
 4065 1308 86E0      		ldi r24,lo8(6)
 4066 130a 8EBD      		out 78-0x20,r24
 4067               	.L1066:
 4068 130c 0DB4      		in __tmp_reg__,77-0x20
 4069 130e 07FE      		sbrs __tmp_reg__,7
 4070 1310 00C0      		rjmp .L1066
 4071 1312 409A      		sbi 40-0x20,0
 4073               	.LM318:
 4074               	/* #APP */
 4075 1314 7894      		sei
 4076               		
 4078               	.LM319:
 4079               	/* #NOAPP */
 4080 1316 8091 0000 		lds r24,rfSettings+2
 4081 131a 8F5F      		subi r24,lo8(-(1))
 4082 131c 8093 0000 		sts rfSettings+2,r24
 4083 1320 81E0      		ldi r24,lo8(1)
 4084 1322 90E0      		ldi r25,hi8(1)
 4085 1324 00C0      		rjmp .L1039
 4086               	.L1116:
 4088               	.LM320:
 4089 1326 409A      		sbi 40-0x20,0
 4091               	.LM321:
 4092 1328 F801      		movw r30,r16
 4093 132a 8681      		ldd r24,Z+6
 4094 132c 8823      		tst r24
 4095 132e 01F0      		breq .+2
 4096 1330 00C0      		rjmp .L993
 4097 1332 81E4      		ldi r24,lo8(-30655)
 4098 1334 98E8      		ldi r25,hi8(-30655)
 4099 1336 00C0      		rjmp .L994
 4100               	.L1121:
 4102               	.LM322:
 4103 1338 409A      		sbi 40-0x20,0
 4105               	.LM323:
 4106 133a 4098      		cbi 40-0x20,0
 4107 133c 8EE3      		ldi r24,lo8(62)
 4108 133e 8EBD      		out 78-0x20,r24
 4109 1340 00C0      		rjmp .L1005
 4110               	.L1140:
 4112               	.LM324:
 4113 1342 409A      		sbi 40-0x20,0
 4114 1344 00C0      		rjmp .L1054
 4115               	.L1039:
 4116               	/* epilogue: frame size=2 */
 4117 1346 2296      		adiw r28,2
 4118 1348 0FB6      		in __tmp_reg__,__SREG__
 4119 134a F894      		cli
 4120 134c DEBF      		out __SP_H__,r29
 4121 134e 0FBE      		out __SREG__,__tmp_reg__
 4122 1350 CDBF      		out __SP_L__,r28
 4123 1352 DF91      		pop r29
 4124 1354 CF91      		pop r28
 4125 1356 1F91      		pop r17
 4126 1358 0F91      		pop r16
 4127 135a FF90      		pop r15
 4128 135c EF90      		pop r14
 4129 135e DF90      		pop r13
 4130 1360 CF90      		pop r12
 4131 1362 BF90      		pop r11
 4132 1364 0895      		ret
 4133               	/* epilogue end (size=16) */
 4134               	/* function rf_tx_tdma_packet size 408 (375) */
 4145               	.Lscope33:
 4147               		.stabd	78,0,0
 4150               	.global	rf_addr_decode_set_my_mac
 4152               	rf_addr_decode_set_my_mac:
 4153               		.stabd	46,0,0
 4155               	.LM325:
 4156               	.LFBB34:
 4157               	/* prologue: frame size=2 */
 4158 1366 CF93      		push r28
 4159 1368 DF93      		push r29
 4160 136a CDB7      		in r28,__SP_L__
 4161 136c DEB7      		in r29,__SP_H__
 4162 136e 2297      		sbiw r28,2
 4163 1370 0FB6      		in __tmp_reg__,__SREG__
 4164 1372 F894      		cli
 4165 1374 DEBF      		out __SP_H__,r29
 4166 1376 0FBE      		out __SREG__,__tmp_reg__
 4167 1378 CDBF      		out __SP_L__,r28
 4168               	/* prologue end (size=10) */
 4169 137a 9A83      		std Y+2,r25
 4170 137c 8983      		std Y+1,r24
 4172               	.LM326:
 4173 137e 9093 0000 		sts (rfSettings+6)+1,r25
 4174 1382 8093 0000 		sts rfSettings+6,r24
 4176               	.LM327:
 4177 1386 84EF      		ldi r24,lo8(500)
 4178 1388 91E0      		ldi r25,hi8(500)
 4179 138a 0E94 0000 		call nrk_spin_wait_us
 4181               	.LM328:
 4182 138e 4098      		cbi 40-0x20,0
 4183 1390 8AEE      		ldi r24,lo8(-22)
 4184 1392 8EBD      		out 78-0x20,r24
 4185               	.L1151:
 4187               	.LM329:
 4188 1394 0DB4      		in __tmp_reg__,77-0x20
 4189 1396 07FE      		sbrs __tmp_reg__,7
 4190 1398 00C0      		rjmp .L1151
 4191 139a 80E8      		ldi r24,lo8(-128)
 4192 139c 8EBD      		out 78-0x20,r24
 4193               	.L1153:
 4194 139e 0DB4      		in __tmp_reg__,77-0x20
 4195 13a0 07FE      		sbrs __tmp_reg__,7
 4196 13a2 00C0      		rjmp .L1153
 4197 13a4 FE01      		movw r30,r28
 4198 13a6 3196      		adiw r30,1
 4199 13a8 9E01      		movw r18,r28
 4200 13aa 2D5F      		subi r18,lo8(-(3))
 4201 13ac 3F4F      		sbci r19,hi8(-(3))
 4202               	.L1155:
 4203 13ae 8081      		ld r24,Z
 4204 13b0 8EBD      		out 78-0x20,r24
 4205               	.L1156:
 4206 13b2 0DB4      		in __tmp_reg__,77-0x20
 4207 13b4 07FE      		sbrs __tmp_reg__,7
 4208 13b6 00C0      		rjmp .L1156
 4209 13b8 3196      		adiw r30,1
 4210 13ba E217      		cp r30,r18
 4211 13bc F307      		cpc r31,r19
 4212 13be 01F4      		brne .L1155
 4213 13c0 409A      		sbi 40-0x20,0
 4215               	.LM330:
 4216 13c2 84EF      		ldi r24,lo8(500)
 4217 13c4 91E0      		ldi r25,hi8(500)
 4218 13c6 0E94 0000 		call nrk_spin_wait_us
 4219               	/* epilogue: frame size=2 */
 4220 13ca 2296      		adiw r28,2
 4221 13cc 0FB6      		in __tmp_reg__,__SREG__
 4222 13ce F894      		cli
 4223 13d0 DEBF      		out __SP_H__,r29
 4224 13d2 0FBE      		out __SREG__,__tmp_reg__
 4225 13d4 CDBF      		out __SP_L__,r28
 4226 13d6 DF91      		pop r29
 4227 13d8 CF91      		pop r28
 4228 13da 0895      		ret
 4229               	/* epilogue end (size=9) */
 4230               	/* function rf_addr_decode_set_my_mac size 59 (40) */
 4232               	.Lscope34:
 4234               		.stabd	78,0,0
 4237               	.global	rf_security_set_key
 4239               	rf_security_set_key:
 4240               		.stabd	46,0,0
 4242               	.LM331:
 4243               	.LFBB35:
 4244               	/* prologue: frame size=2 */
 4245 13dc 6F92      		push r6
 4246 13de 7F92      		push r7
 4247 13e0 8F92      		push r8
 4248 13e2 9F92      		push r9
 4249 13e4 AF92      		push r10
 4250 13e6 BF92      		push r11
 4251 13e8 CF92      		push r12
 4252 13ea DF92      		push r13
 4253 13ec EF92      		push r14
 4254 13ee FF92      		push r15
 4255 13f0 0F93      		push r16
 4256 13f2 1F93      		push r17
 4257 13f4 CF93      		push r28
 4258 13f6 DF93      		push r29
 4259 13f8 CDB7      		in r28,__SP_L__
 4260 13fa DEB7      		in r29,__SP_H__
 4261 13fc 2297      		sbiw r28,2
 4262 13fe 0FB6      		in __tmp_reg__,__SREG__
 4263 1400 F894      		cli
 4264 1402 DEBF      		out __SP_H__,r29
 4265 1404 0FBE      		out __SREG__,__tmp_reg__
 4266 1406 CDBF      		out __SP_L__,r28
 4267               	/* prologue end (size=22) */
 4268 1408 8C01      		movw r16,r24
 4270               	.LM332:
 4271 140a 84E6      		ldi r24,lo8(100)
 4272 140c 90E0      		ldi r25,hi8(100)
 4273 140e 0E94 0000 		call nrk_spin_wait_us
 4274 1412 7801      		movw r14,r16
 4275 1414 C12C      		mov r12,__zero_reg__
 4276 1416 01E0      		ldi r16,hi8(256)
 4277 1418 D02E      		mov r13,r16
 4279               	.LM333:
 4280 141a 3E01      		movw r6,r28
 4281 141c 0894      		sec
 4282 141e 611C      		adc r6,__zero_reg__
 4283 1420 711C      		adc r7,__zero_reg__
 4284 1422 13E0      		ldi r17,lo8(3)
 4285 1424 812E      		mov r8,r17
 4286 1426 912C      		mov r9,__zero_reg__
 4287 1428 8C0E      		add r8,r28
 4288 142a 9D1E      		adc r9,r29
 4289               	.L1169:
 4291               	.LM334:
 4292 142c F701      		movw r30,r14
 4293 142e 8081      		ld r24,Z
 4294 1430 2181      		ldd r18,Z+1
 4295 1432 3327      		clr r19
 4296 1434 9927      		clr r25
 4297 1436 982F      		mov r25,r24
 4298 1438 8827      		clr r24
 4299 143a 282B      		or r18,r24
 4300 143c 392B      		or r19,r25
 4301 143e 3A83      		std Y+2,r19
 4302 1440 2983      		std Y+1,r18
 4304               	.LM335:
 4305 1442 84E6      		ldi r24,lo8(100)
 4306 1444 90E0      		ldi r25,hi8(100)
 4307 1446 0E94 0000 		call nrk_spin_wait_us
 4309               	.LM336:
 4310 144a 4098      		cbi 40-0x20,0
 4311 144c 8C2D      		mov r24,r12
 4312 144e 8068      		ori r24,lo8(-128)
 4313 1450 8EBD      		out 78-0x20,r24
 4314               	.L1170:
 4315 1452 0DB4      		in __tmp_reg__,77-0x20
 4316 1454 07FE      		sbrs __tmp_reg__,7
 4317 1456 00C0      		rjmp .L1170
 4318 1458 C601      		movw r24,r12
 4319 145a 9595      		asr r25
 4320 145c 8795      		ror r24
 4321 145e 807C      		andi r24,lo8(-64)
 4322 1460 8EBD      		out 78-0x20,r24
 4323               	.L1172:
 4324 1462 0DB4      		in __tmp_reg__,77-0x20
 4325 1464 07FE      		sbrs __tmp_reg__,7
 4326 1466 00C0      		rjmp .L1172
 4327 1468 8301      		movw r16,r6
 4328 146a 5301      		movw r10,r6
 4329               	.L1174:
 4330 146c F501      		movw r30,r10
 4331 146e 8081      		ld r24,Z
 4332 1470 8EBD      		out 78-0x20,r24
 4333               	.L1175:
 4334 1472 0DB4      		in __tmp_reg__,77-0x20
 4335 1474 07FE      		sbrs __tmp_reg__,7
 4336 1476 00C0      		rjmp .L1175
 4337 1478 0894      		sec
 4338 147a A11C      		adc r10,__zero_reg__
 4339 147c B11C      		adc r11,__zero_reg__
 4340 147e A814      		cp r10,r8
 4341 1480 B904      		cpc r11,r9
 4342 1482 01F4      		brne .L1174
 4343 1484 409A      		sbi 40-0x20,0
 4344 1486 0894      		sec
 4345 1488 E11C      		adc r14,__zero_reg__
 4346 148a F11C      		adc r15,__zero_reg__
 4347 148c 82E0      		ldi r24,lo8(2)
 4348 148e 90E0      		ldi r25,hi8(2)
 4349 1490 C80E      		add r12,r24
 4350 1492 D91E      		adc r13,r25
 4352               	.LM337:
 4353 1494 90E1      		ldi r25,lo8(272)
 4354 1496 C916      		cp r12,r25
 4355 1498 91E0      		ldi r25,hi8(272)
 4356 149a D906      		cpc r13,r25
 4357 149c 01F4      		brne .L1169
 4359               	.LM338:
 4360 149e 84E6      		ldi r24,lo8(100)
 4361 14a0 90E0      		ldi r25,hi8(100)
 4362 14a2 0E94 0000 		call nrk_spin_wait_us
 4363 14a6 20E1      		ldi r18,lo8(272)
 4364 14a8 31E0      		ldi r19,hi8(272)
 4365 14aa 40E4      		ldi r20,lo8(320)
 4366 14ac 51E0      		ldi r21,hi8(320)
 4367               	.L1179:
 4369               	.LM339:
 4370 14ae 1A82      		std Y+2,__zero_reg__
 4371 14b0 1982      		std Y+1,__zero_reg__
 4373               	.LM340:
 4374 14b2 4098      		cbi 40-0x20,0
 4375 14b4 842F      		mov r24,r20
 4376 14b6 8068      		ori r24,lo8(-128)
 4377 14b8 8EBD      		out 78-0x20,r24
 4378               	.L1180:
 4379 14ba 0DB4      		in __tmp_reg__,77-0x20
 4380 14bc 07FE      		sbrs __tmp_reg__,7
 4381 14be 00C0      		rjmp .L1180
 4382 14c0 CA01      		movw r24,r20
 4383 14c2 9595      		asr r25
 4384 14c4 8795      		ror r24
 4385 14c6 807C      		andi r24,lo8(-64)
 4386 14c8 8EBD      		out 78-0x20,r24
 4387               	.L1182:
 4388 14ca 0DB4      		in __tmp_reg__,77-0x20
 4389 14cc 07FE      		sbrs __tmp_reg__,7
 4390 14ce 00C0      		rjmp .L1182
 4391 14d0 F801      		movw r30,r16
 4392               	.L1184:
 4393 14d2 8081      		ld r24,Z
 4394 14d4 8EBD      		out 78-0x20,r24
 4395               	.L1185:
 4396 14d6 0DB4      		in __tmp_reg__,77-0x20
 4397 14d8 07FE      		sbrs __tmp_reg__,7
 4398 14da 00C0      		rjmp .L1185
 4399 14dc 3196      		adiw r30,1
 4400 14de EA15      		cp r30,r10
 4401 14e0 FB05      		cpc r31,r11
 4402 14e2 01F4      		brne .L1184
 4403 14e4 409A      		sbi 40-0x20,0
 4405               	.LM341:
 4406 14e6 4098      		cbi 40-0x20,0
 4407 14e8 822F      		mov r24,r18
 4408 14ea 8068      		ori r24,lo8(-128)
 4409 14ec 8EBD      		out 78-0x20,r24
 4410               	.L1188:
 4411 14ee 0DB4      		in __tmp_reg__,77-0x20
 4412 14f0 07FE      		sbrs __tmp_reg__,7
 4413 14f2 00C0      		rjmp .L1188
 4414 14f4 C901      		movw r24,r18
 4415 14f6 9595      		asr r25
 4416 14f8 8795      		ror r24
 4417 14fa 807C      		andi r24,lo8(-64)
 4418 14fc 8EBD      		out 78-0x20,r24
 4419               	.L1190:
 4420 14fe 0DB4      		in __tmp_reg__,77-0x20
 4421 1500 07FE      		sbrs __tmp_reg__,7
 4422 1502 00C0      		rjmp .L1190
 4423 1504 F801      		movw r30,r16
 4424               	.L1192:
 4425 1506 8081      		ld r24,Z
 4426 1508 8EBD      		out 78-0x20,r24
 4427               	.L1193:
 4428 150a 0DB4      		in __tmp_reg__,77-0x20
 4429 150c 07FE      		sbrs __tmp_reg__,7
 4430 150e 00C0      		rjmp .L1193
 4431 1510 3196      		adiw r30,1
 4432 1512 EA15      		cp r30,r10
 4433 1514 FB05      		cpc r31,r11
 4434 1516 01F4      		brne .L1192
 4435 1518 409A      		sbi 40-0x20,0
 4436 151a 2E5F      		subi r18,lo8(-(2))
 4437 151c 3F4F      		sbci r19,hi8(-(2))
 4438 151e 4E5F      		subi r20,lo8(-(2))
 4439 1520 5F4F      		sbci r21,hi8(-(2))
 4441               	.LM342:
 4442 1522 E1E0      		ldi r30,hi8(286)
 4443 1524 2E31      		cpi r18,lo8(286)
 4444 1526 3E07      		cpc r19,r30
 4445 1528 01F4      		brne .L1179
 4447               	.LM343:
 4448 152a 81E0      		ldi r24,lo8(1)
 4449 152c 90E0      		ldi r25,hi8(1)
 4450 152e 9A83      		std Y+2,r25
 4451 1530 8983      		std Y+1,r24
 4453               	.LM344:
 4454 1532 4098      		cbi 40-0x20,0
 4455 1534 8EEC      		ldi r24,lo8(-50)
 4456 1536 8EBD      		out 78-0x20,r24
 4457               	.L1197:
 4458 1538 0DB4      		in __tmp_reg__,77-0x20
 4459 153a 07FE      		sbrs __tmp_reg__,7
 4460 153c 00C0      		rjmp .L1197
 4461 153e 80E8      		ldi r24,lo8(-128)
 4462 1540 8EBD      		out 78-0x20,r24
 4463               	.L1199:
 4464 1542 0DB4      		in __tmp_reg__,77-0x20
 4465 1544 07FE      		sbrs __tmp_reg__,7
 4466 1546 00C0      		rjmp .L1199
 4467 1548 F801      		movw r30,r16
 4468               	.L1201:
 4469 154a 8081      		ld r24,Z
 4470 154c 8EBD      		out 78-0x20,r24
 4471               	.L1202:
 4472 154e 0DB4      		in __tmp_reg__,77-0x20
 4473 1550 07FE      		sbrs __tmp_reg__,7
 4474 1552 00C0      		rjmp .L1202
 4475 1554 3196      		adiw r30,1
 4476 1556 EA15      		cp r30,r10
 4477 1558 FB05      		cpc r31,r11
 4478 155a 01F4      		brne .L1201
 4479 155c 409A      		sbi 40-0x20,0
 4481               	.LM345:
 4482 155e 4098      		cbi 40-0x20,0
 4483 1560 8EE9      		ldi r24,lo8(-98)
 4484 1562 8EBD      		out 78-0x20,r24
 4485               	.L1205:
 4486 1564 0DB4      		in __tmp_reg__,77-0x20
 4487 1566 07FE      		sbrs __tmp_reg__,7
 4488 1568 00C0      		rjmp .L1205
 4489 156a 80E8      		ldi r24,lo8(-128)
 4490 156c 8EBD      		out 78-0x20,r24
 4491               	.L1207:
 4492 156e 0DB4      		in __tmp_reg__,77-0x20
 4493 1570 07FE      		sbrs __tmp_reg__,7
 4494 1572 00C0      		rjmp .L1207
 4495               	.L1213:
 4496 1574 F801      		movw r30,r16
 4497 1576 8081      		ld r24,Z
 4498 1578 8EBD      		out 78-0x20,r24
 4499               	.L1209:
 4500 157a 0DB4      		in __tmp_reg__,77-0x20
 4501 157c 07FE      		sbrs __tmp_reg__,7
 4502 157e 00C0      		rjmp .L1209
 4503 1580 0F5F      		subi r16,lo8(-(1))
 4504 1582 1F4F      		sbci r17,hi8(-(1))
 4505 1584 0A15      		cp r16,r10
 4506 1586 1B05      		cpc r17,r11
 4507 1588 01F4      		brne .L1213
 4508 158a 409A      		sbi 40-0x20,0
 4509               	/* epilogue: frame size=2 */
 4510 158c 2296      		adiw r28,2
 4511 158e 0FB6      		in __tmp_reg__,__SREG__
 4512 1590 F894      		cli
 4513 1592 DEBF      		out __SP_H__,r29
 4514 1594 0FBE      		out __SREG__,__tmp_reg__
 4515 1596 CDBF      		out __SP_L__,r28
 4516 1598 DF91      		pop r29
 4517 159a CF91      		pop r28
 4518 159c 1F91      		pop r17
 4519 159e 0F91      		pop r16
 4520 15a0 FF90      		pop r15
 4521 15a2 EF90      		pop r14
 4522 15a4 DF90      		pop r13
 4523 15a6 CF90      		pop r12
 4524 15a8 BF90      		pop r11
 4525 15aa AF90      		pop r10
 4526 15ac 9F90      		pop r9
 4527 15ae 8F90      		pop r8
 4528 15b0 7F90      		pop r7
 4529 15b2 6F90      		pop r6
 4530 15b4 0895      		ret
 4531               	/* epilogue end (size=21) */
 4532               	/* function rf_security_set_key size 237 (194) */
 4537               	.Lscope35:
 4539               		.stabd	78,0,0
 4541               	.global	rf_power_up
 4543               	rf_power_up:
 4544               		.stabd	46,0,0
 4546               	.LM346:
 4547               	.LFBB36:
 4548               	/* prologue: frame size=0 */
 4549               	/* prologue end (size=0) */
 4551               	.LM347:
 4552               	/* #APP */
 4553 15b6 F894      		cli
 4554               		
 4556               	.LM348:
 4557               	/* #NOAPP */
 4558 15b8 4098      		cbi 40-0x20,0
 4559 15ba 81E0      		ldi r24,lo8(1)
 4560 15bc 8EBD      		out 78-0x20,r24
 4561               	.L1258:
 4563               	.LM349:
 4564 15be 0DB4      		in __tmp_reg__,77-0x20
 4565 15c0 07FE      		sbrs __tmp_reg__,7
 4566 15c2 00C0      		rjmp .L1258
 4567 15c4 409A      		sbi 40-0x20,0
 4569               	.LM350:
 4570 15c6 88EE      		ldi r24,lo8(1000)
 4571 15c8 93E0      		ldi r25,hi8(1000)
 4572 15ca 0E94 0000 		call nrk_spin_wait_us
 4574               	.LM351:
 4575               	/* #APP */
 4576 15ce 7894      		sei
 4577               		
 4578               	/* #NOAPP */
 4579               	/* epilogue: frame size=0 */
 4580 15d0 0895      		ret
 4581               	/* epilogue end (size=1) */
 4582               	/* function rf_power_up size 20 (19) */
 4584               	.Lscope36:
 4586               		.stabd	78,0,0
 4590               	.global	rf_set_rx
 4592               	rf_set_rx:
 4593               		.stabd	46,0,0
 4595               	.LM352:
 4596               	.LFBB37:
 4597               	/* prologue: frame size=0 */
 4598 15d2 CF93      		push r28
 4599 15d4 DF93      		push r29
 4600               	/* prologue end (size=2) */
 4601 15d6 EC01      		movw r28,r24
 4603               	.LM353:
 4604 15d8 4098      		cbi 40-0x20,0
 4605 15da 88E0      		ldi r24,lo8(8)
 4606 15dc 8EBD      		out 78-0x20,r24
 4607               	.L1264:
 4609               	.LM354:
 4610 15de 0DB4      		in __tmp_reg__,77-0x20
 4611 15e0 07FE      		sbrs __tmp_reg__,7
 4612 15e2 00C0      		rjmp .L1264
 4613 15e4 409A      		sbi 40-0x20,0
 4615               	.LM355:
 4616 15e6 4098      		cbi 40-0x20,0
 4617 15e8 88E0      		ldi r24,lo8(8)
 4618 15ea 8EBD      		out 78-0x20,r24
 4619               	.L1266:
 4620 15ec 0DB4      		in __tmp_reg__,77-0x20
 4621 15ee 07FE      		sbrs __tmp_reg__,7
 4622 15f0 00C0      		rjmp .L1266
 4623 15f2 409A      		sbi 40-0x20,0
 4625               	.LM356:
 4626 15f4 862F      		mov r24,r22
 4627 15f6 0E94 0000 		call halRfSetChannel
 4629               	.LM357:
 4630 15fa D093 0000 		sts (rfSettings)+1,r29
 4631 15fe C093 0000 		sts rfSettings,r28
 4632               	/* epilogue: frame size=0 */
 4633 1602 DF91      		pop r29
 4634 1604 CF91      		pop r28
 4635 1606 0895      		ret
 4636               	/* epilogue end (size=3) */
 4637               	/* function rf_set_rx size 27 (22) */
 4639               	.Lscope37:
 4641               		.stabd	78,0,0
 4644               	.global	rf_set_channel
 4646               	rf_set_channel:
 4647               		.stabd	46,0,0
 4649               	.LM358:
 4650               	.LFBB38:
 4651               	/* prologue: frame size=0 */
 4652               	/* prologue end (size=0) */
 4654               	.LM359:
 4655 1608 0E94 0000 		call halRfSetChannel
 4656               	/* epilogue: frame size=0 */
 4657 160c 0895      		ret
 4658               	/* epilogue end (size=1) */
 4659               	/* function rf_set_channel size 3 (2) */
 4661               	.Lscope38:
 4663               		.stabd	78,0,0
 4669               	.global	rf_init
 4671               	rf_init:
 4672               		.stabd	46,0,0
 4674               	.LM360:
 4675               	.LFBB39:
 4676               	/* prologue: frame size=2 */
 4677 160e DF92      		push r13
 4678 1610 EF92      		push r14
 4679 1612 FF92      		push r15
 4680 1614 0F93      		push r16
 4681 1616 1F93      		push r17
 4682 1618 CF93      		push r28
 4683 161a DF93      		push r29
 4684 161c CDB7      		in r28,__SP_L__
 4685 161e DEB7      		in r29,__SP_H__
 4686 1620 2297      		sbiw r28,2
 4687 1622 0FB6      		in __tmp_reg__,__SREG__
 4688 1624 F894      		cli
 4689 1626 DEBF      		out __SP_H__,r29
 4690 1628 0FBE      		out __SREG__,__tmp_reg__
 4691 162a CDBF      		out __SP_L__,r28
 4692               	/* prologue end (size=15) */
 4693 162c 8C01      		movw r16,r24
 4694 162e D62E      		mov r13,r22
 4695 1630 5A83      		std Y+2,r21
 4696 1632 4983      		std Y+1,r20
 4697 1634 7901      		movw r14,r18
 4699               	.LM361:
 4700 1636 159A      		sbi 34-0x20,5
 4702               	.LM362:
 4703 1638 88EE      		ldi r24,lo8(1000)
 4704 163a 93E0      		ldi r25,hi8(1000)
 4705 163c 0E94 0000 		call halWait
 4707               	.LM363:
 4708 1640 1698      		cbi 34-0x20,6
 4710               	.LM364:
 4711 1642 81E0      		ldi r24,lo8(1)
 4712 1644 90E0      		ldi r25,hi8(1)
 4713 1646 0E94 0000 		call halWait
 4715               	.LM365:
 4716 164a 169A      		sbi 34-0x20,6
 4718               	.LM366:
 4719 164c 84E6      		ldi r24,lo8(100)
 4720 164e 90E0      		ldi r25,hi8(100)
 4721 1650 0E94 0000 		call halWait
 4723               	.LM367:
 4724               	/* #APP */
 4725 1654 F894      		cli
 4726               		
 4728               	.LM368:
 4729               	/* #NOAPP */
 4730 1656 4098      		cbi 40-0x20,0
 4731 1658 81E0      		ldi r24,lo8(1)
 4732 165a 8EBD      		out 78-0x20,r24
 4733               	.L1276:
 4735               	.LM369:
 4736 165c 0DB4      		in __tmp_reg__,77-0x20
 4737 165e 07FE      		sbrs __tmp_reg__,7
 4738 1660 00C0      		rjmp .L1276
 4739 1662 409A      		sbi 40-0x20,0
 4741               	.LM370:
 4742 1664 82EE      		ldi r24,lo8(738)
 4743 1666 92E0      		ldi r25,hi8(738)
 4744 1668 9093 0000 		sts (mdmctrl0)+1,r25
 4745 166c 8093 0000 		sts mdmctrl0,r24
 4747               	.LM371:
 4748 1670 4098      		cbi 40-0x20,0
 4749 1672 81E1      		ldi r24,lo8(17)
 4750 1674 8EBD      		out 78-0x20,r24
 4751               	.L1278:
 4752 1676 0DB4      		in __tmp_reg__,77-0x20
 4753 1678 07FE      		sbrs __tmp_reg__,7
 4754 167a 00C0      		rjmp .L1278
 4755 167c 82E0      		ldi r24,lo8(2)
 4756 167e 8EBD      		out 78-0x20,r24
 4757               	.L1280:
 4758 1680 0DB4      		in __tmp_reg__,77-0x20
 4759 1682 07FE      		sbrs __tmp_reg__,7
 4760 1684 00C0      		rjmp .L1280
 4761 1686 82EE      		ldi r24,lo8(-30)
 4762 1688 8EBD      		out 78-0x20,r24
 4763               	.L1282:
 4764 168a 0DB4      		in __tmp_reg__,77-0x20
 4765 168c 07FE      		sbrs __tmp_reg__,7
 4766 168e 00C0      		rjmp .L1282
 4767 1690 409A      		sbi 40-0x20,0
 4769               	.LM372:
 4770 1692 4098      		cbi 40-0x20,0
 4771 1694 82E1      		ldi r24,lo8(18)
 4772 1696 8EBD      		out 78-0x20,r24
 4773               	.L1284:
 4774 1698 0DB4      		in __tmp_reg__,77-0x20
 4775 169a 07FE      		sbrs __tmp_reg__,7
 4776 169c 00C0      		rjmp .L1284
 4777 169e 85E0      		ldi r24,lo8(5)
 4778 16a0 8EBD      		out 78-0x20,r24
 4779               	.L1286:
 4780 16a2 0DB4      		in __tmp_reg__,77-0x20
 4781 16a4 07FE      		sbrs __tmp_reg__,7
 4782 16a6 00C0      		rjmp .L1286
 4783 16a8 1EBC      		out 78-0x20,__zero_reg__
 4784               	.L1288:
 4785 16aa 0DB4      		in __tmp_reg__,77-0x20
 4786 16ac 07FE      		sbrs __tmp_reg__,7
 4787 16ae 00C0      		rjmp .L1288
 4788 16b0 409A      		sbi 40-0x20,0
 4790               	.LM373:
 4791 16b2 4098      		cbi 40-0x20,0
 4792 16b4 8CE1      		ldi r24,lo8(28)
 4793 16b6 8EBD      		out 78-0x20,r24
 4794               	.L1290:
 4795 16b8 0DB4      		in __tmp_reg__,77-0x20
 4796 16ba 07FE      		sbrs __tmp_reg__,7
 4797 16bc 00C0      		rjmp .L1290
 4798 16be 1EBC      		out 78-0x20,__zero_reg__
 4799               	.L1292:
 4800 16c0 0DB4      		in __tmp_reg__,77-0x20
 4801 16c2 07FE      		sbrs __tmp_reg__,7
 4802 16c4 00C0      		rjmp .L1292
 4803 16c6 8FE7      		ldi r24,lo8(127)
 4804 16c8 8EBD      		out 78-0x20,r24
 4805               	.L1294:
 4806 16ca 0DB4      		in __tmp_reg__,77-0x20
 4807 16cc 07FE      		sbrs __tmp_reg__,7
 4808 16ce 00C0      		rjmp .L1294
 4809 16d0 409A      		sbi 40-0x20,0
 4811               	.LM374:
 4812 16d2 4098      		cbi 40-0x20,0
 4813 16d4 89E1      		ldi r24,lo8(25)
 4814 16d6 8EBD      		out 78-0x20,r24
 4815               	.L1296:
 4816 16d8 0DB4      		in __tmp_reg__,77-0x20
 4817 16da 07FE      		sbrs __tmp_reg__,7
 4818 16dc 00C0      		rjmp .L1296
 4819 16de 81E0      		ldi r24,lo8(1)
 4820 16e0 8EBD      		out 78-0x20,r24
 4821               	.L1298:
 4822 16e2 0DB4      		in __tmp_reg__,77-0x20
 4823 16e4 07FE      		sbrs __tmp_reg__,7
 4824 16e6 00C0      		rjmp .L1298
 4825 16e8 84EC      		ldi r24,lo8(-60)
 4826 16ea 8EBD      		out 78-0x20,r24
 4827               	.L1300:
 4828 16ec 0DB4      		in __tmp_reg__,77-0x20
 4829 16ee 07FE      		sbrs __tmp_reg__,7
 4830 16f0 00C0      		rjmp .L1300
 4831 16f2 409A      		sbi 40-0x20,0
 4833               	.LM375:
 4834 16f4 4098      		cbi 40-0x20,0
 4835 16f6 87E1      		ldi r24,lo8(23)
 4836 16f8 8EBD      		out 78-0x20,r24
 4837               	.L1302:
 4838 16fa 0DB4      		in __tmp_reg__,77-0x20
 4839 16fc 07FE      		sbrs __tmp_reg__,7
 4840 16fe 00C0      		rjmp .L1302
 4841 1700 8AE1      		ldi r24,lo8(26)
 4842 1702 8EBD      		out 78-0x20,r24
 4843               	.L1304:
 4844 1704 0DB4      		in __tmp_reg__,77-0x20
 4845 1706 07FE      		sbrs __tmp_reg__,7
 4846 1708 00C0      		rjmp .L1304
 4847 170a 86E5      		ldi r24,lo8(86)
 4848 170c 8EBD      		out 78-0x20,r24
 4849               	.L1306:
 4850 170e 0DB4      		in __tmp_reg__,77-0x20
 4851 1710 07FE      		sbrs __tmp_reg__,7
 4852 1712 00C0      		rjmp .L1306
 4853 1714 409A      		sbi 40-0x20,0
 4855               	.LM376:
 4856 1716 84EF      		ldi r24,lo8(500)
 4857 1718 91E0      		ldi r25,hi8(500)
 4858 171a 0E94 0000 		call nrk_spin_wait_us
 4860               	.LM377:
 4861 171e 4098      		cbi 40-0x20,0
 4862 1720 88EE      		ldi r24,lo8(-24)
 4863 1722 8EBD      		out 78-0x20,r24
 4864               	.L1308:
 4865 1724 0DB4      		in __tmp_reg__,77-0x20
 4866 1726 07FE      		sbrs __tmp_reg__,7
 4867 1728 00C0      		rjmp .L1308
 4868 172a 80E8      		ldi r24,lo8(-128)
 4869 172c 8EBD      		out 78-0x20,r24
 4870               	.L1310:
 4871 172e 0DB4      		in __tmp_reg__,77-0x20
 4872 1730 07FE      		sbrs __tmp_reg__,7
 4873 1732 00C0      		rjmp .L1310
 4874 1734 FE01      		movw r30,r28
 4875 1736 3196      		adiw r30,1
 4876 1738 9E01      		movw r18,r28
 4877 173a 2D5F      		subi r18,lo8(-(3))
 4878 173c 3F4F      		sbci r19,hi8(-(3))
 4879               	.L1312:
 4880 173e 8081      		ld r24,Z
 4881 1740 8EBD      		out 78-0x20,r24
 4882               	.L1313:
 4883 1742 0DB4      		in __tmp_reg__,77-0x20
 4884 1744 07FE      		sbrs __tmp_reg__,7
 4885 1746 00C0      		rjmp .L1313
 4886 1748 3196      		adiw r30,1
 4887 174a E217      		cp r30,r18
 4888 174c F307      		cpc r31,r19
 4889 174e 01F4      		brne .L1312
 4890 1750 409A      		sbi 40-0x20,0
 4892               	.LM378:
 4893 1752 84EF      		ldi r24,lo8(500)
 4894 1754 91E0      		ldi r25,hi8(500)
 4895 1756 0E94 0000 		call nrk_spin_wait_us
 4897               	.LM379:
 4898               	/* #APP */
 4899 175a 7894      		sei
 4900               		
 4902               	.LM380:
 4903               	/* #NOAPP */
 4904 175c 8D2D      		mov r24,r13
 4905 175e 0E94 0000 		call halRfSetChannel
 4907               	.LM381:
 4908               	/* #APP */
 4909 1762 7894      		sei
 4910               		
 4912               	.LM382:
 4913               	/* #NOAPP */
 4914 1764 1093 0000 		sts (rfSettings)+1,r17
 4915 1768 0093 0000 		sts rfSettings,r16
 4917               	.LM383:
 4918 176c 8981      		ldd r24,Y+1
 4919 176e 9A81      		ldd r25,Y+2
 4920 1770 9093 0000 		sts (rfSettings+4)+1,r25
 4921 1774 8093 0000 		sts rfSettings+4,r24
 4923               	.LM384:
 4924 1778 F092 0000 		sts (rfSettings+6)+1,r15
 4925 177c E092 0000 		sts rfSettings+6,r14
 4927               	.LM385:
 4928 1780 1092 0000 		sts rfSettings+2,__zero_reg__
 4930               	.LM386:
 4931 1784 1092 0000 		sts rfSettings+8,__zero_reg__
 4933               	.LM387:
 4934 1788 0E94 0000 		call halRfWaitForCrystalOscillator
 4936               	.LM388:
 4937 178c 1092 0000 		sts auto_ack_enable,__zero_reg__
 4939               	.LM389:
 4940 1790 1092 0000 		sts security_enable,__zero_reg__
 4942               	.LM390:
 4943 1794 1092 0000 		sts last_pkt_encrypted,__zero_reg__
 4944               	/* epilogue: frame size=2 */
 4945 1798 2296      		adiw r28,2
 4946 179a 0FB6      		in __tmp_reg__,__SREG__
 4947 179c F894      		cli
 4948 179e DEBF      		out __SP_H__,r29
 4949 17a0 0FBE      		out __SREG__,__tmp_reg__
 4950 17a2 CDBF      		out __SP_L__,r28
 4951 17a4 DF91      		pop r29
 4952 17a6 CF91      		pop r28
 4953 17a8 1F91      		pop r17
 4954 17aa 0F91      		pop r16
 4955 17ac FF90      		pop r15
 4956 17ae EF90      		pop r14
 4957 17b0 DF90      		pop r13
 4958 17b2 0895      		ret
 4959               	/* epilogue end (size=14) */
 4960               	/* function rf_init size 220 (191) */
 4962               	.Lscope39:
 4964               		.stabd	78,0,0
 4966               	.global	cc259x_tx
 4968               	cc259x_tx:
 4969               		.stabd	46,0,0
 4971               	.LM391:
 4972               	.LFBB40:
 4973               	/* prologue: frame size=0 */
 4974               	/* prologue end (size=0) */
 4976               	.LM392:
 4977 17b4 8091 0000 		lds r24,NRK_DEBUG_1
 4978 17b8 0E94 0000 		call nrk_gpio_set
 4980               	.LM393:
 4981 17bc 8091 0000 		lds r24,NRK_DEBUG_0
 4982 17c0 0E94 0000 		call nrk_gpio_set
 4983               	/* epilogue: frame size=0 */
 4984 17c4 0895      		ret
 4985               	/* epilogue end (size=1) */
 4986               	/* function cc259x_tx size 9 (8) */
 4988               	.Lscope40:
 4990               		.stabd	78,0,0
 4992               	.global	cc259x_rx
 4994               	cc259x_rx:
 4995               		.stabd	46,0,0
 4997               	.LM394:
 4998               	.LFBB41:
 4999               	/* prologue: frame size=0 */
 5000               	/* prologue end (size=0) */
 5002               	.LM395:
 5003 17c6 8091 0000 		lds r24,NRK_DEBUG_1
 5004 17ca 0E94 0000 		call nrk_gpio_set
 5006               	.LM396:
 5007 17ce 8091 0000 		lds r24,NRK_DEBUG_0
 5008 17d2 0E94 0000 		call nrk_gpio_clr
 5009               	/* epilogue: frame size=0 */
 5010 17d6 0895      		ret
 5011               	/* epilogue end (size=1) */
 5012               	/* function cc259x_rx size 9 (8) */
 5014               	.Lscope41:
 5016               		.stabd	78,0,0
 5017               	.global	_rf_rx_callback
 5018               	.global	_rf_rx_callback
 5019               		.section .bss
 5022               	_rf_rx_callback:
 5023 0000 0000      		.skip 2,0
 5024               		.comm _nrk_signal_list,4,1
 5025               		.comm rfSettings,9,1
 5026               		.comm nrk_idle_task_stk,128,1
 5027               		.comm nrk_kernel_stk_ptr,2,1
 5028               		.comm error_task,1,1
 5029               		.comm error_num,1,1
 5030               		.comm _nrk_prev_timer_val,1,1
 5031               		.comm _nrk_time_trigger,1,1
 5032               		.comm app_timer0_callback,2,1
 5033               		.comm app_timer0_prescale,1,1
 5034               		.comm radio_sem,2,1
 5035               		.comm auto_ack_enable,1,1
 5036               		.comm security_enable,1,1
 5037               		.comm last_pkt_encrypted,1,1
 5038               		.comm mdmctrl0,2,1
 5039               		.comm tx_ctr,4,1
 5040               		.comm rx_ctr,4,1
 5041               		.comm rx_ready,1,1
 5042               		.comm tmp_blah,2,1
 5063               		.text
 5065               	.Letext0:
 5066               	/* File "../../src/radio/cc2420/source/basic_rf.c": code 3106 = 0x0c22 (2848), prologues 116, epilo
DEFINED SYMBOLS
                            *ABS*:0000000000000000 basic_rf.c
/var/folders/Qq/QqLTHlelFveneFuzSoIahU+++TI/-Tmp-//ccfThr9E.s:2      *ABS*:000000000000003f __SREG__
/var/folders/Qq/QqLTHlelFveneFuzSoIahU+++TI/-Tmp-//ccfThr9E.s:3      *ABS*:000000000000003e __SP_H__
/var/folders/Qq/QqLTHlelFveneFuzSoIahU+++TI/-Tmp-//ccfThr9E.s:4      *ABS*:000000000000003d __SP_L__
/var/folders/Qq/QqLTHlelFveneFuzSoIahU+++TI/-Tmp-//ccfThr9E.s:5      *ABS*:0000000000000000 __tmp_reg__
/var/folders/Qq/QqLTHlelFveneFuzSoIahU+++TI/-Tmp-//ccfThr9E.s:6      *ABS*:0000000000000001 __zero_reg__
/var/folders/Qq/QqLTHlelFveneFuzSoIahU+++TI/-Tmp-//ccfThr9E.s:129    .text:0000000000000000 set_rf_rx_callback
/var/folders/Qq/QqLTHlelFveneFuzSoIahU+++TI/-Tmp-//ccfThr9E.s:5022   .bss:0000000000000000 _rf_rx_callback
/var/folders/Qq/QqLTHlelFveneFuzSoIahU+++TI/-Tmp-//ccfThr9E.s:151    .text:000000000000000a rf_power_down
/var/folders/Qq/QqLTHlelFveneFuzSoIahU+++TI/-Tmp-//ccfThr9E.s:203    .text:000000000000002c rf_security_last_pkt_status
                            *COM*:0000000000000001 last_pkt_encrypted
/var/folders/Qq/QqLTHlelFveneFuzSoIahU+++TI/-Tmp-//ccfThr9E.s:226    .text:0000000000000034 rf_security_set_ctr_counter
                            *COM*:0000000000000004 tx_ctr
/var/folders/Qq/QqLTHlelFveneFuzSoIahU+++TI/-Tmp-//ccfThr9E.s:336    .text:00000000000000c2 rf_security_enable
                            *COM*:0000000000000001 security_enable
/var/folders/Qq/QqLTHlelFveneFuzSoIahU+++TI/-Tmp-//ccfThr9E.s:404    .text:000000000000010e rf_security_disable
/var/folders/Qq/QqLTHlelFveneFuzSoIahU+++TI/-Tmp-//ccfThr9E.s:449    .text:0000000000000136 rf_get_sem
                            *COM*:0000000000000002 radio_sem
/var/folders/Qq/QqLTHlelFveneFuzSoIahU+++TI/-Tmp-//ccfThr9E.s:472    .text:0000000000000140 rf_tx_power
/var/folders/Qq/QqLTHlelFveneFuzSoIahU+++TI/-Tmp-//ccfThr9E.s:525    .text:0000000000000170 rf_addr_decode_enable
                            *COM*:0000000000000002 mdmctrl0
/var/folders/Qq/QqLTHlelFveneFuzSoIahU+++TI/-Tmp-//ccfThr9E.s:574    .text:00000000000001a6 rf_addr_decode_disable
/var/folders/Qq/QqLTHlelFveneFuzSoIahU+++TI/-Tmp-//ccfThr9E.s:623    .text:00000000000001dc rf_auto_ack_enable
                            *COM*:0000000000000001 auto_ack_enable
/var/folders/Qq/QqLTHlelFveneFuzSoIahU+++TI/-Tmp-//ccfThr9E.s:676    .text:0000000000000218 rf_auto_ack_disable
/var/folders/Qq/QqLTHlelFveneFuzSoIahU+++TI/-Tmp-//ccfThr9E.s:728    .text:0000000000000252 rf_rx_on
                            *COM*:0000000000000009 rfSettings
                            *COM*:0000000000000001 rx_ready
/var/folders/Qq/QqLTHlelFveneFuzSoIahU+++TI/-Tmp-//ccfThr9E.s:785    .text:000000000000028a rf_polling_rx_on
/var/folders/Qq/QqLTHlelFveneFuzSoIahU+++TI/-Tmp-//ccfThr9E.s:832    .text:00000000000002b2 rf_rx_off
/var/folders/Qq/QqLTHlelFveneFuzSoIahU+++TI/-Tmp-//ccfThr9E.s:871    .text:00000000000002cc rf_busy
/var/folders/Qq/QqLTHlelFveneFuzSoIahU+++TI/-Tmp-//ccfThr9E.s:902    .text:00000000000002e0 rf_rx_check_fifop
/var/folders/Qq/QqLTHlelFveneFuzSoIahU+++TI/-Tmp-//ccfThr9E.s:932    .text:00000000000002f2 rf_rx_check_sfd
/var/folders/Qq/QqLTHlelFveneFuzSoIahU+++TI/-Tmp-//ccfThr9E.s:963    .text:0000000000000306 rf_polling_rx_packet
                            *COM*:0000000000000004 rx_ctr
/var/folders/Qq/QqLTHlelFveneFuzSoIahU+++TI/-Tmp-//ccfThr9E.s:1714   .text:0000000000000754 rf_rx_packet
/var/folders/Qq/QqLTHlelFveneFuzSoIahU+++TI/-Tmp-//ccfThr9E.s:1751   .text:0000000000000772 rf_flush_rx_fifo
/var/folders/Qq/QqLTHlelFveneFuzSoIahU+++TI/-Tmp-//ccfThr9E.s:1792   .text:0000000000000790 rf_set_cca_thresh
/var/folders/Qq/QqLTHlelFveneFuzSoIahU+++TI/-Tmp-//ccfThr9E.s:1845   .text:00000000000007c0 rf_test_mode
/var/folders/Qq/QqLTHlelFveneFuzSoIahU+++TI/-Tmp-//ccfThr9E.s:1921   .text:0000000000000816 rf_data_mode
/var/folders/Qq/QqLTHlelFveneFuzSoIahU+++TI/-Tmp-//ccfThr9E.s:1995   .text:0000000000000868 rf_rx_set_serial
/var/folders/Qq/QqLTHlelFveneFuzSoIahU+++TI/-Tmp-//ccfThr9E.s:2050   .text:000000000000089e rf_tx_set_serial
/var/folders/Qq/QqLTHlelFveneFuzSoIahU+++TI/-Tmp-//ccfThr9E.s:2096   .text:00000000000008c6 rf_set_preamble_length
/var/folders/Qq/QqLTHlelFveneFuzSoIahU+++TI/-Tmp-//ccfThr9E.s:2152   .text:0000000000000908 rf_set_cca_mode
/var/folders/Qq/QqLTHlelFveneFuzSoIahU+++TI/-Tmp-//ccfThr9E.s:2212   .text:0000000000000954 rf_carrier_on
/var/folders/Qq/QqLTHlelFveneFuzSoIahU+++TI/-Tmp-//ccfThr9E.s:2242   .text:0000000000000964 rf_carrier_off
/var/folders/Qq/QqLTHlelFveneFuzSoIahU+++TI/-Tmp-//ccfThr9E.s:2272   .text:0000000000000974 __vector_8
/var/folders/Qq/QqLTHlelFveneFuzSoIahU+++TI/-Tmp-//ccfThr9E.s:2900   .text:0000000000000d08 rf_tx_packet
/var/folders/Qq/QqLTHlelFveneFuzSoIahU+++TI/-Tmp-//ccfThr9E.s:3552   .text:000000000000104e rf_tx_tdma_packet
/var/folders/Qq/QqLTHlelFveneFuzSoIahU+++TI/-Tmp-//ccfThr9E.s:4152   .text:0000000000001366 rf_addr_decode_set_my_mac
/var/folders/Qq/QqLTHlelFveneFuzSoIahU+++TI/-Tmp-//ccfThr9E.s:4239   .text:00000000000013dc rf_security_set_key
/var/folders/Qq/QqLTHlelFveneFuzSoIahU+++TI/-Tmp-//ccfThr9E.s:4543   .text:00000000000015b6 rf_power_up
/var/folders/Qq/QqLTHlelFveneFuzSoIahU+++TI/-Tmp-//ccfThr9E.s:4592   .text:00000000000015d2 rf_set_rx
/var/folders/Qq/QqLTHlelFveneFuzSoIahU+++TI/-Tmp-//ccfThr9E.s:4646   .text:0000000000001608 rf_set_channel
/var/folders/Qq/QqLTHlelFveneFuzSoIahU+++TI/-Tmp-//ccfThr9E.s:4671   .text:000000000000160e rf_init
/var/folders/Qq/QqLTHlelFveneFuzSoIahU+++TI/-Tmp-//ccfThr9E.s:4968   .text:00000000000017b4 cc259x_tx
/var/folders/Qq/QqLTHlelFveneFuzSoIahU+++TI/-Tmp-//ccfThr9E.s:4994   .text:00000000000017c6 cc259x_rx
                            *COM*:0000000000000004 _nrk_signal_list
                            *COM*:0000000000000080 nrk_idle_task_stk
                            *COM*:0000000000000002 nrk_kernel_stk_ptr
                            *COM*:0000000000000001 error_task
                            *COM*:0000000000000001 error_num
                            *COM*:0000000000000001 _nrk_prev_timer_val
                            *COM*:0000000000000001 _nrk_time_trigger
                            *COM*:0000000000000002 app_timer0_callback
                            *COM*:0000000000000001 app_timer0_prescale
                            *COM*:0000000000000002 tmp_blah

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
nrk_sem_post
halWait
_nrk_os_timer_get
nrk_high_speed_timer_wait
nrk_spin_wait_us
halRfSetChannel
halRfWaitForCrystalOscillator
NRK_DEBUG_1
nrk_gpio_set
NRK_DEBUG_0
nrk_gpio_clr
